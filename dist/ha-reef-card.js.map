{"version":3,"file":"ha-reef-card.js","sources":["../node_modules/@lit/reactive-element/css-tag.js","../node_modules/@lit/reactive-element/reactive-element.js","../node_modules/lit-html/lit-html.js","../node_modules/lit-element/lit-element.js","../node_modules/@lit/reactive-element/decorators/custom-element.js","../node_modules/@lit/reactive-element/decorators/property.js","../node_modules/@lit/reactive-element/decorators/state.js","../src/translations/myi18n.ts","../src/common.ts","../src/card.styles.ts","../src/devices/base/click_handler.ts","../src/utils/SafeEval.ts","../src/devices/base/element.ts","../src/merge.ts","../src/devices/device.ts","../src/devices/base/dialog.styles.ts","../src/devices/base/click_image.styles.ts","../src/devices/base/dialog.ts","../src/card.ts","../src/editor.ts","../src/devices/base/button.styles.ts","../src/devices/base/button.ts","../src/devices/base/click_image.ts","../src/devices/base/progress_bar.styles.ts","../src/devices/base/progress_bar.ts","../src/devices/base/progress_circle.styles.ts","../src/devices/base/progress_circle.ts","../src/devices/base/messages.styles.ts","../src/devices/base/messages.ts","../src/devices/base/sensor_target.styles.ts","../src/devices/base/sensor.styles.ts","../src/devices/base/sensor.ts","../src/devices/base/sensor_target.ts","../src/devices/base/switch.styles.ts","../src/devices/base/switch.ts","../src/devices/base/index.ts","../src/devices/nodevice.styles.ts","../src/devices/mapping/NODEVICE.ts","../src/devices/nodevice.ts","../src/devices/mapping/RSDOSE4.ts","../src/devices/rsdose.styles.ts","../src/devices/common.styles.ts","../src/devices/rsdose.ts","../src/devices/dosing_queue.styles.ts","../src/devices/dosing_queue.ts","../src/devices/dose_head.styles.ts","../src/devices/dose_head.ts","../src/devices/index.ts","../src/index.ts"],"sourcesContent":["/**\n * @license\n * Copyright 2019 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=globalThis,e=t.ShadowRoot&&(void 0===t.ShadyCSS||t.ShadyCSS.nativeShadow)&&\"adoptedStyleSheets\"in Document.prototype&&\"replace\"in CSSStyleSheet.prototype,s=Symbol(),o=new WeakMap;class n{constructor(t,e,o){if(this._$cssResult$=!0,o!==s)throw Error(\"CSSResult is not constructable. Use `unsafeCSS` or `css` instead.\");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const s=this.t;if(e&&void 0===t){const e=void 0!==s&&1===s.length;e&&(t=o.get(s)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),e&&o.set(s,t))}return t}toString(){return this.cssText}}const r=t=>new n(\"string\"==typeof t?t:t+\"\",void 0,s),i=(t,...e)=>{const o=1===t.length?t[0]:e.reduce(((e,s,o)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if(\"number\"==typeof t)return t;throw Error(\"Value passed to 'css' function must be a 'css' function result: \"+t+\". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.\")})(s)+t[o+1]),t[0]);return new n(o,t,s)},S=(s,o)=>{if(e)s.adoptedStyleSheets=o.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet));else for(const e of o){const o=document.createElement(\"style\"),n=t.litNonce;void 0!==n&&o.setAttribute(\"nonce\",n),o.textContent=e.cssText,s.appendChild(o)}},c=e?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e=\"\";for(const s of t.cssRules)e+=s.cssText;return r(e)})(t):t;export{n as CSSResult,S as adoptStyles,i as css,c as getCompatibleStyle,e as supportsAdoptingStyleSheets,r as unsafeCSS};\n//# sourceMappingURL=css-tag.js.map\n","import{getCompatibleStyle as t,adoptStyles as s}from\"./css-tag.js\";export{CSSResult,css,supportsAdoptingStyleSheets,unsafeCSS}from\"./css-tag.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const{is:i,defineProperty:e,getOwnPropertyDescriptor:h,getOwnPropertyNames:r,getOwnPropertySymbols:o,getPrototypeOf:n}=Object,a=globalThis,c=a.trustedTypes,l=c?c.emptyScript:\"\",p=a.reactiveElementPolyfillSupport,d=(t,s)=>t,u={toAttribute(t,s){switch(s){case Boolean:t=t?l:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,s){let i=t;switch(s){case Boolean:i=null!==t;break;case Number:i=null===t?null:Number(t);break;case Object:case Array:try{i=JSON.parse(t)}catch(t){i=null}}return i}},f=(t,s)=>!i(t,s),b={attribute:!0,type:String,converter:u,reflect:!1,useDefault:!1,hasChanged:f};Symbol.metadata??=Symbol(\"metadata\"),a.litPropertyMetadata??=new WeakMap;class y extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,s=b){if(s.state&&(s.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(t)&&((s=Object.create(s)).wrapped=!0),this.elementProperties.set(t,s),!s.noAccessor){const i=Symbol(),h=this.getPropertyDescriptor(t,i,s);void 0!==h&&e(this.prototype,t,h)}}static getPropertyDescriptor(t,s,i){const{get:e,set:r}=h(this.prototype,t)??{get(){return this[s]},set(t){this[s]=t}};return{get:e,set(s){const h=e?.call(this);r?.call(this,s),this.requestUpdate(t,h,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??b}static _$Ei(){if(this.hasOwnProperty(d(\"elementProperties\")))return;const t=n(this);t.finalize(),void 0!==t.l&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(d(\"finalized\")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(d(\"properties\"))){const t=this.properties,s=[...r(t),...o(t)];for(const i of s)this.createProperty(i,t[i])}const t=this[Symbol.metadata];if(null!==t){const s=litPropertyMetadata.get(t);if(void 0!==s)for(const[t,i]of s)this.elementProperties.set(t,i)}this._$Eh=new Map;for(const[t,s]of this.elementProperties){const i=this._$Eu(t,s);void 0!==i&&this._$Eh.set(i,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(s){const i=[];if(Array.isArray(s)){const e=new Set(s.flat(1/0).reverse());for(const s of e)i.unshift(t(s))}else void 0!==s&&i.push(t(s));return i}static _$Eu(t,s){const i=s.attribute;return!1===i?void 0:\"string\"==typeof i?i:\"string\"==typeof t?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((t=>t(this)))}addController(t){(this._$EO??=new Set).add(t),void 0!==this.renderRoot&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$EO?.delete(t)}_$E_(){const t=new Map,s=this.constructor.elementProperties;for(const i of s.keys())this.hasOwnProperty(i)&&(t.set(i,this[i]),delete this[i]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return s(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((t=>t.hostConnected?.()))}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach((t=>t.hostDisconnected?.()))}attributeChangedCallback(t,s,i){this._$AK(t,i)}_$ET(t,s){const i=this.constructor.elementProperties.get(t),e=this.constructor._$Eu(t,i);if(void 0!==e&&!0===i.reflect){const h=(void 0!==i.converter?.toAttribute?i.converter:u).toAttribute(s,i.type);this._$Em=t,null==h?this.removeAttribute(e):this.setAttribute(e,h),this._$Em=null}}_$AK(t,s){const i=this.constructor,e=i._$Eh.get(t);if(void 0!==e&&this._$Em!==e){const t=i.getPropertyOptions(e),h=\"function\"==typeof t.converter?{fromAttribute:t.converter}:void 0!==t.converter?.fromAttribute?t.converter:u;this._$Em=e;const r=h.fromAttribute(s,t.type);this[e]=r??this._$Ej?.get(e)??r,this._$Em=null}}requestUpdate(t,s,i){if(void 0!==t){const e=this.constructor,h=this[t];if(i??=e.getPropertyOptions(t),!((i.hasChanged??f)(h,s)||i.useDefault&&i.reflect&&h===this._$Ej?.get(t)&&!this.hasAttribute(e._$Eu(t,i))))return;this.C(t,s,i)}!1===this.isUpdatePending&&(this._$ES=this._$EP())}C(t,s,{useDefault:i,reflect:e,wrapped:h},r){i&&!(this._$Ej??=new Map).has(t)&&(this._$Ej.set(t,r??s??this[t]),!0!==h||void 0!==r)||(this._$AL.has(t)||(this.hasUpdated||i||(s=void 0),this._$AL.set(t,s)),!0===e&&this._$Em!==t&&(this._$Eq??=new Set).add(t))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[t,s]of this._$Ep)this[t]=s;this._$Ep=void 0}const t=this.constructor.elementProperties;if(t.size>0)for(const[s,i]of t){const{wrapped:t}=i,e=this[s];!0!==t||this._$AL.has(s)||void 0===e||this.C(s,void 0,i,e)}}let t=!1;const s=this._$AL;try{t=this.shouldUpdate(s),t?(this.willUpdate(s),this._$EO?.forEach((t=>t.hostUpdate?.())),this.update(s)):this._$EM()}catch(s){throw t=!1,this._$EM(),s}t&&this._$AE(s)}willUpdate(t){}_$AE(t){this._$EO?.forEach((t=>t.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Eq&&=this._$Eq.forEach((t=>this._$ET(t,this[t]))),this._$EM()}updated(t){}firstUpdated(t){}}y.elementStyles=[],y.shadowRootOptions={mode:\"open\"},y[d(\"elementProperties\")]=new Map,y[d(\"finalized\")]=new Map,p?.({ReactiveElement:y}),(a.reactiveElementVersions??=[]).push(\"2.1.1\");export{y as ReactiveElement,s as adoptStyles,u as defaultConverter,t as getCompatibleStyle,f as notEqual};\n//# sourceMappingURL=reactive-element.js.map\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=globalThis,i=t.trustedTypes,s=i?i.createPolicy(\"lit-html\",{createHTML:t=>t}):void 0,e=\"$lit$\",h=`lit$${Math.random().toFixed(9).slice(2)}$`,o=\"?\"+h,n=`<${o}>`,r=document,l=()=>r.createComment(\"\"),c=t=>null===t||\"object\"!=typeof t&&\"function\"!=typeof t,a=Array.isArray,u=t=>a(t)||\"function\"==typeof t?.[Symbol.iterator],d=\"[ \\t\\n\\f\\r]\",f=/<(?:(!--|\\/[^a-zA-Z])|(\\/?[a-zA-Z][^>\\s]*)|(\\/?$))/g,v=/-->/g,_=/>/g,m=RegExp(`>|${d}(?:([^\\\\s\"'>=/]+)(${d}*=${d}*(?:[^ \\t\\n\\f\\r\"'\\`<>=]|(\"|')|))|$)`,\"g\"),p=/'/g,g=/\"/g,$=/^(?:script|style|textarea|title)$/i,y=t=>(i,...s)=>({_$litType$:t,strings:i,values:s}),x=y(1),b=y(2),w=y(3),T=Symbol.for(\"lit-noChange\"),E=Symbol.for(\"lit-nothing\"),A=new WeakMap,C=r.createTreeWalker(r,129);function P(t,i){if(!a(t)||!t.hasOwnProperty(\"raw\"))throw Error(\"invalid template strings array\");return void 0!==s?s.createHTML(i):i}const V=(t,i)=>{const s=t.length-1,o=[];let r,l=2===i?\"<svg>\":3===i?\"<math>\":\"\",c=f;for(let i=0;i<s;i++){const s=t[i];let a,u,d=-1,y=0;for(;y<s.length&&(c.lastIndex=y,u=c.exec(s),null!==u);)y=c.lastIndex,c===f?\"!--\"===u[1]?c=v:void 0!==u[1]?c=_:void 0!==u[2]?($.test(u[2])&&(r=RegExp(\"</\"+u[2],\"g\")),c=m):void 0!==u[3]&&(c=m):c===m?\">\"===u[0]?(c=r??f,d=-1):void 0===u[1]?d=-2:(d=c.lastIndex-u[2].length,a=u[1],c=void 0===u[3]?m:'\"'===u[3]?g:p):c===g||c===p?c=m:c===v||c===_?c=f:(c=m,r=void 0);const x=c===m&&t[i+1].startsWith(\"/>\")?\" \":\"\";l+=c===f?s+n:d>=0?(o.push(a),s.slice(0,d)+e+s.slice(d)+h+x):s+h+(-2===d?i:x)}return[P(t,l+(t[s]||\"<?>\")+(2===i?\"</svg>\":3===i?\"</math>\":\"\")),o]};class N{constructor({strings:t,_$litType$:s},n){let r;this.parts=[];let c=0,a=0;const u=t.length-1,d=this.parts,[f,v]=V(t,s);if(this.el=N.createElement(f,n),C.currentNode=this.el.content,2===s||3===s){const t=this.el.content.firstChild;t.replaceWith(...t.childNodes)}for(;null!==(r=C.nextNode())&&d.length<u;){if(1===r.nodeType){if(r.hasAttributes())for(const t of r.getAttributeNames())if(t.endsWith(e)){const i=v[a++],s=r.getAttribute(t).split(h),e=/([.?@])?(.*)/.exec(i);d.push({type:1,index:c,name:e[2],strings:s,ctor:\".\"===e[1]?H:\"?\"===e[1]?I:\"@\"===e[1]?L:k}),r.removeAttribute(t)}else t.startsWith(h)&&(d.push({type:6,index:c}),r.removeAttribute(t));if($.test(r.tagName)){const t=r.textContent.split(h),s=t.length-1;if(s>0){r.textContent=i?i.emptyScript:\"\";for(let i=0;i<s;i++)r.append(t[i],l()),C.nextNode(),d.push({type:2,index:++c});r.append(t[s],l())}}}else if(8===r.nodeType)if(r.data===o)d.push({type:2,index:c});else{let t=-1;for(;-1!==(t=r.data.indexOf(h,t+1));)d.push({type:7,index:c}),t+=h.length-1}c++}}static createElement(t,i){const s=r.createElement(\"template\");return s.innerHTML=t,s}}function S(t,i,s=t,e){if(i===T)return i;let h=void 0!==e?s._$Co?.[e]:s._$Cl;const o=c(i)?void 0:i._$litDirective$;return h?.constructor!==o&&(h?._$AO?.(!1),void 0===o?h=void 0:(h=new o(t),h._$AT(t,s,e)),void 0!==e?(s._$Co??=[])[e]=h:s._$Cl=h),void 0!==h&&(i=S(t,h._$AS(t,i.values),h,e)),i}class M{constructor(t,i){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=i}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:i},parts:s}=this._$AD,e=(t?.creationScope??r).importNode(i,!0);C.currentNode=e;let h=C.nextNode(),o=0,n=0,l=s[0];for(;void 0!==l;){if(o===l.index){let i;2===l.type?i=new R(h,h.nextSibling,this,t):1===l.type?i=new l.ctor(h,l.name,l.strings,this,t):6===l.type&&(i=new z(h,this,t)),this._$AV.push(i),l=s[++n]}o!==l?.index&&(h=C.nextNode(),o++)}return C.currentNode=r,e}p(t){let i=0;for(const s of this._$AV)void 0!==s&&(void 0!==s.strings?(s._$AI(t,s,i),i+=s.strings.length-2):s._$AI(t[i])),i++}}class R{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,i,s,e){this.type=2,this._$AH=E,this._$AN=void 0,this._$AA=t,this._$AB=i,this._$AM=s,this.options=e,this._$Cv=e?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const i=this._$AM;return void 0!==i&&11===t?.nodeType&&(t=i.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,i=this){t=S(this,t,i),c(t)?t===E||null==t||\"\"===t?(this._$AH!==E&&this._$AR(),this._$AH=E):t!==this._$AH&&t!==T&&this._(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.T(t):u(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==E&&c(this._$AH)?this._$AA.nextSibling.data=t:this.T(r.createTextNode(t)),this._$AH=t}$(t){const{values:i,_$litType$:s}=t,e=\"number\"==typeof s?this._$AC(t):(void 0===s.el&&(s.el=N.createElement(P(s.h,s.h[0]),this.options)),s);if(this._$AH?._$AD===e)this._$AH.p(i);else{const t=new M(e,this),s=t.u(this.options);t.p(i),this.T(s),this._$AH=t}}_$AC(t){let i=A.get(t.strings);return void 0===i&&A.set(t.strings,i=new N(t)),i}k(t){a(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let s,e=0;for(const h of t)e===i.length?i.push(s=new R(this.O(l()),this.O(l()),this,this.options)):s=i[e],s._$AI(h),e++;e<i.length&&(this._$AR(s&&s._$AB.nextSibling,e),i.length=e)}_$AR(t=this._$AA.nextSibling,i){for(this._$AP?.(!1,!0,i);t!==this._$AB;){const i=t.nextSibling;t.remove(),t=i}}setConnected(t){void 0===this._$AM&&(this._$Cv=t,this._$AP?.(t))}}class k{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,i,s,e,h){this.type=1,this._$AH=E,this._$AN=void 0,this.element=t,this.name=i,this._$AM=e,this.options=h,s.length>2||\"\"!==s[0]||\"\"!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=E}_$AI(t,i=this,s,e){const h=this.strings;let o=!1;if(void 0===h)t=S(this,t,i,0),o=!c(t)||t!==this._$AH&&t!==T,o&&(this._$AH=t);else{const e=t;let n,r;for(t=h[0],n=0;n<h.length-1;n++)r=S(this,e[s+n],i,n),r===T&&(r=this._$AH[n]),o||=!c(r)||r!==this._$AH[n],r===E?t=E:t!==E&&(t+=(r??\"\")+h[n+1]),this._$AH[n]=r}o&&!e&&this.j(t)}j(t){t===E?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??\"\")}}class H extends k{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===E?void 0:t}}class I extends k{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==E)}}class L extends k{constructor(t,i,s,e,h){super(t,i,s,e,h),this.type=5}_$AI(t,i=this){if((t=S(this,t,i,0)??E)===T)return;const s=this._$AH,e=t===E&&s!==E||t.capture!==s.capture||t.once!==s.once||t.passive!==s.passive,h=t!==E&&(s===E||e);e&&this.element.removeEventListener(this.name,this,s),h&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){\"function\"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class z{constructor(t,i,s){this.element=t,this.type=6,this._$AN=void 0,this._$AM=i,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(t){S(this,t)}}const Z={M:e,P:h,A:o,C:1,L:V,R:M,D:u,V:S,I:R,H:k,N:I,U:L,B:H,F:z},j=t.litHtmlPolyfillSupport;j?.(N,R),(t.litHtmlVersions??=[]).push(\"3.3.1\");const B=(t,i,s)=>{const e=s?.renderBefore??i;let h=e._$litPart$;if(void 0===h){const t=s?.renderBefore??null;e._$litPart$=h=new R(i.insertBefore(l(),t),t,void 0,s??{})}return h._$AI(t),h};export{Z as _$LH,x as html,w as mathml,T as noChange,E as nothing,B as render,b as svg};\n//# sourceMappingURL=lit-html.js.map\n","import{ReactiveElement as t}from\"@lit/reactive-element\";export*from\"@lit/reactive-element\";import{render as e,noChange as r}from\"lit-html\";export*from\"lit-html\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const s=globalThis;class i extends t{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){const r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=e(r,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return r}}i._$litElement$=!0,i[\"finalized\"]=!0,s.litElementHydrateSupport?.({LitElement:i});const o=s.litElementPolyfillSupport;o?.({LitElement:i});const n={_$AK:(t,e,r)=>{t._$AK(e,r)},_$AL:t=>t._$AL};(s.litElementVersions??=[]).push(\"4.2.1\");export{i as LitElement,n as _$LE};\n//# sourceMappingURL=lit-element.js.map\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=t=>(e,o)=>{void 0!==o?o.addInitializer((()=>{customElements.define(t,e)})):customElements.define(t,e)};export{t as customElement};\n//# sourceMappingURL=custom-element.js.map\n","import{defaultConverter as t,notEqual as e}from\"../reactive-element.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const o={attribute:!0,type:String,converter:t,reflect:!1,hasChanged:e},r=(t=o,e,r)=>{const{kind:n,metadata:i}=r;let s=globalThis.litPropertyMetadata.get(i);if(void 0===s&&globalThis.litPropertyMetadata.set(i,s=new Map),\"setter\"===n&&((t=Object.create(t)).wrapped=!0),s.set(r.name,t),\"accessor\"===n){const{name:o}=r;return{set(r){const n=e.get.call(this);e.set.call(this,r),this.requestUpdate(o,n,t)},init(e){return void 0!==e&&this.C(o,void 0,t,e),e}}}if(\"setter\"===n){const{name:o}=r;return function(r){const n=this[o];e.call(this,r),this.requestUpdate(o,n,t)}}throw Error(\"Unsupported decorator location: \"+n)};function n(t){return(e,o)=>\"object\"==typeof o?r(t,e,o):((t,e,o)=>{const r=e.hasOwnProperty(o);return e.constructor.createProperty(o,t),r?Object.getOwnPropertyDescriptor(e,o):void 0})(t,e,o)}export{n as property,r as standardProperty};\n//# sourceMappingURL=property.js.map\n","import{property as t}from\"./property.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */function r(r){return t({...r,state:!0,attribute:!1})}export{r as state};\n//# sourceMappingURL=state.js.map\n","import type {\n  LanguageDictionary,\n  SupportedLanguage,\n  I18nConfig,\n  NestedTranslation\n} from './types';\n\n// Import synchrone des dictionarys\nimport en from './locales/en.json';\nimport fr from './locales/fr.json';\n\nclass MyI18n {\n  private fallbackLanguage: SupportedLanguage;\n  private currentLanguage: SupportedLanguage;\n  private dictionaries: Map<SupportedLanguage, LanguageDictionary>;\n  private supportedLanguages: SupportedLanguage[];\n\n  constructor(config: I18nConfig = {}) {\n    this.fallbackLanguage = config.fallbackLanguage || 'en';\n    this.supportedLanguages = config.supportedLanguages || [\n      'en', 'fr'\n    ];\n\n    this.dictionaries = new Map<SupportedLanguage, LanguageDictionary>([\n      ['en', en as LanguageDictionary],\n      ['fr', fr as LanguageDictionary],\n    ]);\n\n    const homeAssistant = document.querySelector('home-assistant');\n    const detectedLang = homeAssistant?.hass?.selectedLanguage ||\n      homeAssistant?.hass?.language ||\n      config.defaultLanguage ||\n      this.fallbackLanguage;\n\n    this.currentLanguage = this.normalizeLanguage(detectedLang);\n\n    console.debug(`MyI18n initialized with language: ${this.currentLanguage}`);\n  }\n\n  private normalizeLanguage(lang: string): SupportedLanguage {\n    const normalized = lang.toLowerCase().split('-')[0] as SupportedLanguage;\n\n    if (this.supportedLanguages.includes(normalized)) {\n      return normalized;\n    }\n\n    console.warn(`Language '${lang}' not supported, falling back to '${this.fallbackLanguage}'`);\n    return this.fallbackLanguage;\n  }\n\n  private getNestedValue(obj: NestedTranslation, path: string): string | null {\n    const keys = path.split('.');\n    let current: any = obj;\n\n    for (const key of keys) {\n      if (current && typeof current === 'object' && key in current) {\n        current = current[key];\n      } else {\n        return null;\n      }\n    }\n\n    return typeof current === 'string' ? current : null;\n  }\n\n  _(key: string, params?: Record<string, string | number>): string {\n    let result: string | null = null;\n\n    const currentDict = this.dictionaries.get(this.currentLanguage);\n    if (currentDict) {\n      result = this.getNestedValue(currentDict, key);\n    }\n\n    if (result === null && this.currentLanguage !== this.fallbackLanguage) {\n      const fallbackDict = this.dictionaries.get(this.fallbackLanguage);\n      if (fallbackDict) {\n        result = this.getNestedValue(fallbackDict, key);\n      }\n    }\n\n    if (result === null) {\n      const errorPrefix = this.dictionaries.get(this.fallbackLanguage)\n        ? this.getNestedValue(this.dictionaries.get(this.fallbackLanguage)!, 'canNotFindTranslation')\n        : \"Translation not found: \";\n      result = (errorPrefix || \"Translation not found: \") + key;\n    }\n\n    if (params) {\n      result = this.replaceParams(result, params);\n    }\n\n    return result;\n  }\n\n  private replaceParams(text: string, params: Record<string, string | number>): string {\n    return text.replace(/\\{(\\w+)\\}/g, (match, key) => {\n      return key in params ? String(params[key]) : match;\n    });\n  }\n\n  setLanguage(lang: string): void {\n    const normalizedLang = this.normalizeLanguage(lang);\n\n    if (normalizedLang === this.currentLanguage) {\n      return;\n    }\n\n    if (!this.dictionaries.has(normalizedLang)) {\n      console.error(`Language '${normalizedLang}' is not loaded`);\n      return;\n    }\n\n    this.currentLanguage = normalizedLang;\n    console.debug(`Language changesd to '${normalizedLang}'`);\n\n    window.dispatchEvent(new CustomEvent('i18n-language-changesd', {\n      detail: { language: normalizedLang }\n    }));\n  }\n\n  getLanguage(): SupportedLanguage {\n    return this.currentLanguage;\n  }\n\n  getFallbackLanguage(): SupportedLanguage {\n    return this.fallbackLanguage;\n  }\n\n  hasTranslation(key: string, lang?: SupportedLanguage): boolean {\n    const targetLang = lang || this.currentLanguage;\n    const dict = this.dictionaries.get(targetLang);\n\n    if (!dict) {\n      return false;\n    }\n\n    return this.getNestedValue(dict, key) !== null;\n  }\n\n  getSupportedLanguages(): SupportedLanguage[] {\n    return [...this.supportedLanguages];\n  }\n\n  getLoadedLanguages(): SupportedLanguage[] {\n    return Array.from(this.dictionaries.keys());\n  }\n\n  getAvailableKeys(lang?: SupportedLanguage): string[] {\n    const targetLang = lang || this.currentLanguage;\n    const dict = this.dictionaries.get(targetLang);\n\n    if (!dict) {\n      return [];\n    }\n\n    return this.flattenKeys(dict);\n  }\n\n  private flattenKeys(obj: NestedTranslation, prefix = ''): string[] {\n    const keys: string[] = [];\n\n    for (const [key, value] of Object.entries(obj)) {\n      const fullKey = prefix ? `${prefix}.${key}` : key;\n\n      if (typeof value === 'string') {\n        keys.push(fullKey);\n      } else if (typeof value === 'object' && value !== null) {\n        keys.push(...this.flattenKeys(value as NestedTranslation, fullKey));\n      }\n    }\n\n    return keys;\n  }\n\n  getDictionary(lang?: SupportedLanguage): LanguageDictionary | undefined {\n    const targetLang = lang || this.currentLanguage;\n    return this.dictionaries.get(targetLang);\n  }\n\n  addDictionary(lang: SupportedLanguage, dictionary: LanguageDictionary): void {\n    this.dictionaries.set(lang, dictionary);\n    if (!this.supportedLanguages.includes(lang)) {\n      this.supportedLanguages.push(lang);\n    }\n    console.debug(`Dictionary for '${lang}' added/updated`);\n  }\n\n  mergeDictionary(lang: SupportedLanguage, partialDict: Partial<LanguageDictionary>): void {\n    const existingDict = this.dictionaries.get(lang);\n    if (existingDict) {\n      const merged: LanguageDictionary = { ...existingDict, ...partialDict } as LanguageDictionary;\n      this.dictionaries.set(lang, merged);\n    } else {\n      this.dictionaries.set(lang, partialDict as LanguageDictionary);\n    }\n    console.debug(`Dictionary for '${lang}' merged`);\n  }\n}\n\nconst i18n = new MyI18n();\nexport default i18n;\nexport { MyI18n };\n","import i18n from \"./translations/myi18n\";\n\ninterface HassDevice {\n  identifiers: Array<string | [string, string]>;\n  primary_config_entry: string;\n  name: string;\n  model?: string;\n  [key: string]: any;\n}\n\ninterface HassConfig {\n  devices: {\n    [device_id: string]: HassDevice;\n  };\n  [key: string]: any;\n}\n\ninterface DeviceInfo {\n  name: string;\n  elements: HassDevice[];\n}\n\ninterface MainDevice {\n  value: string;\n  text: string;\n}\n\nexport default class DeviceList {\n  private _hass: HassConfig;\n  public main_devices: MainDevice[];\n  public devices: { [key: string]: DeviceInfo };\n\n  constructor(hass: HassConfig) {\n    this._hass = hass;\n    this.main_devices = [];\n    this.devices = {};\n    this.init_devices();\n  }\n\n  private device_compare(a: MainDevice, b: MainDevice): number {\n    if (a.text < b.text) {\n      return -1;\n    } else if (a.text > b.text) {\n      return 1;\n    }\n    return 0;\n  }\n\n  get_by_name(name: string): DeviceInfo | undefined {\n    for (const id of this.main_devices) {\n      if (id.text === name) {\n        return this.devices[id.value];\n      }\n    }\n    return undefined;\n  }\n\n  private init_devices(): void {\n    for (const device_id in this._hass.devices) {\n      const dev = this._hass.devices[device_id];\n      if (!dev) continue;\n      \n      const dev_id = dev.identifiers[0];\n      if (!dev_id) continue;\n\n      if (Array.isArray(dev_id) && dev_id[0] === 'redsea') {\n        // Get only main device, not sub or cloud\n\tif (\n          !dev_id[1].includes(\"_head_\") &&\n            !dev_id[1].includes(\"_pump\") &&\n            dev.model !== 'ReefBeat'\n        ) {\n          this.main_devices.push({\n            value: dev.primary_config_entry,\n            text: dev.name\n          });\n        }\n\n        if (!Object.prototype.hasOwnProperty.call(this.devices, dev.primary_config_entry)) {\n          this.devices[dev.primary_config_entry] = {\n            name: dev.name,\n            elements: [dev]\n          };\n        } else {\n          this.devices[dev.primary_config_entry]?.elements.push(dev);\n          // Changes main device name with main device\n          if (dev_id.length === 2 && this.devices[dev.primary_config_entry]) {\n            this.devices[dev.primary_config_entry]!.name = dev.name;\n          }\n        }\n      }\n    }\n    this.main_devices.sort(this.device_compare);\n  }\n}\n\nexport function hexToRgb(hex: string): string | null {\n  const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n\n  if (!result || !result[1] || !result[2] || !result[3]) {\n    return null;\n  }\n\n  const rgb = `${parseInt(result[1], 16)},${parseInt(result[2], 16)},${parseInt(result[3], 16)}`;\n  return rgb;\n}\n\nexport function rgbToHex(orig: string): string {\n  const regex_trim = /[^#0-9a-f\\.\\(\\)rgba]+/gim;\n  const color = orig.replace(regex_trim, ' ').trim();\n\n  const regex_hex = /#(([0-9a-f]{1})([0-9a-f]{1})([0-9a-f]{1}))|(([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2}))/gi;\n  if (regex_hex.exec(color)) {\n    return color;\n  }\n  const regex_rgb = /rgba?\\([\\t\\s]*([0-9]{1,3})[\\t\\s]*[, ][\\t\\s]*([0-9]{1,3})[\\t\\s]*[, ][\\t\\s]*([0-9]{1,3})[\\t\\s]*([,\\/][\\t\\s]*[0-9\\.]{1,})?[\\t\\s]*\\);?/gim;\n  const matches = regex_rgb.exec(orig);\n\n  if (matches && matches[1] && matches[2] && matches[3]) {\n    const hex =\n      '#' +\n      (parseInt(matches[1]) | 1 << 8).toString(16).slice(1) +\n      (parseInt(matches[2]) | 1 << 8).toString(16).slice(1) +\n      (parseInt(matches[3]) | 1 << 8).toString(16).slice(1);\n    return hex;\n  } else {\n    return orig;\n  }\n}\n\nexport const off_color: string = \"150,150,150\";\nexport const button_color: string = \"0,60,78\";\n\nexport function toTime(time: number): string {\n  const seconds = time % 60;\n  const minutes = ((time - seconds) / 60) % 60;\n  const hours = (time - seconds - minutes * 60) / 3600;\n\n  return String(hours).padStart(2, '0') + \":\" +\n    String(minutes).padStart(2, '0') + \":\" +\n    String(seconds).padStart(2, '0');\n}\n\nfunction timeToString(time: number): string {\n  return String(Math.floor(time / 60)).padStart(2, '0') + ':' +\n    String(Math.floor(time % 60)).padStart(2, \"0\");\n}\n\nexport function stringToTime(str: string): number {\n  const s_time = str.split(\":\");\n  if (s_time.length < 2 || !s_time[0] || !s_time[1]) {\n    return 0;\n  }\n  return parseInt(s_time[0]) * 60 + parseInt(s_time[1]);\n}\n\nexport function create_select(\n  _shadowRoot: Document | ShadowRoot,\n  id: string,\n  options: string[],\n  selected: string | null = null,\n  translation: boolean = true,\n  suffix: string = '',\n  id_suffix: number = 1\n): HTMLDivElement {\n  const div = document.createElement('div');\n  const label = document.createElement('label');\n\n  label.htmlFor = id;\n  label.innerHTML = i18n._(id);\n\n  const node = document.createElement(\"select\");\n  node.id = id + '_' + id_suffix;\n\n  for (const option of options) {\n    const opt = document.createElement('option');\n    opt.value = option;\n\n    if (translation) {\n      opt.innerHTML = i18n._(option) + suffix;\n    } else {\n      opt.innerHTML = option + suffix;\n    }\n\n    if (selected !== null && selected === option) {\n      opt.selected = true;\n    }\n\n    node.appendChild(opt);\n  }\n\n  div.appendChild(label);\n  div.appendChild(node);\n\n  return div;\n}\n\nexport function create_hour(\n  _shadowRoot: Document | ShadowRoot,\n  id: string,\n  hour: number = 0,\n  id_suffix: number = 1\n): HTMLDivElement {\n  const div = document.createElement('div');\n  const label = document.createElement('label');\n\n  label.htmlFor = id;\n  label.innerHTML = i18n._(id);\n\n  const node = document.createElement(\"input\");\n  node.type = \"time\";\n  node.id = id + '_' + id_suffix;\n  node.value = timeToString(hour);\n\n  div.appendChild(label);\n  div.appendChild(node);\n\n  return div;\n}\n","import { css } from 'lit';\n\nexport default css`\n`;\n\n","type ClickHandlers = {\n  onClick?: (event: PointerEvent) => void;\n  onDoubleClick?: (event: PointerEvent) => void;\n  onHold?: (event: PointerEvent) => void;\n};\n\nexport function attachClickHandlers(\n  element: HTMLElement,\n  handlers: ClickHandlers,\n  options?: {\n    holdDelay?: number;        // durée pour hold (ms)\n    doubleClickDelay?: number; // délai double click (ms)\n  }\n) {\n  const holdDelay = options?.holdDelay ?? 500;\n  const doubleClickDelay = options?.doubleClickDelay ?? 250;\n\n  let holdTimeout: number | null = null;\n  let clickTimeout: number | null = null;\n  let clickCount = 0;\n  let holdTriggered = false;\n\n  function clearHold() {\n    if (holdTimeout !== null) {\n      clearTimeout(holdTimeout);\n      holdTimeout = null;\n    }\n  }\n\n  function clearClick() {\n    if (clickTimeout !== null) {\n      clearTimeout(clickTimeout);\n      clickTimeout = null;\n    }\n  }\n\n  element.addEventListener(\"contextmenu\", (event: Event) => {\n    event.preventDefault();\n  });\n  \n  element.addEventListener(\"pointerdown\", (event) => {\n    holdTriggered = false;\n\n    holdTimeout = window.setTimeout(() => {\n      holdTriggered = true;\n      handlers.onHold?.(event);\n    }, holdDelay);\n  });\n\n  element.addEventListener(\"pointerup\", (event) => {\n    clearHold();\n\n    // Si hold déclenché → on ignore click/double click\n    if (holdTriggered) return;\n\n    clickCount++;\n\n    if (clickCount === 1) {\n      clickTimeout = window.setTimeout(() => {\n        handlers.onClick?.(event);\n        clickCount = 0;\n      }, doubleClickDelay);\n    }\n\n    if (clickCount === 2) {\n      clearClick();\n      handlers.onDoubleClick?.(event);\n      clickCount = 0;\n    }\n  });\n\n  element.addEventListener(\"pointerleave\", () => {\n    clearHold();\n  });\n}\n","/**\n * SafeEval - Évaluateur d'expressions sécurisé\n * \n * Remplace eval() de manière sécurisée pour évaluer des expressions\n * dans un contexte contrôlé.\n * \n * Supporte:\n * - Opérations arithmétiques: +, -, *, /, %, **\n * - Comparaisons: ==, !=, <, >, <=, >=, ===, !==\n * - Opérateurs booléens: &&, ||, !\n * - Ternaire: condition ? valTrue : valFalse\n * - Traductions: i18n._('key') ou ${i18n._('key')}\n * - Accès aux propriétés: obj.prop, obj['prop'], obj.nested.prop\n * - Fonctions: Math.round(), Math.floor(), parseFloat(), etc.\n * - Templates: ${expression}\n */\n\nimport i18n from '../translations/myi18n';\n\nexport interface SafeEvalContext {\n  [key: string]: any;\n}\n\nexport class SafeEval {\n  private context: SafeEvalContext;\n  private allowedFunctions: Set<string>;\n\n  constructor(context: SafeEvalContext = {}) {\n    this.context = {\n      ...context,\n      i18n: i18n,\n      iconv: i18n,\n      Math: Math,\n      parseFloat: parseFloat,\n      parseInt: parseInt,\n      Number: Number,\n      String: String,\n      Boolean: Boolean,\n      Array: Array,\n      Object: Object,\n      Date: Date,\n      JSON: JSON,\n    };\n\n    // Liste blanche des fonctions autorisées\n    this.allowedFunctions = new Set([\n      'Math.round', 'Math.floor', 'Math.ceil', 'Math.abs',\n      'Math.min', 'Math.max', 'Math.pow', 'Math.sqrt',\n      'parseFloat', 'parseInt', 'Number', 'String',\n      'toFixed', 'toString', 'toLowerCase', 'toUpperCase',\n      'trim', 'split', 'join', 'slice', 'substring',\n    ]);\n  }\n\n  /**\n   * Évalue une expression dans le contexte\n   */\n  public evaluate(expression: string | undefined | null): any {\n    if (!expression || typeof expression !== 'string') {\n      return expression;\n    }\n\n    try {\n      \n      // Si contient des templates ${...}, les traiter\n      if (expression.includes('${')) {\n        const processed = this.processTemplates(expression);\n        \n        // Si après traitement c'est une simple valeur, la retourner\n        if (this.isSimpleValue(processed)) {\n          const result = this.parseSimpleValue(processed);\n          return result;\n        }\n        \n        return processed;\n      }\n\n      // Pas de template ${...}\n      \n      // Vérifier si c'est une valeur simple\n      if (this.isSimpleValue(expression)) {\n        const result = this.parseSimpleValue(expression);\n        return result;\n      }\n\n      // Sinon, évaluer comme expression\n      const result = this.evaluateExpression(expression);\n      return result;\n    } catch (error) {\n      console.error('SafeEval error:', error, 'Expression:', expression);\n      // Ne pas retourner la string ! Retourner undefined pour éviter des boolean trompeurs\n      return undefined;\n    }\n  }\n\n  /**\n   * Traite les templates ${...}\n   * Les i18n._() doivent être à l'intérieur des ${...}\n   */\n  private processTemplates(text: string): string {\n    // Si pas de ${}, retourner tel quel\n    if (!text.includes('${')) {\n      return text;\n    }\n\n    return text.replace(/\\$\\{([^}]+)\\}/g, (match, expression) => {\n      try {\n        const trimmed = expression.trim();\n        \n        // D'abord traiter les i18n._() dans l'expression\n        const processedExpr = this.processTranslationsInExpression(trimmed);\n        \n        const result = this.evaluateExpression(processedExpr);\n        return result !== undefined && result !== null ? String(result) : '';\n      } catch (error) {\n        return match;\n      }\n    });\n  }\n\n  /**\n   * Traite les templates ${...} dans une expression JavaScript\n   * Préserve les types en ajoutant des quotes pour les strings\n   */\n  private processTemplatesForExpression(expression: string): string {\n    // Si pas de ${}, retourner tel quel\n    if (!expression.includes('${')) {\n      return expression;\n    }\n\n    return expression.replace(/\\$\\{([^}]+)\\}/g, (match, innerExpr) => {\n      try {\n        const trimmed = innerExpr.trim();\n        \n        // D'abord traiter les i18n._() dans l'expression\n        const processedExpr = this.processTranslationsInExpression(trimmed);\n        \n        const result = this.evaluateExpression(processedExpr);\n        \n        // Convertir le résultat en représentation JavaScript valide\n        if (result === undefined || result === null) {\n          return String(result);\n        }\n        \n        // Si c'est une string, ajouter des quotes\n        if (typeof result === 'string') {\n          return `'${result.replace(/'/g, \"\\\\'\")}'`; // Échapper les quotes\n        }\n        \n        // Si c'est un number ou boolean, convertir directement\n        if (typeof result === 'number' || typeof result === 'boolean') {\n          return String(result);\n        }\n        \n        // Pour les autres types, convertir en JSON\n        return JSON.stringify(result);\n      } catch (error) {\n        return match;\n      }\n    });\n  }\n\n  /**\n   * Traite les traductions i18n._() dans une expression\n   */\n  private processTranslationsInExpression(expression: string): string {\n    // Remplacer i18n._('key') ou iconv._('key') par la traduction\n    return expression.replace(\n      /(i18n|iconv)\\._\\(\\s*['\"]([^'\"]+)['\"]\\s*\\)/g,\n      (match, obj, key) => {\n        try {\n          const translation = i18n._(key);\n          // Retourner la traduction entre quotes pour l'évaluation\n          return `\"${translation}\"`;\n        } catch (error) {\n          return `\"${key}\"`;\n        }\n      }\n    );\n  }\n\n  /**\n   * Vérifie si c'est une valeur simple (pas besoin d'évaluation)\n   */\n  private isSimpleValue(value: string): boolean {\n    const trimmed = value.trim();\n    \n    // Nombre\n    if (/^-?\\d+(\\.\\d+)?$/.test(trimmed)) {\n      return true;\n    }\n\n    // String entre quotes\n    if (/^['\"].*['\"]$/.test(trimmed)) {\n      return true;\n    }\n\n    // Boolean\n    if (trimmed === 'true' || trimmed === 'false') {\n      return true;\n    }\n\n    // null ou undefined\n    if (trimmed === 'null' || trimmed === 'undefined') {\n      return true;\n    }\n\n    return false;\n  }\n\n  /**\n   * Évalue une expression JavaScript\n   */\n  private evaluateExpression(expression: string): any {\n    const trimmed = expression.trim();\n\n    // Valeur simple\n    if (this.isSimpleValue(trimmed)) {\n      return this.parseSimpleValue(trimmed);\n    }\n\n    // Variable simple (ex: \"myVar\")\n    if (/^[a-zA-Z_$][a-zA-Z0-9_$]*$/.test(trimmed)) {\n      return this.getNestedProperty(this.context, trimmed);\n    }\n\n    // Propriété imbriquée (ex: \"obj.prop.nested\")\n    if (/^[a-zA-Z_$][a-zA-Z0-9_$.[\\]'\"]*$/.test(trimmed) && !this.containsOperator(trimmed)) {\n      return this.getNestedProperty(this.context, trimmed);\n    }\n\n    // Expression complexe - utiliser Function\n    return this.evaluateComplexExpression(trimmed);\n  }\n\n  /**\n   * Parse une valeur simple\n   */\n  private parseSimpleValue(value: string): any {\n    const trimmed = value.trim();\n\n    // Nombre\n    if (/^-?\\d+(\\.\\d+)?$/.test(trimmed)) {\n      return parseFloat(trimmed);\n    }\n\n    // String\n    if (/^['\"].*['\"]$/.test(trimmed)) {\n      return trimmed.slice(1, -1);\n    }\n\n    // Boolean\n    if (trimmed === 'true') return true;\n    if (trimmed === 'false') return false;\n\n    // null\n    if (trimmed === 'null') return null;\n    if (trimmed === 'undefined') return undefined;\n\n    return value;\n  }\n\n  /**\n   * Vérifie si l'expression contient des opérateurs\n   */\n  private containsOperator(expression: string): boolean {\n    // Exclure les points des propriétés\n    const operators = [\n      '+', '-', '*', '/', '%', '**',\n      '==', '!=', '===', '!==',\n      '<', '>', '<=', '>=',\n      '&&', '||', '!',\n      '?', ':',\n      '(', ')'\n    ];\n\n    for (const op of operators) {\n      if (expression.includes(op)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  /**\n   * Récupère une propriété imbriquée\n   */\n  private getNestedProperty(obj: any, path: string): any {\n    if (!path) return undefined;\n\n    // Gérer les accès avec crochets: obj['prop']\n    path = path.replace(/\\[['\"]([^'\"]+)['\"]\\]/g, '.$1');\n    \n    const parts = path.split('.');\n    let current = obj;\n\n    for (const part of parts) {\n      if (current === null || current === undefined) {\n        return undefined;\n      }\n      current = current[part];\n    }\n\n    return current;\n  }\n\n  /**\n   * Évalue une expression complexe avec Function\n   */\n  private evaluateComplexExpression(expression: string): any {\n    try {\n      // Créer une fonction avec les variables du contexte\n      const contextKeys = Object.keys(this.context);\n      const contextValues = Object.values(this.context);\n\n      // Créer la fonction\n      const func = new Function(\n        ...contextKeys,\n        `\"use strict\"; return (${expression});`\n      );\n\n      // Exécuter avec les valeurs du contexte\n      const result = func(...contextValues);\n      return result;\n    } catch (error) {\n      console.error('Complex expression evaluation error:', expression, error);\n      throw error;\n    }\n  }\n\n  /**\n   * Ajoute ou met à jour une variable dans le contexte\n   */\n  public setContext(key: string, value: any): void {\n    this.context[key] = value;\n  }\n\n  /**\n   * Ajoute plusieurs variables au contexte\n   */\n  public setContextBatch(context: SafeEvalContext): void {\n    Object.assign(this.context, context);\n  }\n\n  /**\n   * Récupère le contexte complet\n   */\n  public getContext(): SafeEvalContext {\n    return { ...this.context };\n  }\n\n  /**\n   * Réinitialise le contexte\n   */\n  public resetContext(newContext: SafeEvalContext = {}): void {\n    this.context = {\n      ...newContext,\n      i18n: i18n,\n      iconv: i18n,\n      Math: Math,\n      parseFloat: parseFloat,\n      parseInt: parseInt,\n      Number: Number,\n      String: String,\n      Boolean: Boolean,\n    };\n  }\n\n  /**\n   * Évalue plusieurs expressions\n   */\n  public evaluateBatch(expressions: string[]): any[] {\n    return expressions.map(expr => this.evaluate(expr));\n  }\n\n  /**\n   * Vérifie si une expression est valide (sans l'évaluer)\n   */\n  public isValidExpression(expression: string): boolean {\n    try {\n      // Vérifier la syntaxe sans évaluer\n      const contextKeys = Object.keys(this.context);\n      new Function(...contextKeys, `\"use strict\"; return (${expression});`);\n      return true;\n    } catch (error) {\n      return false;\n    }\n  }\n\n  /**\n   * Évalue une condition (retourne toujours un boolean)\n   * Force l'évaluation même sans ${}\n   * Supporte les templates ${...} dans les conditions\n   */\n  public evaluateCondition(condition: string | undefined | null): boolean {\n    // Protection contre les valeurs undefined/null/empty\n    if (!condition || typeof condition !== 'string' || condition.trim() === '') {\n      return false; // Condition invalide = pas désactivé par défaut\n    }\n    \n    try {\n      \n      // Si la condition contient des ${...}, les traiter en préservant les types\n      let processedCondition = condition.trim();\n      if (processedCondition.includes('${')) {\n        processedCondition = this.processTemplatesForExpression(processedCondition);\n      }\n      \n      // Forcer l'évaluation directe comme expression\n      const result = this.evaluateComplexExpression(processedCondition);\n      \n      // S'assurer que c'est bien un boolean\n      if (typeof result === 'boolean') {\n        return result;\n      }\n      \n      // Sinon convertir en boolean\n      return Boolean(result);\n    } catch (error) {\n      console.error('Condition evaluation error:', condition, error);\n      // En cas d'erreur, retourner false par sécurité\n      return false;\n    }\n  }\n\n  /**\n   * Évalue un template complet\n   * Les i18n._() doivent être dans ${...}\n   */\n  public evaluateTemplate(template: string | undefined | null): string {\n    if (!template || typeof template !== 'string') {\n      return '';\n    }\n    \n    try {\n      // Traiter les templates ${...} qui contiennent les i18n._()\n      const result = this.processTemplates(template);\n      return result;\n    } catch (error) {\n      console.error('Template evaluation error:', template, error);\n      return template;\n    }\n  }\n}\n\n/**\n * Instance globale pour faciliter l'utilisation\n */\nexport const safeEval = new SafeEval();\n\n/**\n * Fonction helper pour évaluer rapidement\n */\nexport function evaluate(expression: string, context: SafeEvalContext = {}): any {\n  const evaluator = new SafeEval(context);\n  return evaluator.evaluate(expression);\n}\n\n/**\n * Fonction helper pour évaluer un template\n */\nexport function evaluateTemplate(template: string, context: SafeEvalContext = {}): string {\n  const evaluator = new SafeEval(context);\n  return evaluator.evaluateTemplate(template);\n}\n\n/**\n * Fonction helper pour évaluer une condition\n */\nexport function evaluateCondition(condition: string, context: SafeEvalContext = {}): boolean {\n  const evaluator = new SafeEval(context);\n  return evaluator.evaluateCondition(condition);\n}\n","import { html, LitElement, PropertyValues } from \"lit\";\nimport { property, state } from \"lit/decorators.js\";\nimport { off_color } from \"../../common.js\";\nimport i18n from \"../../translations/myi18n.js\";\n\nimport { attachClickHandlers } from \"./click_handler\"\nimport { SafeEval, SafeEvalContext } from '../../utils/SafeEval';\n\n// Import des types depuis le dossier types\nimport type {\n  StateObject,\n  HassConfig,\n  DeviceEntity,\n  DeviceConfig,\n  Device,\n  ActionData,\n  Action,\n  ElementConfig\n} from \"../../types/element\";\n\n\nexport class MyElement extends LitElement {\n  @property({ type: Object, attribute: false })\n  stateObj: StateObject | null = null;\n\n  @property({ type: Boolean })\n  stateOn: boolean = false;\n\n\n  @state()\n  protected _hass: HassConfig | null = null;\n  \n  @state()\n  protected conf?: ElementConfig;\n  \n  @state()\n  protected device?: Device;\n  \n  @state()\n  protected color?: string;\n  \n  @state()\n  protected alpha?: number;\n  \n  @state()\n  protected label: string = '';\n  \n  @state()\n  protected stateObjTarget?: StateObject;\n  \n  @state()\n  protected c?: string;\n\n  protected evalCtx: SafeEvalContext;\n\n  private static createEntitiesContext(device: any, hass: any): Record<string, any> {\n    const entitiesObj: Record<string, any> = {};\n    \n    if (device?.entities && hass?.states) {\n      for (const key in device.entities) {\n\tconst entity = device.entities[key];\n\tif (entity?.entity_id && hass.states[entity.entity_id]) {\n          entitiesObj[key] = hass.states[entity.entity_id];\n\t}\n      }\n    }\n    \n    return entitiesObj;\n  }\n\n\n  \n  constructor() {\n    super();\n    attachClickHandlers(this, {\n      onClick: () => {\n\tthis._click();\n      },\n      \n      onDoubleClick: () => {\n\tthis._dblclick();\n      },\n      \n      onHold: () => {\n\tthis._longclick();\n      }\n    });\n  }\n\n\n  createContext(){\n    if(!this.evalCtx){\n\tconst entitiesContext = MyElement.createEntitiesContext(this.device, this._hass);\n\tconst context = {\n\t  stateObj: this.stateObj,\n\t  entity: entitiesContext,    // Accès via entities.nom_entite.state (alias)\n\t  device: this.device,\n\t  config: this.conf,\n\t  state: this.stateObj?.state,\n\t  name: this.conf.name,\n\t  i18n: i18n,\n\t};\n      this.evalCtx = new SafeEval(context);\n    }      \n  }\n  \n  evaluate(expression: string){\n    this.createContext();\n    return this.evalCtx.evaluate(expression);\n  }\n\n  evaluateCondition(expression: string){\n    this.createContext();\n    return this.evalCtx.evaluateCondition(expression);\n  }\n\n  has_changed(hass: HassConfig): boolean {\n    let res = false;\n    if (this.stateObj) {\n      const so = hass.states[this.stateObj.entity_id];\n      if (so && this.stateObj.state !== so.state) {\n        res = true;\n      } else if (this.conf && \"target\" in this.conf && this.stateObjTarget) {\n        const sot = hass.states[this.stateObjTarget.entity_id];\n        if (sot && this.stateObjTarget.state !== sot.state) {\n          res = true;\n        }\n      }\n    }\n    return res;\n  }\n\n  set hass(obj: HassConfig) {\n    this._hass = obj;\n    if (this.stateObj) {\n      const so = this._hass.states[this.stateObj.entity_id];\n      if (so && this.stateObj.state !== so.state) {\n        this.stateObj = so;\n      }\n      else if (this.conf && \"target\" in this.conf && this.stateObjTarget) {\n\tconst sot = this._hass.states[this.stateObjTarget.entity_id];\n        if (sot && this.stateObjTarget.state !== sot.state) {\n          this.stateObjTarget = sot || null;\n          this.stateObj = so; // force render\n\t}\n      }\n    }\n  }\n\n  setConfig(conf: ElementConfig): void {\n    this.conf = conf;\n  }\n\n\n\n  /**\n   * Accède à une propriété imbriquée d'un objet via un chemin\n   * Ex: getNestedProperty({a: {b: {c: 1}}}, 'a.b.c') => 1\n   */\n  private getNestedProperty(obj: any, path: string): any {\n    return path.split('.').reduce((current, key) => {\n      return current?.[key];\n    }, obj);\n  }\n  \n\n  static create_element(hass: HassConfig, config: ElementConfig, device: Device): MyElement {\n    let Element = customElements.get(config.type) as typeof MyElement;\n    let label_name = '';\n    console.debug(\"Creating element\", config.type);\n\n    let elt = new Element();\n    elt.device = device;\n    elt.stateOn = elt.device.is_on();\n    elt.hass = hass;\n    elt.conf = config;\n    elt.color = elt.device.config.color;\n    elt.alpha = elt.device.config.alpha;\n\n    if ('stateObj' in config && !config.stateObj) {\n      elt.stateObj = null;\n    } else {\n      const entityData = elt.device.entities[config.name];\n      if (entityData) {\n        elt.stateObj = hass.states[entityData.entity_id] || null;\n      }\n    }\n\n    if ('label' in config) {\n      if (typeof config.label === 'boolean' && config.label !== false) {\n\tlabel_name = config.name;\n      }\n      else if (config.label && typeof config.label !== 'boolean') {\n\t// Créer un objet avec toutes les entités du device\n\tconst entitiesContext = MyElement.createEntitiesContext(device, hass);\n\t\n\tconst context = {\n\t  stateObj: elt.stateObj,\n\t  entity: entitiesContext,    // Accès via entities.nom_entite.state (alias)\n\t  device: device,\n\t  config: config,\n\t  state: elt.stateObj?.state,\n\t  name: config.name,\n\t  i18n: i18n\n\t};\n\telt.evalCtx = new SafeEval(context);\n\tlabel_name = elt.evaluate(config.label);\n      }\n    }\n    if (\"target\" in config && elt.device && config.target) {\n      const targetEntity = elt.device.entities[config.target];\n      if (targetEntity) {\n        elt.stateObjTarget = hass.states[targetEntity.entity_id] || null;\n      }\n    }\n\n    elt.label = label_name;\n    return elt;\n  }\n\n  get_style(css_level: string = 'css'): string {\n    let style = '';\n    //Set device color patch\n    if (this.conf && css_level in this.conf) {\n      let o_style = structuredClone(this.conf[css_level]);\n      let device_color=this.device.config.color;\n      if (!this.device.is_on() ){\n\tdevice_color=off_color;\n      }\n      if(o_style['background-color']==\"$DEVICE-COLOR$\"){\n\to_style['background-color']=\"rgb(\"+device_color+\")\";\n      }\n      else  if(o_style['background-color']==\"$DEVICE-COLOR-ALPHA$\"){\n\to_style['background-color']=\"rgba(\"+device_color+\",\"+this.device.config.alpha+\")\";\n      }\n      style = Object.entries(o_style).map(([k, v]) => `${k}:${v}`).join(';');\n    }\n    return style;\n  }\n\n  get_entity(entity_translation_value: string): StateObject {\n    if (!this._hass || !this.device) {\n      throw new Error(\"Hass or device not initialized\");\n    }\n    const entity = this.device.entities[entity_translation_value];\n    if (!entity) {\n      throw new Error(`Entity ${entity_translation_value} not found`);\n    }\n    const state = this._hass.states[entity.entity_id];\n    if (!state) {\n      throw new Error(`State for ${entity.entity_id} not found`);\n    }\n    return state;\n  }\n\n  protected _render(style: string): any {\n    return html``;\n  }\n\n  override render() {\n    let value: string | null = null;\n    if (this.stateObj !== null) {\n      value = this.stateObj.state;\n    }\n\n    //if (this.conf && 'disabled_if' in this.conf && this.conf.disabled_if) {\n    if (this.evaluateCondition(this.conf?.disabled_if)) {\n      return html`<br />`;\n    }\n\n    if (!this.stateOn) {\n      this.c = off_color;\n    } else {\n      this.c = this.color;\n    }\n\n    return html`\n<div class=\"${this.conf?.class || ''}\" style=\"${this.get_style()}\">\n${this._render(this.get_style('css'))}\n</div>\n`;\n  }\n\n  async run_actions(actions: Action | Action[]): Promise<void> {\n    let actionsArray: Action[] = Array.isArray(actions) ? actions : [actions];\n\n    for (let action of actionsArray) {\n      if (!(\"enabled\" in action) || action.enabled) {\n        if (action.domain === \"redsea_ui\") {\n          switch (action.action) {\n            case \"dialog\":\n              this.dispatchEvent(\n                new CustomEvent(\"display-dialog\", {\n                  bubbles: true,\n                  composed: true,\n                  detail: {\n                    type: (action.data as ActionData).type,\n                    overload_quit: (action.data as ActionData).overload_quit,\n                    elt: this,\n                  }\n                })\n              );\n              break;\n\n            case \"exit-dialog\":\n              this.dispatchEvent(\n                new CustomEvent(\"quit-dialog\", {\n                  bubbles: true,\n                  composed: true,\n                  detail: {}\n\t\t})\n              );\n              break;\n\t    case \"message_box\":\n\t      let str = '';\n\t      if (typeof action.data === 'string') {\n\t\tstr = this.evaluate(action.data);\n\t      } else {\n\t\tstr = JSON.stringify(action.data);\n\t      }\n\t      this.msgbox(str);\n\t      break;\n\t  }\n        } else {\n          let a_data = structuredClone(action.data);\n\n          if (a_data === \"default\" && this.stateObj) {\n            a_data = { entity_id: this.stateObj.entity_id };\n          } else if (typeof a_data === 'object' && a_data !== null && \"entity_id\" in a_data) {\n            a_data.entity_id = this.get_entity((action.data as ActionData).entity_id!).entity_id;\n          }\n\n          console.debug(\"Call Service\", action.domain, action.action, a_data);\n          this._hass?.callService(action.domain, action.action, a_data);\n        }\n      }\n    }\n  }\n\n\n  _click(): void {\n    if (this.conf && 'tap_action' in this.conf) {\n      this.run_actions(this.conf.tap_action!);\n    }\n  }\n\n  _longclick(): void {\n    if (this.conf && \"hold_action\" in this.conf) {\n      this.run_actions(this.conf.hold_action!);\n    }\n  }\n\n  _dblclick(): void {\n    if (this.conf && \"double_tap_action\" in this.conf) {\n      this.run_actions(this.conf.double_tap_action!);\n    }\n  }\n\n  msgbox(msg: string): void {\n    this.dispatchEvent(\n      new CustomEvent(\"hass-notification\", {\n        bubbles: true,\n        composed: true,\n        detail: {\n          message: msg\n        }\n      })\n    );\n  }\n}\n","export function isObject(item: unknown): item is Record<string, any> {\n  return (item !== null && typeof item === 'object' && !Array.isArray(item));\n}\n\nexport function mergeDeep<T extends Record<string, any>>(target: T, ...sources: Partial<T>[]): T {\n  if (!sources.length) return target;\n  const source = sources.shift();\n\n  if (isObject(target) && isObject(source)) {\n    for (const key in source) {\n      if (isObject(source[key])) {\n        if (!target[key]) Object.assign(target, { [key]: {} });\n        mergeDeep(target[key] as Record<string, any>, source[key] as Record<string, any>);\n      } else {\n        Object.assign(target, { [key]: source[key] });\n      }\n    }\n  }\n\n  return mergeDeep(target, ...sources);\n}\n\nexport function merge<T extends Record<string, any>>(target: T, source: Partial<T>): T {\n  return mergeDeep(structuredClone(target), source);\n}\n","import { TemplateResult, LitElement, html } from \"lit\";\nimport { customElement, property, state } from \"lit/decorators.js\";\nimport DeviceList from \"../common\";\nimport { MyElement }  from \"./base/element\";\nimport { merge } from \"../merge\";\nimport i18n from \"../translations/myi18n\";\n\nimport type { HassConfig, Device, DeviceInfo } from \"../types/index\";\n\n\n\n@customElement('rs-device')\nexport class RSDevice extends LitElement {\n\n  @state()\n  public entities: Record<string, any> = {};\n  \n  @state()\n  public config: any; \n  \n  @state()\n  protected _hass: HassConfig | null = null;\n  \n  @state()\n  protected device: DeviceInfo | null = null;\n  \n  @state()\n  protected initial_config: any;\n  \n  @state()\n  protected user_config: any;\n  \n  @state()\n  protected _elements: any = {};\n\n  @property({ type: Boolean })\n  to_render: boolean = false;\n  \n  constructor() {\n    super();\n  }\n\n  override render(){\n    return this._render();\n  }\n\n  _render(){\n    return html`RSDEVICE Base class`;\n  }\n\n  _setting_hass(obj){\n    this._hass=obj;\n    let re_render=false;\n    for (let element in this._elements){\n      let elt = this._elements[element];\n      if ('master' in elt.conf && elt.conf.master){\n\tif(elt.has_changed(obj)){\n\t  re_render=true;\n\t}\n      }\n      elt.hass=obj;\n    }\n    if(re_render){\n      this.to_render=true;\n      this.render();\n    }\n  }\n  \n  set hass(obj: HassConfig) {\n    this._setting_hass(obj);\n  }\n\n  get hass(): HassConfig | null {\n    return this._hass;\n  }\n\n  setConfig(config: any): void {\n    this.user_config = config;\n  }\n\n  /**\n   * Recursively sets nested properties in a target object\n   * Replaces the unsafe eval() version\n   */\n  private setNestedProperty(obj: any, path: string, value: any): void {\n    const keys = path.split('.');\n    let current = obj;\n    \n    // Navigate to the parent of the target property\n    for (let i = 0; i < keys.length - 1; i++) {\n      const key = keys[i];\n      if (!(key in current) || typeof current[key] !== 'object') {\n        current[key] = {};\n      }\n      current = current[key];\n    }\n    \n    // Set the final property\n    const lastKey = keys[keys.length - 1];\n    current[lastKey] = value;\n  }\n\n  /**\n   * Find and apply leaf values to configuration\n   * Safe replacement for eval()-based find_leaves\n   */\n  private applyLeaves(tree: any, basePath: string = ''): void {\n    const keys = Object.keys(tree);\n    \n    // Check if this is a leaf node (array-like object with numeric keys)\n    if (keys.length > 0 && keys[0] === '0') {\n      // This is a leaf value, apply it to the config\n      this.setNestedProperty(this.config, basePath, tree);\n      return;\n    }\n    \n    // Recursively process child nodes\n    for (const key of keys) {\n      const newPath = basePath ? `${basePath}.${key}` : key;\n      this.applyLeaves(tree[key], newPath);\n    }\n  }\n\n  get_entity(entity_translation_value: string): any {\n    if (!this._hass || !this.entities) {\n      return null;\n    }\n    const entity = this.entities[entity_translation_value];\n    if (!entity) {\n      return null;\n    }\n    return this._hass.states[entity.entity_id];\n  }\n\n  update_config(): void {\n    this.config = JSON.parse(JSON.stringify(this.initial_config));\n    \n    if (this.user_config && \"conf\" in this.user_config && this.device) {\n      const model = this.device.elements[0].model;\n      \n      if (model && model in this.user_config.conf) {\n        const device_conf = this.user_config.conf[model];\n        \n        // Apply common configuration\n        if ('common' in device_conf) {\n          this.applyLeaves(device_conf.common);\n        }\n        \n        // Apply device-specific configuration\n        if ('devices' in device_conf && this.device.name in device_conf.devices) {\n          this.config = merge(\n            this.config,\n            this.user_config.conf[model].devices[this.device.name]\n          );\n        }\n      }\n    }\n    \n    // Send dialogs configuration\n    if (this.config.dialogs) {\n      this.dispatchEvent(\n        new CustomEvent(\"config-dialog\", {\n          bubbles: true,\n          composed: true,\n          detail: {\n            dialogs: this.config.dialogs,\n            device: this\n          }\n        })\n      );\n    }\n  }\n\n  static create_device(\n    tag_name: string,\n    hass: HassConfig,\n    config: any,\n    device: DeviceInfo\n  ): RSDevice | null {\n    const Element = customElements.get(tag_name);\n    \n    if (!Element) {\n      console.error(`Custom element ${tag_name} not found`);\n      return null;\n    }\n    \n    const elt = new (Element as any)() as RSDevice;\n    elt.hass = hass;\n    elt.device = device;\n    elt.setConfig(config);\n    \n    return elt;\n  }\n\n  /*\n   * Get all entities linked to this redsea device\n   */\n  _populate_entities(){\n    if (this._hass && this.device){\n      for (const entity of this._hass.entities || []){\n        if(entity.device_id == this.device.elements[0]?.id){\n          this.entities[entity.translation_key]=entity;\n        }\n      }\n    }\n    else {\n      console.error(\"_populate_entities() failed, _hass or device object is null\");\n    }\n  }//end of function - _populate_entities\n\n  /*\n   * Check is the current device is disabled or not\n   */\n  is_disabled(){\n    if (!this.device) return true;\n    \n    let disabled=false;\n    let sub_nb=this.device.elements.length;\n    for( let i = 0; i<sub_nb; i++){\n      if (this.device.elements[i]?.disabled_by!=null){\n        disabled=true;\n        break;\n      }\n    }\n    return disabled;\n  }//end of function is_disabled\n\n\n  /*\n   * Get the state of the device on or off.\n   */\n  is_on(): boolean{\n    if (!this._hass || !this.entities['device_state']) return false;\n    return (this._hass.states[this.entities['device_state'].entity_id]?.state=='on');\n  }//end of function - is_on\n\n  /*\n   * Special render if the device is disabled or in maintenance mode in HA\n   */\n  _render_disabled(){\n    let reason: string | null = null;\n    let maintenance : TemplateResult  = html``;\n    \n    if (this.is_disabled()){\n      reason=\"disabledInHa\";\n    }\n    else if (this._hass && this.entities['maintenance'] && \n             this._hass.states[this.entities['maintenance'].entity_id]?.state=='on'){\n      reason=\"maintenance\";\n      // if in maintenance mode, display maintenance switch\n      let elements: any[] =[];\n      for(const i in this.config.elements){\n        elements.push(this.config.elements[i]);\n      }\n\n      for ( const swtch of elements){\n        if (swtch.name==\"maintenance\"){\n          if (this._hass) {\n            let maintenance_button=MyElement.create_element(this._hass,swtch,this);\n            maintenance=html`${maintenance_button}`;\n          }\n          break;\n        }\n      }\n    }\n    \n    if (reason==null){\n      return null;\n    }\n    \n    return html`<div class=\"device_bg\">\n<img class=\"device_img_disabled\" id=d_img\" alt=\"\"  src='${this.config.background_img}'/>\n<p class='disabled_in_ha'>${i18n._(reason)}</p>\n${maintenance}\n</div\">`;\n  }//end of function _render_disabled\n\n  /*\n   * Build a css style string according to given json configuration\n   * @conf: the css definition\n   */\n  get_style(conf){\n    let style='';\n    if(conf && 'css' in conf){\n      style=Object.entries(conf.css).map(([k, v]) => `${k}:${v}`).join(';');\n    }\n    return style;\n  }//end of function get_style\n  \n  /*\n   * Render a single element: switch, sensor...\n   * @conf: the json configuration for the element\n   * @state: the state of the device on or off to adapt the render\n   * @put_in: a grouping div to put element on\n   */\n  _render_element(conf: any, state: boolean, put_in: string | null){\n    let sensor_put_in=null;\n    //Element is groupped with others \n    if (\"put_in\" in conf){\n      sensor_put_in=conf.put_in;\n    }\n\n    //Element is disabled or not in the requested group\n    if ( ('disabled' in conf && conf.disabled==true) || \n         (sensor_put_in!=put_in) ){\n      return html``;\n    }\n    \n    let element: MyElement | null = null;\n    if (conf.name in this._elements){\n      element= this._elements[conf.type+'.'+conf.name];\n      if (element) {\n        element.stateOn=state;\n      }\n    }\n    else {\n      if (this._hass) {\n        element=MyElement.create_element(this._hass,conf,this);\n        this._elements[conf.type+'.'+conf.name]=element;\n      }\n    }\n    return html`${element}`;\n  }//end of function - _render_actuator\n  \n  /*\n   * Render all elements that are declared in the configuration of the device\n   * @state: the state of the device on or off to adapt the render\n   * @put_in: a grouping div to put element on\n   */\n  _render_elements(state: boolean, put_in: string | null=null){\n    let elements: any[] = [];\n    for(const i in this.config.elements){\n      elements.push(this.config.elements[i]);\n    }\n    return html `${elements.map(conf => this._render_element(conf,state,put_in))}`;\n  }//end of function - _render_elements\n\n}\n\nexport default RSDevice;\n","import {css} from 'lit';\n\n\nexport default css`\n\n\n#window-mask{\nposition: absolute;\ntop: 0px;\nleft: 0px;\nwidth: 100%;\nheight: 100%;\n// text-align:center;background-color: rgba(175,175,175,0.8);\nz-index:6;\n// display: flex hidden;display: none;\njustify-content: center;\nalign-items: center;\n}\n\n#dialog{\nborder: 1px solid gray;\nz-index:7;\nposition:absolute;\ntop:100px;\n// margin-left:35%;// margin-right:35%;// min-height: 200px;// min-width: 300px;// width:28%;padding-left:15px;\npadding-right:15px;\npadding-top: 20px;\npadding-bottom: 10px;\nbackground-color: rgba(255,255,255,1);\nborder-radius:15px;\njustify-content: center;\nalign-items: center; \ndisplay: grid;\ngrid-template-columns: 40px 90%;\n// grid-template-rows: 3;grid-gap: 10px;\n}\n\n#dialog-close{\n// border: 1px solid green;grid-column: 1;\ngrid-row: 1;\npadding-left:5px;\npadding-right:5px;\ntext-align:center;\n}\n\n#dialog-title{\n// border: 1px solid green;grid-column: 2/4;\ngrid-row: 1;\npadding-left:5px;\npadding-right:5px;\nfont-size: 1.5em;\nfont-weight: bold;\n}\n\n#dialog-content{\n// border: 1px solid green;grid-column: 1/4;\ngrid-row: 2;\npadding-left:5px;\npadding-right:5px;\nwidth:90%;\nmargin-left: 5%;\n}\n\n#dialog-submit{\n// border: 1px solid green;grid-column: 2/4;\ngrid-row: 3;\ntext-align:right;\nmargin-right: 2%;\n}\n#dialog-cancel{\n// border: 1px solid green;grid-column: 1/3;\ngrid-row: 3;\ntext-align:left;\nmargin-left: 2%;\n}\n\nform.schedule{\n  margin-top:10px;\n  padding-left:5px;\n  padding-right: 5px;\n  padding-top:5px;\n  padding-bottom:5px;\n  border: 1px solid #e0e0e0;\n  border-radius: 30px;\n}\n\np.schedule_header{\n  font-weight: bold;\n}\n\nselect{\n}\n\n.days{\n    margin-left:0px;\n    margin-right:0px;\n    width: 2em;\n    height: 2em;\n    background-color: white;\n    border-radius: 50%;\n    vertical-align: middle;\n    border: 1px solid #ddd;\n    appearance: none;\n    -webkit-appearance: none;\n    outline: none;\n    cursor: pointer;\n}\n.days:checked{\n  background-color:#2196F3;\n}\n\nlabel.days{\n  position: relative;\n  left: 19px;\n  top: 2px;\n  background-color: rgba(0,0,0,0);\n  border: none;\n}\n\nlabel.days:hover{\ncursor:pointer;\n}\n\n.interval{\n  font-weight: bolder;\n  text-align: center;\n  border-radius: 20px;\n  display: flex;\n  margin-top: 5px;\n  margin-bottom: 5px;\n  background-color: aliceblue;\n  border: 1px solid lightgray;\n}\n\ninput {\n  border-radius:20px;\n  border: 1px solid #009ac7;\n}\n\nselect{\n  border-radius:20px;\n  border: 1px solid #009ac7;\n}\n\nbutton{\n  border-radius: 20px;\n  background-color: #009ac7;\n  color: white;\n  font-weight: bold;\n  padding-top: 10px;\n  padding-bottom: 10px;\n  padding-left: 20px;\n  padding-right: 20px;\n  display:inline-block;\n  margin-top:5px;\n  margin-bott: 5px;\n  border:none;\n}\n\nbutton:hover{\ncursor:pointer;\n}\n\nbutton.delete_button{\n background-color:red;\n background: url('/hacsfiles/ha-reef-card/img/trash.svg');\n background-position:center;\n background-repeat:no-repeat;\n}\n\nlabel{\nmargin-right: 5px;\n}\n\ninput{\nmargin-right: 5px;\n}\n\n:disabled{\nbackground-color: rgb(200,200,200);\n}\n\n`;\n","import {css} from 'lit';\n\nexport default css`\n\nimg:hover{\n  cursor: pointer;\n  background-color: rgb(235,235,235);\n  border-radius: 30px\n}\n\n`;\n","import { html, LitElement } from \"lit\";\n\nimport style_dialog from \"./dialog.styles\";\nimport style_click_image from \"./click_image.styles\";\n\nimport { MyElement } from \"./element\";\n\nimport * as dhd from \"../dose_head.dialog\";\n\nexport class Dialog extends LitElement {\n\n  static override styles = [style_dialog, style_click_image];\n\n  static override get properties() {\n    return {\n      _shadowRoot: {},\n      to_render: {},\n      elt: {},\n    };\n  }\n\n  protected _hass: any = null;\n  protected _shadowRoot: ShadowRoot | null = null;\n  protected config: any = null;\n  protected elt: any = null;\n  protected elts: any[] = [];\n  protected extends_to_re_render: any[] = [];\n  protected to_render: any = null;\n  protected overload_quit: any = null;\n\n  constructor() {\n    super();\n    this._hass = null;\n    this._shadowRoot = null;\n    this.config = null;\n    this.elt = null;\n    this.elts = [];\n    this.extends_to_re_render = [];\n    this.to_render = null;\n    this.overload_quit = null;\n  }\n\n  init(hass: any, shadowRoot: ShadowRoot): void {\n    this._hass = hass;\n    this._shadowRoot = shadowRoot;\n  }\n\n  display(conf: any): void {\n    if (!this._shadowRoot) return;\n    const box = this._shadowRoot.querySelector(\"#window-mask\") as HTMLElement | null;\n    if (!box) return;\n    this.elt = conf.elt;\n    this.to_render = this.config?.[conf.type];\n    this.overload_quit = conf.overload_quit;\n    this.render();\n    box.style.display = \"flex\";\n  }\n\n  quit(): void {\n    if (this.overload_quit) {\n      const event = { type: this.overload_quit, elt: this.elt };\n      this.display(event);\n    }\n    else {\n      if (this._shadowRoot) {\n        const box = this._shadowRoot.querySelector(\"#window-mask\") as HTMLElement | null;\n        if (box) box.style.display = \"none\";\n      }\n      this.elt = null;\n      this.to_render = null;\n    }\n  }\n\n  set hass(obj: any) {\n    this._hass = obj;\n    if (this.elts) {\n      for (const elt of this.elts) {\n        elt.hass = obj;\n      }\n    }\n    if (this.extends_to_re_render) {\n      for (const _elt of this.extends_to_re_render) {\n        // Note: eval usage removed for security - extend this as needed\n        console.warn(\"extends_to_re_render not fully implemented\");\n      }\n    }\n  }\n\n  set_conf(config: any): void {\n    this.config = config;\n  }\n\n  create_form(content_conf: any): HTMLElement[] {\n    const elements: HTMLElement[] = [];\n\n    for (const input of content_conf) {\n      if (!this._shadowRoot) continue;\n      const doc = this._shadowRoot.ownerDocument;\n      if (!doc) continue;\n      const elt = doc.createElement(input.type);\n      elt.id = input.id;\n      elements.push(elt);\n    }\n\n    return elements;\n  }\n\n  render_dialog(elements: any[]): void {\n    if (!this.to_render) return;\n\n    for (const element of this.to_render.elements || []) {\n      const tag_name = element.type;\n\n      const r_element = elements.find((el: any) => el.name === element.name);\n      if (!r_element) continue;\n\n      const Element = customElements.get(tag_name);\n\n      if (Element) {\n        const elt = new (Element as any)() as HTMLElement & { setConfig?: (c: any) => void; hass?: any; device?: any };\n        elt.setConfig?.(element);\n        elt.hass = this._hass;\n        elt.device = this.elt?.device;\n        this.elts.push(elt);\n        if (this._shadowRoot) {\n          this._shadowRoot.appendChild(elt);\n        }\n      }\n    }\n  }\n\n  override render() {\n    if (this.to_render == null) {\n      return html``;\n    }\n\n    return html`<redsea-ui-dialog\n      .elt=\"${this.elt}\"\n      .to_render=\"${this.to_render}\"\n      .config=\"${this.config}\"\n      .hass=\"${this._hass}\"\n    ></redsea-ui-dialog>`;\n  }\n}\n","import {\n  LitElement,\n  html,\n} from \"lit\";\nimport { customElement, property, state } from \"lit/decorators.js\";\n\nimport i18n from \"./translations/myi18n.js\";\n\nimport DeviceList from './common';\n\nimport style_card from './card.styles';\n\nimport {RSDevice} from './devices/device';\nimport {Dialog} from './devices/base/dialog';\n\nimport style_dialog from './devices/base/dialog.styles';\n\ninterface SelectDevice {\n  value: string;\n  text: string;\n}\n\ninterface UserConfig {\n  device?: string;\n  [key: string]: any;\n}\n\ninterface CustomEvent<T = any> extends Event {\n  detail: T;\n}\n\nexport class ReefCard extends LitElement {\n\n  static override styles = [style_card,style_dialog];\n\n  // Propriétés réactives publiques (avec @property)\n  @property({ attribute: false })\n  private _hass: any;\n\n  @property({ attribute: false })\n  private current_device: any;\n  \n  // États internes (avec @state)\n  @state()\n  private select_devices: SelectDevice[] = [];\n  \n  @state()\n  private first_init: boolean = true;\n  \n  @state()\n  private re_render: boolean = false;\n  \n  @state()\n  private _dialog_box: Dialog | null = null;\n  \n  @state()\n  private user_config: UserConfig = {};\n  \n  @state()\n  private no_device: any;\n  \n  @state()\n  private devices_list!: DeviceList;\n  \n  @state()\n  private selected?: string;\n  \n  @state()\n  private messages?: any;\n  \n  constructor() {\n    super();\n    this.addEventListener(\"display-dialog\", (e: Event) => {this._handle_display_dialog(e as CustomEvent);});\n    this.addEventListener(\"config-dialog\", (e: Event) => {\n      if (this._dialog_box) {\n        this._dialog_box.set_conf((e as CustomEvent).detail.config);\n      }\n    });\n    this.addEventListener(\"quit-dialog\", () => {\n      if (this._dialog_box) {\n        this._dialog_box.quit();\n      }\n      this.render(); /* force rerender*/\n    });\n  }// end of constructor\n\n  setConfig(config: UserConfig): void {\n    this.user_config = config;\n  }// end of function - setConfig\n\n  set hass(obj: any){\n    if(this.first_init==true){\n      this._hass=obj;\n    }\n    else {\n      this.current_device.hass=obj;\n      if (this._dialog_box) {\n        this._dialog_box.hass=obj;\n      }\n    }\n  }\n\n  private _handle_display_dialog(event: CustomEvent): void {\n    if (this._dialog_box) {\n      this._dialog_box.display(event.detail);\n    }\n  }// end of function - _handle_display_dialog  \n\n  \n  override render() {\n    console.debug(\"render main\");\n    if(this.first_init==true){\n      \n      this.init_devices();\n      this.first_init=false;\n      this.no_device=RSDevice.create_device(\"redsea-nodevice\",this._hass,null,{} as any);\n      this.current_device=this.no_device;\n      this._dialog_box=new Dialog();\n      if (this.shadowRoot) {\n        this._dialog_box.init(this._hass,this.shadowRoot);\n      }\n    }// if\n    else {\n      console.debug(\"No FIRST\");\n      this.current_device.hass=this._hass;\n      if(!this.re_render){\n\treturn;\n      }\n    }\n    \n    if(this.user_config['device']){\n      this.select_devices.map(dev => this._set_current_device_from_name(dev,this.user_config.device!));\n      this.current_device.hass=this._hass;\n      // A specific device has been selected\n      return html`\n${this.messages}\n${this.current_device}\n${this._dialog_box?.render()}`;\n    }// fi\n    // no secific device selected, display select form\n    return html`\n${this.device_select()}\n${this.messages}\n${this.current_device}\n${this._dialog_box?.render()}`;\n  }// end of render\n\n  private device_select() {\n    return html`\n<select id=\"device\" @change=\"${this.onChanges}\">\n${this.select_devices.map(option => html`\n      <option value=\"${option.value}\" ?selected=${this.current_device?.device?.elements?.[0]?.primary_config_entry === option.value}>${option.text}</option>\n      `)}\n</select>`;\n  }\n\n  private init_devices(): void {\n    this.devices_list=new DeviceList(this._hass);\n    this.select_devices=[{value:'unselected',text:i18n._(\"select_device\")}];\n\n    for (const d of this.devices_list.main_devices){\n      this.select_devices.push(d);\n    }// for\n  }// end of init_devices\n\n  private _set_current_device_from_name(dev: SelectDevice, name: string): void {\n    if (dev['text']==name){\n      this._set_current_device(dev['value']);\n    }\n  }// end of _set_current_device_from_name\n\n  private _set_current_device(device_id: string): void {\n    console.debug(\"Current device\",device_id);\n    // No device selected, display redsea logo\n    if (device_id==\"unselected\"){\n      this.current_device=this.no_device;\n      return;\n    }\n    \n    if (this.current_device.device != null  && this.current_device.device.elements &&\n      this.current_device.device.elements[0].primary_config_entry ==device_id){\n      console.debug(\"current device not updated\",this.current_device.device.name);\n      return;\n    }\n    \n    const device=this.devices_list.devices[device_id];\n    if (!device) {\n      console.error(\"Device not found:\", device_id);\n      return;\n    }\n    const model = device.elements[0]?.model;\n    if (!model) {\n      console.error(\"Device model not found\");\n      return;\n    }\n    // @ts-ignore - DeviceInfo type mismatch between imports\n        this.current_device=RSDevice.create_device(\"redsea-\"+model.toLowerCase(),this._hass,this.user_config,device);\n    console.debug(this.current_device);\n    // TODO : Implement MAIN tank view support\n    // Issue URL: https://github.com/Elwinmage/ha-reef-card/issues/11\n    // labels: enhancement\n    switch(model){\n\t// TODO : Implement RSDOSE support\n\t// Issue URL: https://github.com/Elwinmage/ha-reef-card/issues/10\n\t// labels: enhancement, rsdose\n      case \"RSDOSE2\":\n\t// TODO : Implement RSDOSE2 support\n\t// Issue URL: https://github.com/Elwinmage/ha-reef-card/issues/9\n\t// labels: enhancement, rsdose, rsdose2\n      case \"RSDOSE4\":\n\t// TODO : Implement RSDOSE4 support\n\t// Issue URL: https://github.com/Elwinmage/ha-reef-card/issues/8\n\t// labels: enhancement, rsdose, rsdose4\t\n\tbreak;\n      case \"RSRUN\":\n\t// TODO : Implement RSRUN support\n\t// Issue URL: https://github.com/Elwinmage/ha-reef-card/issues/7\n\t// labels: enhancement, rsrun\tbreak;\n      case \"RSWAVE\":\n\t// TODO : Implement RSWAVE support\n\t// Issue URL: https://github.com/Elwinmage/ha-reef-card/issues/6\n\t// labels: enhancement, rswave\n\tbreak;\n      case \"RSMAT\":\n\t// TODO : Implement RSMAT support\n\t// Issue URL: https://github.com/Elwinmage/ha-reef-card/issues/5\n\t// labels: enhancement, rsmat\n\tbreak;\n      case \"RSATO+\":\n\t// TODO : Implement RSATO+ support\n\t// Issue URL: https://github.com/Elwinmage/ha-reef-card/issues/4\n\t// labels: enhancement, rsato\t\n\tbreak;\n\t// TODO : Implement RSLED support\n\t// Issue URL: https://github.com/Elwinmage/ha-reef-card/issues/3\n\t// labels: enhancement, rsled\t\n      case \"RSLED50\":\n      case \"RSLED60\":\n      case \"RSLED90\":\n      case \"RSLED115\":\n      case \"RSLED160\":\n      case \"RSLED170\":\n\tbreak;\n      default:\n\tconsole.log(\"Unknow device type: \"+model)\n    }\n    \n  }\n\n  private onChanges = (): void => {\n    setTimeout(()=>{\n      if (this.shadowRoot) {\n        const selectElement = this.shadowRoot.querySelector('#device') as HTMLSelectElement | null;\n        if (selectElement) {\n          this.selected = selectElement.value;\n        }\n      }\n      this.current_device=this.no_device;\n      \n      if (this.selected==\"unselected\"){\n        console.log('Nothing selected');\n      }\n      else if (this.selected) {\n\tthis._set_current_device(this.selected);\n      }\n      this.re_render=true;\n      this.requestUpdate();\n      \n    },300)\n  }// end of onChanges\n\n  static getConfigElement() {\n    return document.createElement(\"reef-card-editor\");\n  }// end of getConfigElement\n}// end of class ReefCard\n","import { css, html, LitElement } from 'lit';\nimport { customElement, property, state } from 'lit/decorators.js';\n\nimport DeviceList from './common';\nimport {RSDevice} from './devices/device';\n\ninterface HassConfig {\n  device?: string;\n  [key: string]: any;\n}\n\ninterface SelectDevice {\n  value: string;\n  text: string;\n}\n\nexport class ReefCardEditor extends LitElement {\n\n  @property({ attribute: false })\n  _config: HassConfig | null = null;\n\n  @property({ attribute: false })\n  current_device: any | null = null;\n  \n  @property({ attribute: false })\n  private _hass: any;\n  \n  @state()\n  private select_devices: SelectDevice[] = [{value:'unselected',text:\"Select a device\"}];\n  \n  @state()\n  private first_init: boolean = true;\n  \n  @state()\n  private devices_list!: DeviceList;\n\n  constructor(){\n    super();\n  }// end of constructor\n\n  setConfig(config: HassConfig): void {\n    console.log(\"setConfig CARD\");\n    this._config = config;\n  }// end of function setConfig\n\n  set hass(obj: any){\n    this._hass=obj;\n  }\n  \n  private init_devices(): void {\n    this.devices_list=new DeviceList(this._hass);\n    for (const d of this.devices_list.main_devices){\n      this.select_devices.push(d);\n    }// for\n  }\n\n  static styles = css`\n.table {\ndisplay: table;\n}\n.row {\ndisplay: table-row;\n}\n.cell {\ndisplay: table-cell;\npadding: 0.5em;\n}\n`;\n\n  render() {\n    console.log(\"Render Editor\");\n    if(this._config){\n      console.log(\"yes\");\n      if (this.first_init==true){\n\tthis.first_init=false;\n\tthis.init_devices();\n      }\n      return html`\n<div class=\"card-config\">\n<div class=\"tabs\">\n<div class=\"tab\">\n<label class=\"rab-label\" for=\"device\">Device:</label>\n<select id=\"device\" class=\"value cell\" @changes=\"${this.handleChangesdEvent}\">\n${this.select_devices.map(option => html`\n        <option value=\"${option.value}\" ?selected=${this._config!.device === option.text}>${option.text}</option>\n        `)}\n</select>\n</div>\n${this.device_conf()}\n</div>\n</div>\n`;\n    }\n    return html``;\n  }// end of - render\n\n  private device_conf() {\n    if (this._config && this._config.device && this._config.device.length > 0){\n      const device=this.devices_list.get_by_name(this._config.device);\n      if (!device) {\n        return ``;\n      }\n      const model = device.elements[0]?.model;\n      if (!model) {\n        return ``;\n      }\n      // @ts-ignore - DeviceInfo type mismatch\n            const lit_device=RSDevice.create_device(\"redsea-\"+model.toLowerCase(),this._hass,this._config,device);\n      if (lit_device!=null && typeof lit_device['editor'] == 'function'){\n// @ts-ignore - editor property exists at runtime\n\t\tthis.current_device=lit_device;\n\t// @ts-ignore - editor property exists at runtime\n\treturn lit_device.editor(this.shadowRoot);\n      }// if\n    }\n    return ``;\n  }// end of function - device_conf\n\n  private handleChangesdEvent(_changesdEvent: Event): void {\n    // this._config is readonly, copy needed\n    if (this.shadowRoot == null){\n      console.error(\"Can not found a device\");\n      return;\n    }\n\n    const newConfig = JSON.parse(JSON.stringify(this._config)) as HassConfig; \n    const elt = this.shadowRoot.getElementById(\"device\") as HTMLSelectElement | null;\n    if (elt == null){\n      console.error(\"Can not found a device\");\n      return;\n    }\n    let val='unselected';\n    if (elt.selectedIndex == 0){\n      delete newConfig.device;\n    }\n    else{\n      val = elt.options[elt.selectedIndex]!.text;\n      newConfig.device = val;\n    }\n    const messageEvent = new CustomEvent(\"config-changesd\", {\n      detail: { config: newConfig },\n      bubbles: true,\n      composed: true,\n    });\n    this.dispatchEvent(messageEvent);\n  }// end of function - handleChangesdEvent    \n}// end of class ReefCardEditor\n","import {css} from 'lit';\n\nexport default css`\n\n:hover{\n  cursor: pointer;\n}\n\n.button{\n  width:100%;\n  height:100%;\n  border-radius: 30px;\n}\n\n.dialog_button:hover{\n  background-color: #006787;\n}\n\n\n.dialog_button{\n  border-radius: 20px;\n  background-color: #009ac7;\n  color: white;\n  font-weight: bold;\n  padding-top: 10px;\n  padding-bottom: 10px;\n  padding-left: 20px;\n  padding-right: 20px;\n  display:inline-block;\n}\n.\n`;\n","import { html, css } from \"lit\";\nimport { customElement } from \"lit/decorators.js\";\n\nimport style_button from \"./button.styles\";\nimport {MyElement} from \"./element\";\n\nexport class Button extends MyElement {\n\n  static override styles = [style_button, css`\n    .button {\n      background-color: var(--button-bg-color);\n    }\n  `];\n\t\t\n  constructor(){\n    super();\n  }\n\n  protected override _render(_style: string = ''): any {\n    const sclass = this.conf?.class || 'button';\n    const icon = this.conf?.icon \n      ? html`<ha-icon icon=\"${this.conf.icon}\"></ha-icon>`\n      : null;\n    \n    const bgColor = `rgba(${this.c},${this.alpha})`;\n    \n    return html`\n      <div \n        class=\"button\" \n        id=\"${this.conf?.name || ''}\" \n        style=\"--button-bg-color: ${bgColor}\">\n        ${icon}${this.label}\n      </div>\n    `;\n  }\n}\n","import { html } from \"lit\";\nimport { customElement } from \"lit/decorators.js\";\n\nimport style_click_image from \"./click_image.styles\";\nimport {MyElement} from \"./element\";\n\nexport class ClickImage extends MyElement {\n\n  static override styles = [style_click_image];\n\t\t\n  constructor(){\n    super();\n  }\n\n  protected override _render(_style: string = ''): any {\n    const imageSrc = this.conf?.image || '';\n    const imageStyle = this.conf?.css ? \n      Object.entries(this.conf.css)\n        .map(([k, v]) => `${k}:${v}`)\n        .join(';') : '';\n    \n    return html`\n      <img \n        class=\"click-image\" \n        src=\"${imageSrc}\" \n        style=\"${imageStyle}\"\n        alt=\"${this.conf?.name || 'clickable image'}\" />\n    `;\n  }\n}\n","import {css} from 'lit';\n\nexport default css`\n\n.progress-bar {\n  position: relative;\n  border-radius: 20px;\n  border: 1px solid white;\n  padding: 2px;\n}\n\n.progress-bar-container {\n  position: relative;\n  height: 20px;\n  border-radius: 20px;\n  background-color: rgba(0, 0, 0, 0.3);\n  overflow: hidden;\n}\n\n.progress-bar-fill {\n  height: 100%;\n  border-radius: 20px;\n  transition: width 0.3s ease;\n}\n\n.progress-label {\n  position: absolute;\n  top: 2px;\n  left: 5px;\n  color: white;\n  font-size: 0.8em;\n  font-weight: bold;\n  z-index: 2;\n}\n\n.progress-value {\n  position: absolute;\n  top: 2px;\n  right: 5px;\n  color: white;\n  font-size: 0.8em;\n  font-weight: bold;\n  z-index: 2;\n}\n`;\n\n","import { html, TemplateResult, css } from \"lit\";\nimport { customElement, property } from \"lit/decorators.js\";\nimport style_progress_bar from \"./progress_bar.styles\";\nimport { MyElement } from \"./element\";\nimport type { HassEntity, ProgressConfig } from \"../../types/index\";\n\nexport class ProgressBar extends MyElement {\n  static override styles = [style_progress_bar, css`\n    .progress-bar-fill {\n      background-color: var(--progress-fill-color);\n    }\n  `];\n\n  @property({ type: Object })\n  override stateObjTarget: HassEntity | null = null;\n\n  @property({ type: Object })\n  declare conf?: ProgressConfig;\n\n  constructor() {\n    super();\n    this.stateObjTarget = null;\n  }\n\n  protected override _render(_style: string = ''): TemplateResult {\n    // Check disabled condition\n/*    console.debug(\"DISABLED?\",this.conf.disabled_if);\n    if (this.conf?.disabled_if && this.evaluateDisabledCondition(this.conf.disabled_if)) {\n      return html`<br />`;\n    }\n*/\n    if (!this.stateObj || !this.stateObjTarget) {\n      return html`<div class=\"error\">Missing state</div>`;\n    }\n\n    const value = parseFloat(this.stateObj.state) || 0;\n    const target = parseFloat(this.stateObjTarget.state) || 1;\n    const percent = Math.floor((value * 100) / target);\n    if (percent > 100){\n      console.error(`[ProgressBar - ${this.conf.name}] bad percent value  : ${percent}=${value}*100/${target}`);\n    }\n    \n    const bar_class = this.conf?.class || 'progress-bar';\n    const label = this.label || '';\n    const unit = \"%\";\n    \n    const fill = Math.max(0, percent - 1);\n    const fillColor = `rgb(${this.c})`;\n\n    return html`\n      <div class=\"${bar_class}\">\n        <div class=\"progress-bar-container\">\n          <div \n            class=\"progress-bar-fill\" \n            style=\"width: ${fill}%; --progress-fill-color: ${fillColor}\">\n          </div>\n        </div>\n        ${label ? html`<span class=\"progress-label\">${label}</span>` : ''}\n        <span class=\"progress-value\">${percent}${unit}</span>\n      </div>\n    `;\n  }\n\n}\n","import {css} from 'lit';\n\nexport default css`\n`;\n","import { html, TemplateResult, css } from \"lit\";\nimport { customElement, property } from \"lit/decorators.js\";\nimport style_progress_circle from \"./progress_circle.styles\";\nimport { MyElement } from \"./element\";\nimport type { HassEntity, ProgressConfig } from \"../../types/index\";\n\nexport class ProgressCircle extends MyElement {\n  static override styles = [style_progress_circle, css`\n    .progress-circle-path {\n      stroke: var(--progress-stroke-color);\n    }\n  `];\n\n  @property({ type: Object })\n  override stateObjTarget: HassEntity | null = null;\n\n  @property({ type: Object })\n  declare conf?: ProgressConfig;\n\n  constructor() {\n    super();\n    this.stateObjTarget = null;\n  }\n\n  protected override _render(_style: string = ''): TemplateResult {\n    if (this.conf?.disabled_if && this.evaluateCondition(this.conf.disabled_if)) {\n      return html`<br />`;\n    }\n    let value=this.stateObj.state;\n    let target=this.stateObjTarget.state;\n    let percent=100\n    if(parseFloat(value) < parseFloat(target)){\n      percent=Math.floor( Number(this.stateObj.state)*100/this.stateObjTarget.state);\n    }//if\n    let circle_class=this.conf.class;\n    let label=this.label;\n    \n    let style='';\n\tif('no_value' in this.conf && this.conf.no_value){\n\t    style=\"visibility: hidden;\";\n\t};\n\tlet unit=\"%\"\n\tlet fill=percent-2;\n\tif (fill<0){\n\t    fill = 0;\n\t}\n\t// range 0 to 565 for 200x200\n\treturn html`\n              <svg width=\"100%\" height=\"100%\" viewBox=\"-25 -25 250 250\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" style=\"transform:rotate(-90deg)\">\n                <circle r=\"90\" cx=\"100\" cy=\"100\" fill=\"transparent\" stroke=\"rgba(150,150,150,0.6)\" stroke-width=\"16px\"></circle>\n                <circle r=\"90\" cx=\"100\" cy=\"100\" stroke=\"rgb(${this.c})\" stroke-width=\"16px\" stroke-linecap=\"round\" stroke-dashoffset=\"${565-percent*565/100}px\" fill=\"transparent\" stroke-dasharray=\"565.48px\"></circle>\n                <text x=\"71px\" y=\"115px\" fill=\"#6bdba7\" font-size=\"52px\" font-weight=\"bold\" style=\"${style} transform:rotate(90deg) translate(0px, -196px)\">${percent}</text>\n</svg>`;\n  }\n\n}\n","import {css} from 'lit';\n\nexport default css`\n`;\n","import { html } from \"lit\";\nimport { customElement } from \"lit/decorators.js\";\n\nimport style_messages from \"./messages.styles\";\nimport {MyElement} from \"./element\";\nimport type { ElementConfig } from \"../../types/element\";\n\nexport class RSMessages extends MyElement {\n\n  static override styles = style_messages;\n\n  constructor(){\n    super();\n  }\n  \n  protected override _render(_style: string = ''): any {\n    const sclass = this.conf?.class || \"\";\n    let trash: any = null;\n    let computed_style = this.get_style(\"elt.css\");\n    \n    if (!this.stateObj) {\n      return html``;\n    }\n    \n    let value = this.stateObj.state;\n    if (value === \"unavailable\" || value === \"unknown\" || value.length === 0) {\n      value = '';\n      computed_style = '';\n      trash = null;\n    }\n    else {\n      if (this.conf && 'label' in this.conf) {\n        value = this.conf.label + value + this.conf.label;\n      }\n      const conf: ElementConfig = {\n        type: \"click-image\",\n        name: \"trash\",\n        stateObj: false,\n        image: '/hacsfiles/ha-reef-card/img/trash.svg',\n        tap_action: {\n          domain: \"redsea\",\n          action: \"clean_message\",\n          data: {\n            device_id: this.device?.device?.elements?.[0]?.primary_config_entry,\n            msg_type: this.conf?.name,\n          }\n        },\n        css: {\n          display: \"inline-block\",\n          position: \"absolute\",\n          right: \"0px\"\n        }\n      };\n      \n      if (this._hass && this.device) {\n        trash = MyElement.create_element(this._hass, conf, this.device);\n      }\n    }\n    \n    return html`\n      <div style=${computed_style}>\n        <marquee class=\"${sclass}\">${value}</marquee>\n        ${trash}\n      </div>\n    `;\n  }\n}\n","import {css} from 'lit';\n\nexport default css`\nspan.unit{\nfont-size: 0.6em;\n}\n`;\n","import {css} from 'lit';\n\nexport default css`\n\n:hover{\ncursor: pointer;\n}\n\nspan.unit{\nfont-size: 0.6em;\n}\n`;\n","import { html, TemplateResult, CSSResultGroup, css } from \"lit\";\nimport { customElement, property } from \"lit/decorators.js\";\nimport style_sensor from \"./sensor.styles\";\nimport { MyElement } from \"./element\";\n\ninterface SensorConfig {\n  name?: string;\n  class?: string;\n  prefix?: string;\n  force_integer?: boolean;\n  unit?: string;\n  label?: string;\n  disabled_if?: any;\n  [key: string]: any;\n}\n\nexport class Sensor extends MyElement {\n  static override styles: CSSResultGroup = [style_sensor, css`\n    .sensor {\n      background-color: var(--sensor-bg-color);\n    }\n  `];\n\n  @property({ type: Object, attribute: false })\n  // @ts-expect-error - Property override compatibility\n  declare conf?: SensorConfig;\n\n  constructor() {\n    super();\n  }\n\n  override connectedCallback(): void {\n    super.connectedCallback();\n    this.stateOn = this.stateObj?.state === 'on';\n  }\n\n  override updated(): void {\n    if (this.stateObj) {\n      this.stateOn = this.stateObj.state === 'on';\n    }\n  }\n\n  protected override _render(_style: string = ''): TemplateResult {\n    if (!this.conf) {\n      return html``;\n    }\n\n    const sclass = this.conf.class || '';\n    let value: string | number = '';\n    let unit = '';\n\n    if (this.stateObj) {\n      value = this.label || this.stateObj.state;\n      unit = this.conf.unit || this.stateObj.attributes?.unit_of_measurement || '';\n\n      if (this.conf.prefix) {\n        value = this.conf.prefix + value;\n      }\n\n      if (this.conf.force_integer && typeof value === 'string') {\n        const numValue = parseFloat(value);\n        if (!isNaN(numValue)) {\n          value = Math.round(numValue).toString();\n        }\n      }\n    }\n\n    return html`\n      <div \n        class=\"sensor ${sclass}\" \n        style=\"${_style}; \">\n        ${value}\n        ${unit ? html`<span class=\"unit\">${unit}</span>` : ''}\n      </div>\n    `;\n  }\n\n}\n","import { html, TemplateResult } from \"lit\";\nimport { customElement, property } from \"lit/decorators.js\";\nimport style_sensor_target from \"./sensor_target.styles\";\nimport { Sensor } from \"./sensor\";\nimport type { HassEntity } from \"../../types/index\";\n\nexport class SensorTarget extends Sensor {\n  static override styles = style_sensor_target;\n\n  @property({ type: Object })\n  override stateObjTarget: HassEntity | null = null;\n\n  constructor() {\n    super();\n    this.stateObjTarget = null;\n  }\n\n  protected override _render(_style: string = ''): TemplateResult {\n    if (!this.stateObj || !this.stateObjTarget) {\n      return html`<div class=\"error\">Missing state</div>`;\n    }\n\n    let value = parseFloat(this.stateObj.state) || 0;\n    let target = parseFloat(this.stateObjTarget.state) || 0;\n    if(this.conf.force_integer){\n      value=Math.floor(value);\n      target=Math.floor(target);\n    }\n\n    //eval de unit\n    const unit = this.evaluate(this.conf?.unit || this.stateObj.attributes?.unit_of_measurement || '');\n    \n    const sclass = this.conf?.class || 'sensor';\n    \n    const style = this.get_style('css');\n    const bgColor = `rgba(${this.c},${this.alpha})`;\n\n    return html`\n<div class=\"${sclass}\" id=\"${this.conf.name}\" style=\"${style}\">${value}/${target}<span class=\"unit\">${unit}</span></div>\n`;\n    \n  }\n}\n","import {css} from 'lit';\n\nexport default css`\n\n:hover{\ncursor: pointer;\n}\n\n.switch_on{\n  position :absolute;\n  border-radius: 30px;\n  background-color: rgba(255,10,10,0.5);\n  border: 1px solid red;\n  width: 100%;\n  height: 100%;\n}\n\n.switch_off{\n  position :absolute;\n  border-radius: 30px;\n  background-color: rgba(175,175,175,0.5);\n  width: 100%;\n  height: 100%;\n}\n\n.switch_in_on{\n  position :absolute;\n  left: 38%;\n  top: -20%;\n  aspect-ratio: 1/1;\n  border-radius: 30px;\n  background-color: rgba(250,250,250,1);\n  width: 60%;\n}\n\n.switch_in_off{\n  position :absolute;\n  left: 0%;\n  top: -25%;\n  aspect-ratio: 1/1;\n  border-radius: 30px;\n  background-color: rgba(250,250,250,1);\n// background-color: rgba(255,20,20,1);  width: 60%;\n\n}\n\n.switch_button{\n  aspect-ratio: 1/1;\n  width: 100%;\n  height:100%;\n  border-radius: 50%;\n  color: white;\n  text-align:center;\n}\n`;\n","import { html } from \"lit\";\nimport { customElement } from \"lit/decorators.js\";\n\nimport style_switch from \"./switch.styles\";\nimport {MyElement} from \"./element\";\n\nexport class RSSwitch extends MyElement {\n\n  static override styles = style_switch;\n\n  constructor(){\n    super();\n  }\n\n  get is_on(): boolean {\n    if (!this.conf || !this.conf.name) return false;\n    return this.stateObj?.state === 'on';\n  }\n\n  protected override _render(_style: string = ''): any {\n    if (this.conf.style==\"switch\"){\n      return html`\n            <div class=\"switch_${this.stateObj.state}\">\n              <div class=\"switch_in_${this.stateObj.state}\"></div>\n            </div>`;\n\t}//if\n\telse if (this.conf.style==\"button\"){\n\t    if ('color' in this.conf){\n\t\tthis.color=this.conf.color;\n\t    }\n\t    if ('alpha' in this.conf){\n\t\tthis.alpha=this.conf.alpha;\n\t    }\n\t    return html`\n                     <style>\n                       #${this.conf.name}{\n                          background-color: rgba(${this.color},${this.alpha});\n                       }   \n                     </style>\n                     <div class=\"switch_button\"  id=\"${this.conf.name}\">${this.label}</div>\n`;\n\t}\n\telse{\n\t    console.error(\"Switch style \"+this.conf.style+\" unknown for \"+this.conf.name);\n\t}\n  }\n  \n  private _handleSwitchChange = (e: Event): void => {\n    const checkbox = e.target as HTMLInputElement;\n    const newState = checkbox.checked ? 'on' : 'off';\n    // Ici, déclencher l'action tap si configurée\n    if (this.conf?.tap_action) {\n      this._click();\n    }\n  }\n}\n","import {Button} from \"./button\";\nimport {ClickImage} from \"./click_image\";\nimport {Dialog} from \"./dialog\";\nimport {ProgressBar} from \"./progress_bar\";\nimport {ProgressCircle} from \"./progress_circle\";\nimport {RSMessages} from \"./messages\";\nimport {SensorTarget} from \"./sensor_target\";\nimport {Sensor} from \"./sensor\";\nimport {RSSwitch} from \"./switch\";\n\n\ncustomElements.define('click-image', ClickImage);\ncustomElements.define('common-button', Button);\ncustomElements.define('common-dialog', Dialog);\ncustomElements.define('common-sensor', Sensor);\ncustomElements.define('common-sensor-target', SensorTarget);\ncustomElements.define('common-switch', RSSwitch);\ncustomElements.define('progress-bar', ProgressBar);\ncustomElements.define('progress-circle', ProgressCircle);\ncustomElements.define('redsea-messages', RSMessages);\n\n","import {css} from \"lit\";\n\nexport default css`\n.device_bg{\n  position: relative;\n  top: 0;\n  left : 0;\n  width: 100%;\n  aspect-ratio: 2/1;\n}\n\n.device_img{\n  position: relative;\n  top: 0;\n  left : 0;\n  width: 100%;\n}\n`\n","export const config = {\n    \"name\": '',\n    \"model\": \"NODEVICE\",\n    \"background_img\": new URL(\"../img/NODEVICE.png\",import.meta.url)\n};\n","import { html, css } from \"lit\";\nimport { customElement, state } from \"lit/decorators.js\";\n\nimport {RSDevice} from \"./device\";\nimport style_nodevice from \"./nodevice.styles\";\n\nimport {config} from \"./mapping/NODEVICE\";\n\n// @ts-expect-error - Class extends RSDevice compatibility\nexport class NoDevice extends RSDevice {\n  static override styles = [style_nodevice];\n\n  //device={'elements':[{'model':'NODEVICE','name':''}]};\n  device={'model':'NODEVICE','name':'','elements':null};\n\n  constructor(){\n    super();\n    this.initial_config=config;\n  }\n\n    _populate_entities(){\n    }  \n\n  protected override _render() {\n\n\tthis.update_config();\n\treturn html`\n                     <p id=\"device_name\">${this.config.name}</p>\n                     <div class=\"device_bg\">\n                       <img class=\"device_img\" src=\"${this.config.background_img}\"/>\n                     </div>\n                     `;\n  }\n}\n","export const config = {\n  \"name\": null,\n  \"model\": \"RSDOSE4\",\n  \"background_img\": new URL(\"../img/RSDOSE4.png\",import.meta.url),\n  \"heads_nb\": 4,\n  \"dialogs\": {\n    \"head_configuration\":{\n      \"name\":\"head_configuration\",\n      \"title_key\":\"${i18n._('head_configuration')} +' n°'+ this.elt.device.config.id\",\n      \"close_cross\": false,\n      \"content\":[\n\t{\n\t  \"view\": \"common-button\",\n\t  \"conf\": {\n\t    \"type\": \"common-button\",\n\t    \"stateObj\": null,\n\t    \"icon\": \"mdi:cup-water\",\n\t    \"tap_action\":{\n\t      \"domain\":\"redsea_ui\",\n\t      \"action\":\"dialog\",\n\t      \"data\":{\n\t\t\"type\":\"priming\",\n\t\t\"overload_quit\": \"head_configuration\",\n\t      },\n\t    },\n\t    \"label\": \"${i18n._('priming')}\",\n\t    \"class\": \"dialog_button\",\n\t    \"css\":{\n\t      \"margin-bottom\":\"5px\",\n\t      \"text-align\":\"center\",\n\t    },\n\t    \"elt.css\":{\n\t      \"background-color\":\"rgba(0,0,0,0)\",\n\t    }\n\t  }\n\t},\t\n\t{\n\t  \"view\": \"common-button\",\n\t  \"conf\": {\n\t    \"type\": \"common-button\",\n\t    \"stateObj\": null,\n\t    \"icon\": \"mdi:cog-outline\",\n\t    \"tap_action\":{\n\t      \"domain\":\"redsea_ui\",\n\t      \"action\":\"dialog\",\n\t      \"data\":{\n\t\t\"type\":\"head_calibration\",\n\t\t\"overload_quit\": \"head_configuration\",\n\t      }\n\t    },\n\t    \"label\": \"${i18n._('calibration')}\",\n\t    \"class\": \"dialog_button\",\n\t    \"css\":{\n\t    },\n\t    \"elt.css\":{\n\t      \"background-color\":\"rgba(0,0,0,0)\",\n\t    }\n\t  },\n\t},\n\t{\n\t  \"view\":\"extend\",\n\t  \"extend\":\"dose_head_dialog\",\n\t}\n\t\n      ],\n    },\n    \"head_calibration\":{\n      \"name\":\"head_calibration\",\n      \"title_key\":\"${i18n._('calibration')} +' n°'+ this.elt.device.config.id\",\n      \"close_cross\": false,\n      \"content\":[\n\t{\n\t  \"view\": \"click-image\",\n\t  \"conf\":{\n\t    \"image\":'/hacsfiles/ha-reef-card/head_calibration.png',\n\t    \"type\": \"clic-_image\",\n\t    \"stateObj\":null,\n\t    \"tap_action\":[],\n\t    \"elt.css\":{\n\t      \"width\":\"30%\",\n\t      \"margin-left\":\"35%\",\n\t    }\n\t  }\n\t},\n\t{\n\t  \"view\": \"text\",\n\t  \"value\": \"${i18n._('calibration_step_1')}\"\n\t},\n      ],\n      \"validate\": {\n\t\"label\": \"${i18n._('start_calibration')}\",\n\t\"class\": \"dialog_button\",\n\t\"type\": \"common-button\",\n\t\"stateObj\":null,\n\t\"tap_action\":[\n\t  {\n\t    \"domain\":\"button\",\n\t    \"action\":\"press\",\n\t    \"data\": {\"entity_id\":\"start_calibration\"},\n\t  },\n\t  {\n\t    \"domain\": \"redsea_ui\",\n\t    \"action\": \"dialog\",\n\t    \"data\": {\"type\":\"head_calibration_step_2\"},\n\t  } \n\t]\n      }\n      \n    },\n    \"head_calibration_step_2\":{\n      \"name\":\"head_calibration_step_2\",\n      \"title_key\":\"${i18n._('calibration')} +' n°'+ this.elt.device.config.id\",\n      \"close_cross\": true,\n      \"content\":[\n\t{\n\t  \"view\": \"text\",\n\t  \"value\": \"${i18n._('calibration_step_2')}\"\n\t},\n\t{\n\t  \"view\": \"click-image\",\n\t  \"conf\":{\n\t    \"image\":'/hacsfiles/ha-reef-card/read_graduated.jpg',\n\t    \"type\": \"clic-_image\",\n\t    \"stateObj\":null,\n\t    \"tap_action\":[],\n\t    \"elt.css\":{\n\t      \"width\":\"30%\",\n\t      \"margin-left\":\"35%\",\n\t    }\n\t  }\n\t},\n\t\n\t{\n\t  \"view\": \"hui-entities-card\",\n\t  \"conf\":{\n\t    \"type\":\"entities\",\n\t    \"entities\": [\n\t      {\"entity\":\"calibration_dose_value\",\"name\":{\"type\":\"entity\"}},\n\t    ]\n\t  }\n\t},\n      ],\n      \"validate\": {\n\t\"label\": \"${i18n._('set_calibration')}\",\n\t\"class\": \"dialog_button\",\n\t\"type\": \"common-button\",\n\t\"stateObj\":null,\n\t\"tap_action\":[\n\t  {\n\t    \"domain\":\"button\",\n\t    \"action\":\"press\",\n\t    \"data\": {\"entity_id\":\"set_calibration_value\"},\n\t  },\n\t  {\n\t    \"domain\": \"redsea_ui\",\n\t    \"action\": \"dialog\",\n\t    \"data\": {\"type\":\"head_calibration_step_3\"},\n\t  } \n\t]\n      }\n    },\n    \"test_calibration\":{\n      \"name\": \"test_calibration\",\n      \"title_key\":\"${i18n._('calibration')} +' n°'+ this.elt.device.config.id\",\n      \"content\":[\n\t{\n\t  \"view\": \"text\",\n\t  \"value\": \"${i18n._('test_calibration_validation')}\"\n\t},\n\t{\n\t  \"view\": \"click-image\",\n\t  \"conf\":{\n\t    \"image\":'/hacsfiles/ha-reef-card/read_graduated.jpg',\n\t    \"type\": \"clic-_image\",\n\t    \"stateObj\":null,\n\t    \"tap_action\":[],\n\t    \"elt.css\":{\n\t      \"width\":\"30%\",\n\t      \"margin-left\":\"35%\",\n\t    }\n\t  }\n\t},\n\t{\n\t  \"view\": \"common-button\",\n\t  \"conf\": {\n\t    \"type\": \"common-button\",\n\t    \"stateObj\": null,\n\t    \"tap_action\":[\n\t      {\n\t\t\"domain\":\"button\",\n\t\t\"action\":\"press\",\n\t\t\"data\": {\"entity_id\":\"end_calibration\"}\n\t      },\n\t      {\n\t\t\"domain\":\"redsea_ui\",\n\t\t\"action\":\"dialog\",\n\t\t\"data\":{\"type\": \"head_calibration\"},\n\t      },\n\t    ],\n\t    \"label\": \"${i18n._('no')}\",\n\t    \"class\": \"dialog_button\",\n\t    \"css\":{\n\t      \"margin-bottom\":\"5px\",\n\t      \"text-align\":\"center\",\n\t    },\n\t    \"elt.css\":{\n\t      \"background-color\":\"rgba(0,0,0,0)\",\n\t    }\n\t  }\n\t},\t\n      ],\n      \"validate\": {\n\t\"label\": \"${i18n._('yes')}\",\n\t\"class\": \"dialog_button\",\n\t\"type\": \"common-button\",\n\t\"stateObj\":null,\n\t\"tap_action\":[\n\t  {\n\t    \"domain\":\"button\",\n\t    \"action\":\"press\",\n\t    \"data\": {\"entity_id\":\"end_calibration\"},\n\t  },\n\t  {\n\t    \"domain\": \"redsea_ui\",\n\t    \"action\": \"exit-dialog\",\n\t  } \n\t]\n      }\n      \n    },\n    \"head_calibration_step_3\":{\n      \"name\":\"head_calibration_step_3\",\n      \"title_key\":\"${i18n._('calibration')} +' n°'+ this.elt.device.config.id\",\n      \"content\":[\n\t{\n\t  \"view\": \"text\",\n\t  \"value\": \"${i18n._('test_calibration_description')}\"\n\t},\n\t{\n\t  \"view\": \"click-image\",\n\t  \"conf\":{\n\t    \"image\":'/hacsfiles/ha-reef-card/head_calibration.png',\n\t    \"type\": \"clic-_image\",\n\t    \"stateObj\":null,\n\t    \"tap_action\":[],\n\t    \"elt.css\":{\n\t      \"width\":\"20%\",\n\t      \"margin-left\":\"35%\",\n\t    }\n\t  }\n\t},\n\t{\n\t  \"view\": \"common-button\",\n\t  \"conf\": {\n\t    \"type\": \"common-button\",\n\t    \"stateObj\": null,\n\t    \"icon\": \"mdi:test-tube\",\n\t    \"tap_action\":[\n\t      {\n\t\t\"domain\":\"button\",\n\t\t\"action\":\"press\",\n\t\t\"data\":{\n\t\t  \"entity_id\":\"test_calibration\",\n\t\t},\n\t      },\n\t      {\n\t\t\"domain\":\"redsea_ui\",\n\t\t\"action\":\"dialog\",\n\t\t\"data\":{\n\t\t  \"type\":\"test_calibration\",\n\t\t},\n\t      },\n\t    ],\n\t    \"label\": \"${i18n._('test_calibration')}\",\n\t    \"class\": \"dialog_button\",\n\t    \"css\":{\n\t      \"margin-bottom\":\"5px\",\n\t      \"text-align\":\"center\",\n\t    },\n\t    \"elt.css\":{\n\t      \"background-color\":\"rgba(0,0,0,0)\",\n\t    }\n\t  }\n\t},\t\n      ],\n      \"validate\": {\n\t\"label\": \"${i18n._('finish')}\",\n\t\"class\": \"dialog_button\",\n\t\"type\": \"common-button\",\n\t\"stateObj\":null,\n\t\"tap_action\":[\n\t  {\n\t    \"domain\":\"button\",\n\t    \"action\":\"press\",\n\t    \"data\": {\"entity_id\":\"end_calibration\"},\n\t  },\n\t  {\n\t    \"domain\": \"redsea_ui\",\n\t    \"action\": \"exit-dialog\",\n\t  } \n\t]\n      }\n      \n    },\n    \"priming\":{\n      \"name\":\"priming\",\n      \"title_key\":\"${i18n._('priming')} +' n°'+ this.elt.device.config.id\",\n      \"close_cross\": true,\n      \"content\":[\n\t{\n\t  \"view\": \"click-image\",\n\t  \"conf\":{\n\t    \"image\":'/hacsfiles/ha-reef-card/priming.png',\n\t    \"type\": \"clic-_image\",\n\t    \"stateObj\":null,\n\t    \"tap_action\":[],\n\t    \"elt.css\":{\n\t      \"width\":\"30%\",\n\t      \"margin-left\":\"35%\",\n\t    }\n\t  }\n\t},\n\t{\n\t  \"view\": \"hui-entities-card\",\n\t  \"conf\":{\n\t    \"type\":\"entities\",\n\t    \"entities\": [\n\t      {\"entity\":\"start_priming\",\"name\":{\"type\":\"entity\"}},\n\t      {\"entity\":\"stop_priming\",\"name\":{\"type\":\"entity\"}},\n\t    ]\n\t  }\n\t},\n      ],\n      \"validate\": {\n\t\"label\": \"${i18n._('next')}\",\n\t\"class\": \"dialog_button\",\n\t\"type\": \"common-button\",\n\t\"stateObj\":null,\n\t\"tap_action\":[\n\t  {\n\t    \"domain\": \"redsea_ui\",\n\t    \"action\": \"dialog\",\n\t    \"data\": {\"type\":\"head_calibration\"},\n\t  } \n\t]\n      }\n    },\n    \"edit_container\":{\n      \"name\":\"edit_container\",\n      \"title_key\":\"${i18n._('dialog_edit_container')} +' n°'+ this.elt.device.config.id\",\n      \"close_cross\": false,\n      \"content\":[\n\t{\n\t  \"view\":\"extend\",\n\t  \"extend\":\"dose_head_dialog\",\n\t},\n\t{\n\t  \"view\": \"hui-entities-card\",\n\t  \"conf\":{\n\t    \"type\":\"entities\",\n\t    \"entities\": [\n\t      {\"entity\":\"slm\",\"name\":{\"type\":\"entity\"}},\n\t      {\"entity\":\"save_initial_container_volume\",\"name\":{\"type\":\"entity\"}},\n\t      {\"entity\":\"container_volume\",\"name\":{\"type\":\"entity\"}},\n\t    ]\n\t  }\n\t},\n\t{\n\t  \"view\": \"click-image\",\n\t  \"conf\":{\n\t    \"image\":'/hacsfiles/ha-reef-card/img/trash.svg',\n\t    \"type\": \"clic-_image\",\n\t    \"stateObj\":null,\n\t    \"tap_action\":[\n\t      {\n\t\t\"domain\": \"redsea_ui\",\n\t\t\"action\": \"dialog\",\n\t\t\"data\": {\"type\":\"delete_container\"},\n\t      } \n\t    ],\n\t    \"elt.css\":{\n\t      \"position\":\"absolute\",\n\t      \"top\":\"7%\",\n\t      \"right\": \"5%\",\n\t    }\n\t  }\n\t},\n      ],\n    },\n    \"delete_container\":{\n      \"name\": \"delete_container\",\n      \"title_key\":\"${i18n._('dialog_delete_supplement_title')} +' n°'+ this.elt.device.config.id\",\n      \"close_cross\": false,\n      \"content\":[],\n      \"validate\": {\n\t\"label\": \"${i18n._('delete')}\",\n\t\"class\": \"dialog_button\",\n\t\"type\": \"common-button\",\n\t\"stateObj\":null,\n\t\"tap_action\":[\n\t  {\n\t    \"domain\": \"button\",\n\t    \"action\": \"press\",\n\t    \"data\": {\"entity_id\":\"delete_supplement\"},\n\t  },\n\t  {\n\t    \"domain\": \"redsea_ui\",\n\t    \"action\": \"message_box\",\n\t    \"data\":\"${i18n._('delete_wait')}\",\n\t  },\n\t  {\n\t    \"domain\": \"redsea_ui\",\n\t    \"action\": \"exit-dialog\",\n\t  },\n\t]\n      },\n      \"cancel\":true,\n    },\n    \"add_supplement\":{\n      \"name\": \"add_supplement\",\n      \"title_key\":\"${i18n._('dialog_add_supplement_title')} +' n°'+ this.elt.device.config.id\",\n      \"close_cross\": true,\n      \"content\":[\n\t{\n\t  \"view\": \"hui-entities-card\",\n\t  \"conf\":{\n\t    \"type\":\"entities\",\n\t    \"entities\": [\n\t      {\"entity\":\"supplements\",\"name\":{\"type\":\"entity\"}},\n\t    ]\n\t  },\n\t},\n\t{\n\t  \"view\":\"extend\",\n\t  \"extend\":\"dose_head_dialog\",\n\t  \"re_render\": true,\n\t},\n\t\n      ],\n      \"validate\": {\n\t\"label\": \"${i18n._('next')}\",\n\t\"class\": \"dialog_button\",\n\t\"type\": \"common-button\",\n\t\"stateObj\":null,\n\t\"tap_action\":[\n\t  {\n\t    \"domain\": \"button\",\n\t    \"action\": \"press\",\n\t    \"data\": {\"entity_id\":\"set_supplement\"},\n\t  },\n\t  {\n\t    \"domain\": \"redsea_ui\",\n\t    \"action\": \"dialog\",\n\t    \"data\": {\"type\":\"set_container_volume\"},\n\t  } \n\t]\n      }\n    },\n    \"set_container_volume\":{\n      \"name\":\"set_container_volume\",\n      \"close_cross\": true,\n      \"title_key\": \"${i18n._('set_container_volume')}\",\n      \"content\":[\n\t{\n\t  \"view\":\"extend\",\n\t  \"extend\":\"dose_head_dialog\",\n\t},\n\t{\n\t  \"view\": \"hui-entities-card\",\n\t  \"conf\":{\n\t    \"type\":\"entities\",\n\t    \"entities\": [\n\t      {\"entity\":\"slm\",\"name\":{\"type\":\"entity\"}},\n\t      {\"entity\":\"save_initial_container_volume\",\"name\":{\"type\":\"entity\"}},\n\t      {\"entity\":\"container_volume\",\"name\":{\"type\":\"entity\"}},\n\t    ]\n\t  }\n\t}\n      ],\n      \"validate\": {\n\t\"label\": \"${i18n._('next')}\",\n\t\"class\": \"dialog_button\",\n\t\"type\": \"common-button\",\n\t\"stateObj\":null,\n\t\"tap_action\":[\n\t  {\n\t    \"domain\": \"redsea_ui\",\n\t    \"action\": \"dialog\",\n\t    \"data\": {\"type\":\"priming\"},\n\t  } \n\t]\n      }\n      \n    },\n    \"set_manual_head_volume\":{\n      \"name\": \"set_manual_head_volume\",\n      \"title_key\": \"${i18n._('set_manual_head_volume')}\",\n      \"close_cross\": true,\n      \"content\":[\n\t{\n\t  \"view\":\"extend\",\n\t  \"extend\":\"dose_head_dialog\",\n\t},\n\t{\"view\":\"hui-entities-card\",\n\t \"conf\":{\n\t   \"type\":\"entities\",\n\t   \"entities\":[\n\t     {\"entity\":\"supplement\",\"name\":{\"type\":\"entity\"}},\n\t     {\"entity\":\"manual_head_volume\",\"name\":{\"type\":\"entity\"}},\n\t     {\"entity\":\"manual_head\",\"name\":{\"type\":\"entity\"}},\n\t     // \"manual_head\", can also be only a string but display name is full\n\t   ]}\n\t   },\n\t ],\n\t},\n\t\"auto_dose\":{\n\t  \"title_key\": \"set_auto_dose\",\n\t  \"name\": \"auto_dose\",\n\t  \"close_cross\": true,\n\t  \"content\":[\n\t    {\"view\":\"hui-entities-card\",\n\t     \"conf\":{\n\t       \"type\":\"entities\",\n\t       \"entities\":[\n\t\t {\"entity\":\"daily_dose\",\"name\":{\"type\":\"entity\"}},\n\t       ]}\n\t    },\n\t  ],\n\t  \"validate\": {\n\t    \"tap_action\": {\n\t      \"domain\": \"redsea_ui\",\n\t      \"action\": \"exit-dialog\",\n\t    }\n\t  }\n\t}\n      },\n      \"elements\": {\n\t\"last_message\":{\n\t  \"name\": \"last_message\",\n\t  \"type\":\"redsea-messages\",\n\t  \"css\":{\n\t    \"flex\": \"0 0 auto\",\n\t    \"position\": \"absolute\",\n\t    \"width\": \"100%\",\n\t    \"height\": \"15px\",\n\t    \"top\": \"33%\",\n\t    \"left\": \"0px\",\n\t  },\n\t  \"elt.css\":{\n\t    \"background-color\": \"rgba(220,220,220,0.7)\",\n\t  }\n\t},\n\t\"last_alert_message\":{\n\t  \"name\": \"last_alert_message\",\n\t  \"type\":\"redsea-messages\",\n\t  \"label\":\"'⚠'\",\n\t  /* \"tap_action\": { \t\t\"domain\": \"switch\",\n\t     \"action\":\"toggle\",\n\t     \"data\": \"default\",\n\t     // \"data\": {\"entity_id\":\"switch.ifmu_rsdose4_4647319427_head_4_schedule_enabled\"},\n\t     },*/\n\t  \"css\":{\n\t    \"color\": \"red\",\n\t    \"flex\": \"0 0 auto\",\n\t    \"position\": \"absolute\",\n\t    \"width\": \"100%\",\n\t    \"height\": \"20px\",\n\t    \"top\": \"37%\",\n\t    \"left\": \"0px\",\n\t  },\n\t  \"elt.css\":{\n\t    \"background-color\": \"rgba(240,200,200,0.7)\",\n\t  }\n\t},\n\t\"device_state\":{\n\t  \"name\": \"device_state\",\n\t  \"master\": true, // If true, the changes of state of this element force a device redraw\n\t  \"type\":\"common-switch\",\n\t  \"label\":false,\n\t  \"class\":\"on_off\",\n\t  \"style\": \"switch\",\n\t  \"tap_action\": {\n\t    \"domain\": \"switch\",\n\t    \"action\":\"toggle\",\n\t    \"data\": \"default\",\n\t    // \"data\": {\"entity_id\":\"switch.ifmu_rsdose4_4647319427_head_4_schedule_enabled\"},\n\t  },\n\t    \"css\":{\n\t      \"flex\": \"0 0 auto\",\n\t      \"position\": \"absolute\",\n\t      \"width\": \"5.5%\",\n\t      \"height\": \"2%\",\n\t      \"border-radius\": \"50%\",\n\t      \"top\": \"28%\",\n\t      \"left\": \"2%\",\n\t    }\n\t  },\n\t  \"maintenance\":{\n\t    \"name\": \"maintenance\",\n\t    \"type\":\"common-switch\",\n\t    \"master\": true,\n\t    \"label\":false,\n\t    \"class\":\"on_off\",\n\t    \"style\": \"switch\",\n\t    \"tap_action\": {\n\t      \"enabled\": true,\n\t      \"domain\": \"switch\",\n\t      \"action\":\"toggle\",\n\t      \"data\": \"default\",\n\t    },\n\t    \"css\":{\n\t      \"flex\": \"0 0 auto\",\n\t      \"position\": \"absolute\",\n\t      \"width\": \"5.5%\",\n\t      \"height\": \"2%\",\n\t      \"border-radius\": \"50%\",\n\t      \"top\": \"22%\",\n\t      \"left\": \"2%\",\n\t    }\n\t  },\n\t},\n\t\"dosing_queue\":{\n\t  \"type\": \"redsea-dosing-queue\",\n\t  \"name\": \"dosing_queue\",\n\t  \"css\":{\n\t    \"text-align\": \"center\",\n            \"border\": \"1px solid black\",\n\t    \"border-radius\": \"15px\",\n            \"background-color\": \"rgb(200,200,200)\",\n            \"position\": \"absolute\",\n            \"width\": \"12%\",\n            \"height\": \"45%\",\n            \"left\": \"88%\",\n            \"top\": \"45%\",\n            \"font-size\": \"x-small\",\n            \"overflow-x\": \"hidden\",\n            \"overflow-y\": \"auto\",\n\t    \"scrollbar-color\": \"gray rgb(255,255,255,0)\",\n\t  },\n\t},\n\t\"heads\": {\n\t  \"common\" :{\n\t    \"alpha\": \"0.6\",\n\t    \"shortcuts=\":\"\",\n\t    \"css\":{\n\t      \"top\":\"0%\",\n\t      \"left\": \"50%\",\n\t      \"position\":\"absolute\",\n\t      \"flex\":\"0 0 auto\",\n\t      \"width\": \"31%\",\n\t      \"height\": \"100%\",\n\t    },\n\t    \"container\":{\n\t      \"css\":{\n\t\t\"position\": \"absolute\",\n\t\t\"top\": \"41%\",\n\t\t\"width\": \"68%\",\n\t\t\"aspect-ratio\": \"1/3\",\n\t      },\n\t    },\n\t    \"warning\" :{\n\t      \"css\":{\n\t\t\"width\": \"58%\",\n\t\t\"position\": \"absolute\",\n\t\t\"left\": \"28%\",\n\t\t\"top\": \"30%\",\n\t\t\"animation\": \"blink 1s\",\n\t\t\"animation-iteration-count\": \"infinite\",\n\t      },\n\t    },\n\t    \"warning_label\" :{\n\t      \"css\":{\n\t\t\"width\": \"58%\",\n\t\t\"position\": \"absolute\",\n\t\t\"left\": \"28%\",\n\t\t\"top\": \"47%\",\n\t\t\"animation\": \"blink 1s\",\n\t\t\"animation-iteration-count\": \"infinite\",\n\t\t\"background-color\": \"#df1800\",\n\t\t\"text-align\": \"center\",\n\t\t\"border-radius\": \"20px\",\n\t\t\"color\": \"#ffff00\",\n\t\t\"font-weight\": \"bold\",\n\t      },\n\t    },\n\t    \"pump_state_head\":{\n\t      \"css\":{\n\t\t\"position\": \"absolute\",\n\t\t\"aspect-ratio\": \"1/1\",\n\t\t\"width\": \"55%\",\n\t\t\"border-radius\": \"50%\",\n\t\t\"top\": \"9.5%\",\n\t\t\"left\": \"32%\",\n\t      },\n\t    },\n\t    \"pump_state_labels\":{\n\t      \"css\":{\n\t\t\"aspect-ratio\": \"1/1\",\n\t\t\"width\": \"100%\",\n\t\t\"display\": \"grid\",\n\t\t\"grid-template-columns\": \"1\",\n\t\t\"grid-template-rows\": \"3\",\n\t\t\"grid-gap\": \"0px\",\n\t      }\n\t    },\n\t    \"pipe\": {\n\t      \"css\": {\n\t\t\"flex\":\" 0 0 auto\",\n                \"position\":\" absolute\",\n                \"width\":\" 70%\",\n                \"top\":\" 32%\",\n                \"left\":\" 30%\",\n\t      },\n\t    },\n\t    \"calibration\": {\n\t      \"css\":{\n\t\t\"flex\": \"0 0 auto\",\n                \"position\": \"absolute\",\n                \"width\": \"50%\",\n                \"top\": \"10%\",\n                \"left\": \"35%\",\n\t\t\"filter\": \"none\",\n\t\t\"animation\": \"blink 1s\",\n\t\t\"animation-iteration-count\": \"infinite\",\n\t      }\n\t    },\n\t    \"elements\": {\n\t      \"supplement\":{\n\t\t\"name\": \"supplement\",\n\t\t\"label\": \"${stateObj.attributes.supplement.brand_name}: ${stateObj.state}\",\n\t\t\"type\": \"common-sensor\",\n\t\t\"put_in\":\"supplement_info\",\n\t\t\"elt.css\":{\n\t\t  \"position\": \"absolute\",\n\t\t  \"width\": \"60%\",\n\t\t  \"top\": \"30%\",\n\t\t  \"left\": \"30%\",\n\t\t  \"color\": \"white\",\n\t\t  \"background-color\": \"rgba(0,0,0,0)\",\n\t\t}\n\t      },\n\t      \"supplement_bottle\":{\n\t\t\"name\": \"supplement_bottle\",\n\t\t\"label\": null,\n\t\t\"type\": \"common-button\",\n\t\t\"put_in\":\"supplement\",\n\t\t\"stateObj\":null,\n\t\t\"elt.css\":{\n\t\t  \"position\": \"absolute\",\n\t\t  \"background-color\": \"rgba(0,80,120,0)\",\n\t\t},\n\t\t\"tap_action\":{\n\t\t  \"domain\": \"redsea_ui\",\n\t\t  \"action\" : \"dialog\",\n\t\t  \"data\": {\"type\":\"edit_container\"}\n\t\t}\n\t      },\n\t      \"manual_head_volume\":{\n\t\t\"name\": \"manual_head_volume\",\n\t\t\"force_integer\": true,\n\t\t\"type\": \"common-sensor\",\n\t\t\"css\":{\n\t\t  \"position\": \"absolute\",\n\t\t  \"width\": \"60%\",\n\t\t  \"top\": \"0%\",\n\t\t  \"left\": \"20%\",\n\t\t  \"background-color\": \"$DEVICE-COLOR-ALPHA$\",\n\t\t  \"border-radius\": \"30px\",\n\t\t  \"text-align\": \"center\",\n\t\t  \"padding-left\": \"5px\",\n\t\t  \"padding-right\": \"5px\"\n\t\t},\n\t\t\"tap_action\": {\n\t\t  \"domain\": \"redsea_ui\",\n\t\t  \"action\" : \"dialog\",\n\t\t  \"data\": {\"type\":\"set_manual_head_volume\"}\n\t\t}\n\t      },\n\t      \"manual_dosed_today\":{\n\t\t\"name\": \"manual_dosed_today\",\n\t\t\"type\": \"common-sensor\",\n\t\t\"force_integer\": true,\n\t\t\"put_in\": \"pump_state_labels\",\n\t\t\"class\": \"scheduler_label_top\",\n\t\t\"disabled_if\": \"${state}<1\",\n\t\t\"prefix\": \"+\",\n\t\t\"css\":{\n\t\t  \"text-align\": \"center\",\n\t\t  \"grid-column\": \"1\",\n\t\t  \"grid-row\": \"1\",\n\t\t  \"color\": \"rgb(250,230,130)\",\n\t\t  \"font-weight\": \"bold\",\n\t\t  \"margin-top\":\"10%\",\n\t\t},\n\t      },\n\t      \"auto_dosed_today\":{\n\t\t\"name\": \"auto_dosed_today\",\n\t\t\"target\": \"daily_dose\",\n\t\t\"force_integer\": true,\n\t\t\"put_in\": \"pump_state_labels\",\n\t\t\"class\": \"scheduler_label_middle\",\n\t\t\"type\":\"common-sensor-target\",\n\t\t\"css\":{\n\t\t  \"text-align\":\"center\",\n\t\t  \"color\": \"white\",\n\t\t  \"grid-column\": \"1\",\n\t\t  \"grid-row\": \"2\",\n\t\t  \"font-weight\": \"bold\",\n\t\t  \"font-size\":\"1.2em\",\n\t\t  \"margin-top\":\"-20%\",\n\t\t},\n\t      },\n\t      \"doses_today\":{\n\t\t\"name\": \"doses_today\",\n\t\t\"target\": \"daily_doses\",\n\t\t\"force_integer\": true,\n\t\t\"put_in\": \"pump_state_labels\",\n\t\t\"class\": \"scheduler_label_bottom\",\n\t\t\"type\":\"common-sensor-target\",\n\t\t\"unit\": \"${i18n._('doses')}\",\n\t\t\"css\": {\n\t\t  \"text-align\": \"center\",\n\t\t  \"color\": \"rgb(130,230,250)\",\n\t\t  \"grid-column\": \"1\",\n\t\t  \"grid-row\": \"3\",\n\t\t  \"font-weight\": \"bold\",\n\t\t  \"font-size\":\"0.8em\",\n\t\t  \"margin-top\":\"-20%\",\n\t\t},\n\t      },\n\t      \"container_volume\":{\n\t\t\"name\": \"container_volume\",\n\t\t\"target\": \"save_initial_container_volume\",\n\t\t\"type\": \"progress-bar\",\n\t\t\"class\":\"pg-container\",\n\t\t\"label\": \" ${entity.remaining_days.state} ${i18n._('days_left')}\",\n\t\t\"disabled_if\": \"${entity.slm.state}=='off' || ${entity.daily_dose.state}==0\",\n\t\t\"css\":{\n\t\t  \"position\":\"absolute\",\n\t\t  \"transform\":\"rotate(-90deg)\",\n\t\t  \"top\":\"69%\",\n\t\t  \"left\":\"-60%\",\n\t\t  \"width\":\"140%\",\n\t\t},\n\t      },\n\t      \"auto_dosed_today_circle\":{\n\t\t\"name\": \"auto_dosed_today\",\n\t\t\"target\": \"daily_dose\",\n\t\t\"force_integer\": true,\n\t\t\"type\":\"progress-circle\",\n\t\t\"class\":\"today_dosing\",\n\t\t\"put_in\": \"pump_state_labels\",\n\t\t\"no_value\":true,\n\t\t\"css\":{\n\t\t  \"position\":\"absolute\",\n\t\t  \"top\":\"-23%\",\n\t\t  \"left\":\"-23%\",\n\t\t  \"aspect-ratio\":\"1/1\",\n\t\t  \n\t\t  \"width\":\"140%\",\n\t\t},\n\t      },\n\t      \"schedule_enabled\":{\n\t\t\"alpha\": 0,\n\t\t\"name\": \"schedule_enabled\",\n\t\t\"master\": true,\n\t\t\"type\": \"common-switch\",\n\t\t\"class\": \"pump_state_head\",\n\t\t\"style\": \"button\",\n\t\t\"css\":{\n\t\t  \"position\":\"absolute\",\n\t\t  \"aspect-ratio\":\"1/1\",\n\t\t  \"width\":\"45%\",\n\t\t  \"border-radius\":\"50%\",\n\t\t  \"top\":\"10%\",\n\t\t  \"left\":\"32.5%\",\n\t\t},\n\t\t\"hold_action\": {\n\t\t  \"enabled\": true,\n\t\t  \"domain\": \"switch\",\n\t\t  \"action\":\"toggle\",\n\t\t  \"data\": \"default\",\n\t\t},\n\t\t\"tap_action\": {\n\t\t  \"domain\": \"redsea_ui\",\n\t\t  \"action\":\"dialog\",\n\t\t  \"data\": {\"type\":\"head_configuration\"}\n\t\t}\n\t      },\n\t      \"manual_head\":{\n\t\t\"name\": \"manual_head\",\n\t\t\"type\": \"common-button\",\n\t\t\"class\": \"manual_dose_head\",\n\t\t\"css\":{\n\t\t  \"position\":\" absolute\",\n                  \"aspect-ratio\":\" 1/1\",\n                  \"width\":\" 15%\",\n                  \"border-radius\":\" 50%\",\n                  \"top\":\" 5%\",\n                  \"left\":\" 33%;\",\n\t\t},\n\t\t\"tap_action\": {\n\t\t  \"domain\": \"button\",\n\t\t  \"action\":\"press\",\n\t\t  \"data\": \"default\",\n\t\t}\n\t      }\n\t    }\n\t  },\n\t  \"head_1\": {\n\t    \"id\" : 1,\n\t    \"color\": \"140,67,148\",\n\t    \"css\":{\n\t      \"left\":\"1%\",\n\t    },\n\t    \"calibration\":{\n\t      \"css\":{\n\t\t\"left\":\"33%\",\n\t      },\n\t    }\n\t  },\n\t  \"head_2\": {\n\t    \"id\" : 2,\n\t    \"color\": \"0,129,197\",\n\t    \"css\":{\n\t      \"left\":\"23%\",\n\t    },\n\t  },\n\t  \"head_3\": {\n\t    \"id\" : 3,\n\t    \"color\": \"0,130,100\",\n\t    \"css\":{\n\t      \"left\":\"44%\",\n\t    },\n\t    \"pump_state_head\":{\n\t      \"css\":{\n\t\t\"left\": \"37%\",\n\t      },\n\t    },\n\t    \"calibration\":{\n\t      \"css\":{\n\t\t\"left\":\"37%\",\n\t      },\n\t    }\n\n\t  },\n\t  \"head_4\": {\n\t    \"id\" : 4,\n\t    \"color\": \"100,160,75\",\n\t    \"css\":{\n\t      \"left\":\"65%\",\n\t    },\n\t    \"pump_state_head\":{\n\t      \"css\":{\n\t\t\"left\": \"41%\",\n\t      },\n\t    },\n\t    \"calibration\":{\n\t      \"css\":{\n\t\t\"left\":\"41%\",\n\t      },\n\t    }\n\t    \n\t  }\n\t}\n      };\n","import {css} from 'lit';\n\nexport default css`\n`;\n","import {css} from 'lit';\n\nexport default css`\n.device_bg{\n    position: relative;\n    top: 0;\n    left : 0;\n    width: 100%;\n    aspect-ratio: 1/1.2;\n    }\n\n.device_img{\n    position: relative;\n    top: 0;\n    left : 0;\n    width: 100%;\n    }\n\n.device_img_disabled{\n    position: relative;\n    top: 0;\n    left : 0;\n    width: 100%;\n    filter: grayscale(80%);\n    }\n\n.disabled_in_ha{\n  color: white;\n  text-align: center;\n  position : absolute;\n  width: 100%;\n  top:15%;\n  left: 0%;\n  background-color:rgba(255,0,0,0.5);\n}\n`\n;\n","// @ts-nocheck\nimport { html } from \"lit\";\nimport {RSDevice} from \"./device\";\nimport {config} from \"./mapping/RSDOSE4\";\nimport DoseHead from \"./dose_head\";\n\nimport style_rsdose from \"./rsdose.styles\";\nimport style_common from \"./common.styles\";\n\nimport i18n from \"../translations/myi18n\";\n\nimport {rgbToHex,hexToRgb} from \"../common\";\nimport {merge} from \"../merge\";\n\nimport {DosingQueue} from \"./dosing_queue\";\nimport {MyElement} from \"./base/element\";\nimport {RSMessages} from './base/messages';\n\ninterface HeadEntity {\n  entities: Record<string, any>;\n  dose_head?: any;\n}\n\n\n// TODO: RSDOSE Implement advanced schedule edition\n// Issue URL: https://github.com/Elwinmage/ha-reef-card/issues/14\n// labels: enhancement, rsdose\nexport class RSDose extends RSDevice{\n\n  // TODO: RSDOSE Implement baifc services\n  // Issue URL: https://github.com/Elwinmage/ha-reef-card/issues/13\n  // labels: enhancement, rsdose\n  static styles = [style_rsdose,style_common];\n  _heads: HeadEntity[] = [];\n  supplement_color: Record<string, any> = {};\n  dosing_queue: DosingQueue | null = null;\n\n  static get properties(){\n    return{\n      supplement_color: {},\n    }\n  }\n  \n  constructor(){\n    super();\n    this.supplement_color={};\n    this.initial_config=config;\n    this.dosing_queue=null;\n  }// end of constructor\n\n  set hass(obj: any){\n    this._setting_hass(obj);\n    for (const head of this._heads){\n      if ('dose_head' in head){\n\thead.dose_head.hass=obj;\n      }\n    }\n    if(this.dosing_queue){\n      this.dosing_queue.hass=obj;\n    }\n  }\n  \n  _populate_entities(): void {\n    \n  }\n\n  _populate_entities_with_heads(): void {\n    this.update_config();\n    for (let i=0; i<=this.config.heads_nb;i++){\n      this._heads.push({'entities':{}});\n    }\n    if (!this._hass) return;\n    \n    for (const entity_id in this._hass.entities){\n      const entity=this._hass.entities[entity_id];\n      if (!this.device) continue;\n      \n      for (const d of this.device.elements){\n\tconst fname=d['identifiers'][0][1].split(\"_\");\n\tlet head_id=0;\n\tif (fname[fname.length  - 2 ] == \"head\"){\n\t  head_id=parseInt(fname[fname.length-1]);\n\t}\n\tif(entity.device_id == d.id){\n\t  if (head_id==0){\n\t    this.entities[entity.translation_key]=entity;\n\t  }\n\t  else {\n\t    this._heads[head_id]!.entities[entity.translation_key]=entity;\n\t  }\n\t  \n\t}\n      }\n    }\n  }\n\n  _get_val(head,entity_id){\n    let entity = this._hass.states[this.entities[head][entity_id].entity_id];\n    return entity.state;\n  }\n  \n  _render_head(head_id){\n    let dose_head=null;\n    let new_conf=merge(this.config.heads.common,this.config.heads[\"head_\"+head_id]);\n    let schedule_state=(this._hass.states[this._heads[head_id].entities['schedule_enabled'].entity_id].state=='on');\n    if (!this.is_on()){\n      schedule_state=false;\n    }\n    let short_name=this._hass.states[this._heads[head_id].entities['supplement'].entity_id].attributes.supplement.short_name;\n    this.supplement_color[short_name]=this.config.heads['head_'+head_id].color;\n\n    if ( \"dose_head\" in this._heads[head_id]){\n      dose_head=this._heads[head_id][\"dose_head\"];\n      dose_head.state_on=schedule_state;\n      dose_head.device_state=this.is_on();\n      dose_head.hass=this._hass;\n      dose_head.bundle=this.bundle;\n      \n    }\n    else\n    {\n      dose_head=RSDevice.create_device('redsea-dose-head',this._hass,new_conf,this);\n      dose_head.entities=this._heads[head_id].entities;\n      dose_head.stock_alert=this.get_entity('stock_alert_days').state;\n      dose_head.state_on=schedule_state;\n      dose_head.device_state=this.is_on();\n      this._heads[head_id]['dose_head']=dose_head;\n      dose_head.config=new_conf;\n      dose_head.bundle=this.bundle;\n    }\n    \n    return html`\n                    <div class=\"head\" id=\"head_${head_id}\" style=\"${this.get_style(new_conf)}\">\n                       ${dose_head}\n                    </div>\n                    `;\n  }\n\n  _render(){\n    this.to_render=false;\n    console.debug(\"Render rsdose\");\n\n\n    this.update_config();\n    let style=html``;\n    this._populate_entities_with_heads();\n    this.bundle=this.get_entity('bundled_heads').state==\"on\";\n    \n    let disabled=this._render_disabled();\n    if(disabled!=null){\n      return disabled;\n    }\n    if(!this.is_on()){\n      style=html`<style>img{filter: grayscale(90%);}</style>`;\n    }\n    if (this.dosing_queue==null){\n      this.dosing_queue=MyElement.create_element(this._hass,this.config.dosing_queue,this);\n      this.dosing_queue.color_list=this.supplement_color;\n    }\n    \n    return html`\n             \t<div class=\"device_bg\">\n                  ${style}\n          \t  <img class=\"device_img\" id=\"rsdose4_img\" alt=\"\"  src='${this.config.background_img}' />\n                  <div class=\"heads\">\n                     ${Array.from({length:this.config.heads_nb},(x,i) => i+1).map(head => this._render_head(head))}\n                 </div>\n                   ${this.dosing_queue}\n                 ${this._render_elements()}\n               </div>`;\n  }// end of function render\n  \n  _editor_head_color(head_id){\n    // this.update_config();\n    let color=rgbToHex(\"rgb\\(\"+this.config.heads[\"head_\"+head_id].color+\"\\);\");\n    let shortcuts=this.config.heads[\"head_\"+head_id].shortcut;\n    return html `\n             <tr>\n               <td class=\"config_color\">\n                 <input type=\"color\" id=\"head_${head_id}-color\" value=\"${color}\" @changes=\"${this.handleChangesdEvent}\" @input=\"${this.handleChangesdEvent}\" list=\"RedSeaColors\" />\n                 <datalist id=\"RedSeaColors\">\n                   <option>#8c4394</option>\n                   <option>#0081c5</option>\n                   <option>#008264</option>\n                   <option>#64a04b</option>\n                   <option>#582900</option>\n                   <option>#f04e99</option>\n                   <option>#f14b4c</option>\n                   <option>#f08f37</option>\n                   <option>#d9d326</option>\n                   <option>#FFFFFF</option>\n                </datalist>\n                <label class=\"tab-label\">${i18n._(\"head\")} ${head_id}: ${this._hass.states[this._heads[head_id].entities['supplement'].entity_id].state}</label>\n              </td>\n              <td>\n                <input type=\"text\" id=\"head_${head_id}-shortcut\" value=\"${shortcuts}\" @changes=\"${this.handleChangesdEvent}\" ></input>\n              </td>\n           </tr>`;\n  }// end of function _editor_head_color\n\n  handleChangesdDeviceEvent(changesdEvent) {\n\n    let value= (changesdEvent.currentTarget.checked);\n    let newVal={conf:{[this.current_device.config.model]:{devices:{[this.current_device.device.name]:{elements:{[changesdEvent.target.id]:{disabled_if:value}}}}}}};\n    let newConfig = JSON.parse(JSON.stringify(this._config));\n    try{\n      newConfig.conf[this.current_device.config.model].devices[this.current_device.device.name].elements[changesdEvent.target.id].disabled_if = value;\n    }\n    catch (error){\n      newConfig=merge(newConfig,newVal);\n    }\n    const messageEvent = new CustomEvent(\"config-changesd\", {\n      detail: { config: newConfig },\n      bubbles: true,\n      composed: true,\n    });\n    this.dispatchEvent(messageEvent);\n  }\n  \n  handleChangesdEvent(changesdEvent) {\n    let i_val=changesdEvent.currentTarget.value;\n    const head=changesdEvent.target.id.split('-')[0];\n    const field=changesdEvent.target.id.split('-')[1]\n    if (field==\"color\"){\n      i_val=hexToRgb(i_val);\n    }\n    let newVal={conf:{[this.current_device.config.model]:{devices:{[this.current_device.device.name]:{heads:{[head]:{[field]:i_val}}}}}}};\n    let newConfig = JSON.parse(JSON.stringify(this._config));\n    \n    try{\n      newConfig.conf[this.current_device.config.model].devices[this.current_device.device.name].heads[changesdEvent.target.head][field] = i_val;\n    }\n    catch (error){\n      newConfig=merge(newConfig,newVal);\n    }\n    const messageEvent = new CustomEvent(\"config-changesd\", {\n      detail: { config: newConfig },\n      bubbles: true,\n      composed: true,\n    });\n    this.dispatchEvent(messageEvent);\n  }// end of function handleChangesdEvent\n\n  is_checked(id){\n    let result=false;\n    if(\"disabled_if\" in this.config.elements[id]){\n      result=this.config.elements[id].disabled_if;\n    }\n    if(result){\n      return html`\n                   <label class=\"switch\">\n                      <input type=\"checkbox\" id=\"${id}\" @changes=\"${this.handleChangesdDeviceEvent}\" checked />\n                      <span class=\"slider round\"></span>\n                   </label>\n                   <label>${i18n._(id)}</label>                   \n`;\n    }\n    else{\n      return html`\n                   <label class=\"switch\">\n                      <input type=\"checkbox\" id=\"${id}\"  @changes=\"${this.handleChangesdDeviceEvent}\" />\n                      <span class=\"slider round\"></span>\n                   </label>\n                   <label>${i18n._(id)}</label>                   \n`;\n    }\n  }// end of function is_checked  \n\n  editor(doc){\n    if(this.is_disabled()){\n      return html ``;\n    }\n    this._populate_entities_with_heads();\n    let element = doc.getElementById(\"heads_colors\");\n    if (element){\n      element.reset();\n    }\n    this.update_config();\n    return html`\n                 <hr />\n                 <style>\n/* The switch - the box around the slider */                   .switch {\n                     position: relative;\n                     display: inline-block;\n                     width: 30px;\n                     height: 17px;\n\n                   }\n\n/* Hide default HTML checkbox */                   .switch input {\n                     opacity: 0;\n                     width: 0;\n                     height: 0;\n                   }\n                   \n/* The slider */                   .slider {\n                     position: absolute;\n                     cursor: pointer;\n                     top: 0;\n                     left: 0;\n                     right: 0;\n                     bottom: 0;\n                     background-color: #ccc;\n                     -webkit-transition: .4s;\n                     transition: .4s;\n                   }\n                   \n                   .slider:before {\n                     position: absolute;\n                     content: \"\";\n                     height: 13px;\n                     width: 13px;\n                     left: 2px;\n                     bottom: 2px;\n                     background-color: white;\n                     -webkit-transition: .4s;\n                     transition: .4s;\n                   }\n                   \n                   input:checked + .slider {\n                     background-color: #2196F3;\n                   }\n                   \n                   input:focus + .slider {\n                     box-shadow: 0 0 1px #2196F3;\n                   }\n                   \n                   input:checked + .slider:before {\n                     -webkit-transform: translateX(13px);\n                     -ms-transform: translateX(13px);\n                     transform: translateX(13px);\n                   }\n                   \n/* Rounded sliders */                   .slider.round {\n                     border-radius: 17px;\n                   }\n                   \n                   .slider.round:before {\n                     border-radius: 50%;\n                   }\n                 </style>\n                   <form id=\"heads_colors\">\n                   <table>\n                   <tr><td>\n${this.is_checked(\"last_message\")}\n                   </td><td>\n${this.is_checked(\"last_alert_message\")}\n                   </td></tr>\n                   <tr>\n                     <td class=\"config_header\">${i18n._(\"heads_colors\")}</td>\n                     <td>${i18n._(\"heads_shortcuts\")}</td>\n                   </tr>\n                     ${Array.from({length:this.config.heads_nb},(x,i) => i+1).map(head => this._editor_head_color(head))}\n                 </table>\n                   </form>`;\n    \n  }// end of function editor\n}\n\n","import {css} from 'lit';\n\nexport default css`\nspan.volume_dosing_queue{\nfont-size: x-small;\nwidth: 100%;\n}\n\n.slot{\ncolor: white;\n}\n\n`;\n","// @ts-nocheck\nimport { html } from \"lit\";\n\nimport i18n from \"../translations/myi18n\";\nimport {MyElement} from \"./base/element\"\n\nimport styles from \"./dosing_queue.styles\";\nimport {toTime} from \"../common\";\n\nexport class DosingQueue extends MyElement{\n\n    static styles = [styles];\n\n    static get properties() {\n\treturn {\n\t    state_on:{},\n\t}\n    }\n\n    constructor(){\n\tsuper();\n\tthis.schdedule=null;\n    }\n\n    _render_slot_schedule(slot){\n\tlet bg_color=this.color_list[slot.head];\n\treturn html`\n           <div class=\"slot\" style=\"background-color: rgb(${this.color_list[slot.head]})\">\n             <span class=\"dosing_queue\">\n              ${slot.head}<br />\n              ${slot.volume.toFixed(1)}mL<br />\n              ${toTime(slot.time)}\n             </span><hr />\n          </div>`;\n     }// end of function _render_slot_schedule\n\n\n    set hass(obj){\n\tif (this.stateObj && this.stateObj.attributes.queue != obj.states[this.stateObj.entity_id].attributes.queue){\n\t    this._hass=obj;\n\t    this.stateObj=obj.states[this.stateObj.entity_id];\n\t}\n    }\n    \n    render(){\n      this.schedule=this.stateObj.attributes.queue;\n      if(this.stateOn && this.schedule.length != 0){\n\t    return html`\n                  <div style=\"${this.get_style(this.config)}\">\n                    ${this.schedule.map(slot => this._render_slot_schedule(slot))}\n                  </div>\n   \t    `;\n\t}// if\telse {\n\t    return html``;\n\t}// else    }\n};\n\n// window.customElements.define('doifng-queue', DoifngQueue);\n","import {css} from 'lit';\n\nexport default css`\nsvg{\nstroke: black;\n}\n\n.addSupplement{\n  color:red;\n  position:absolute;\n  width:60%;\n  bottom:15%;\n  left:30%;\n  text-align:center;\n  text-decoration: none;\n  animation:blink 1s linear infinite;;\n}\n\n@keyframes blink {\n    0% {\n        opacity: 1;\n    }\n    50% {\n        opacity: 0;\n    }\n    100% {\n        opacity: 1;\n    }\n}\n\nimg{\n position: absolute;\n width: 100%;\n}\n`;\n","// @ts-nocheck\nimport { html } from \"lit\";\nimport {RSDevice} from \"./device\";\n\nimport styles from \"./dose_head.styles\";\nimport style_sensors from \"./base/sensor.styles\";\nimport style_progress_bar from \"./base/progress_bar.styles\";\n\nimport {off_color} from \"../common.js\";\nimport i18n from \"../translations/myi18n\";\nimport {MyElement} from \"./base/element\";\n\nexport class DoseHead extends RSDevice{\n\n    static styles = [styles,style_sensors];\n\n    static get properties() {\n\treturn {\n\t    state_on:{},\n\t    device_state:{},\n\t    head_state:{},\n\t    supplement:{},\n\t    force_render:false,\n\t}\n    }\n\n    constructor(){\n\tsuper();\n\tthis.supplement=null;\n\tthis.stock_alert=null;\n\tthis.supplement_info=false;\n\tthis.bundle=false;\n    }\n    \n    _pipe_path(){\n\tlet color=this.config.color;\n\tif (! this.state_on ){\n\t    color=off_color;\n\t}\n\treturn html`\n\t\t<svg viewBox=\"0 0 86 56\" style=\"fill:rgb(${color});\">\n\t\t    <path d=\"M 14,0 C 13,12 10,18 7,25 0,34 0,45  0,55 L 12,55 c 0,-8 -0,-16 6,-24 4,-8 8,-17 8,-35 z\"></path>\n\t\t    <path d=\"m 62,0 1,39 c 0,2 1,3 2,5 2,2 2,1 4,2 2,0 4,0 6,-2 2,-2 1,-5 2,-7 l 6,-30 -8,0 -3,8 0,-28 z\"></path>\n\t\t</svg>\n`;\n    }\n\n    _render_container(){\n\tlet supplement_uid=this.supplement.attributes.supplement.uid\n\tlet img=null;\n\tlet warning='';\n\n\timg='/hacsfiles/ha-reef-card/img/supplements/'+supplement_uid+'.supplement.png';\n\t\n\tlet http = new XMLHttpRequest();\n\thttp.open('HEAD', img, false);\n\thttp.send();\n\tif(http.status == 404){\n\t    img='/hacsfiles/ha-reef-card/img/supplements/generic_container.supplement.png'\n\t    this.supplement_info=true;\n\t}\n\t\n\tlet style=html``;\n\tlet color=this.config.color;\n\tif(!this.state_on){\n\t    style=html`<style>img#id_${supplement_uid}{filter: grayscale(90%);}</style>`;\n\t    color=off_color;\n\t}\n\n\tif (parseInt(this.get_entity('remaining_days').state)<parseInt(this.stock_alert) && this.get_entity('slm').state==\"on\" && this.get_entity('daily_dose').state > 0){\n\t    warning=html`<img class='warning' src='${new URL(\"./img/warning.svg\",import.meta.url)}'/ style=\"${this.get_style(this.config.warning)}\" /><div class=\"warning\" style=\"${this.get_style(this.config.warning_label)}\">${i18n._(\"empty\")}</div>`;\n\t    }\n\n\treturn html`\n              <div class=\"container\" style=\"${this.get_style(this.config.container)}\">\n                ${style}\n                <img id=id_${supplement_uid} src='${img}' width=\"100%\" />\n                ${warning}\n                ${this._render_supplement_info()}\n                ${this._render_elements(true,\"supplement\")}\n                ${this._render_ask()}\n              </div>\n            `;\n    }\n\n    _render_supplement_info(){\n\tif (this.supplement_info){\n\n\t    return html`${this._render_elements(true,\"supplement_info\")}`;\n\t}// if\n    }\n\n    _render_ask() {\n\t    let ask='';\n\t    if ( this.supplement_info && !this.supplement.attributes.supplement.is_name_editable){\n\t      ask=html`<a class=\"addSupplement\" target=\"_blank\" href='https:// github.com/Elwinmage/ha-reef-card/issues/new?labels=supplement&title=Add+supplement+picture+for+${this.supplement.attributes.supplement.brand_name.replace(' ','+')}+${this.supplement.attributes.supplement.name.replace(' ','+')}&body=${JSON.stringify(this.supplement.attributes.supplement,null,\"%0D%0A\")}'>+${i18n._(\"ask_add_supplement\")}+</a>`;\t    }// if\n      return html`${ask}`;\n    }\n    \n    is_on(){\n\tlet res=true;\n\n\tif( 'head_state' in this.entities && ( this._hass.states[this.entities['head_state'].entity_id].state==\"not-setup\" ||\n\t\t\t\t\t       !this.device_state ||\n\t\t\t\t\t      (this._hass.states[this.entities['schedule_enabled'].entity_id].state=='off'))){\n\t    res=false;\n\t}\n\treturn res;\n    }\n\n    set hass(obj){\n\tthis._setting_hass(obj);\n\tif(this.is_on() != this.state_on){\n\t    this.state_on=this.is_on();\n\t}\n\tif(this.entites && this.head_state!=this.entities['head_state'].state){\n\t    this.head_state=this.entities['head_state'].state;\n\t}\n\tif(this.entities['supplement'] && this._hass.states[this.entities['supplement'].entity_id].attributes.supplement.uid != this.supplement.attributes.supplement.uid){\n\t    this.supplement=this._hass.states[this.entities['supplement'].entity_id];\n\t}\n    }\n    \n    _render(){\n\tthis.to_render=false;\n\tthis.state_on=this.is_on();\n\tconsole.debug(\"Render dose_head n°\",this.config.id);\n\tthis.supplement=this._hass.states[this.entities['supplement'].entity_id];\n\tif (this.supplement.attributes.supplement.uid!='null'){\n\t    let calibration='';\n\t    let color=this.config.color+\",\"+this.config.alpha;\n\t    \n\t    if (this._hass.states[this.entities['head_state'].entity_id].state==\"not-setup\"){\n\t\tthis.state_on=false;\n\t\tlet conf={\n\t\t    \"image\":new URL(\"./img/configuration.png\",import.meta.url),\n\t\t    \"type\": \"click-image\",\n\t\t    \"class\":\"calibration\",\n\t\t    \"stateObj\":null,\n\t\t    \"tap_action\":[\n\t\t\t{\n\t\t\t    \"domain\": \"redsea_ui\",\n\t\t\t    \"action\": \"dialog\",\n\t\t\t    \"data\": {\"type\":\"head_configuration\"},\n\t\t\t} \n\t\t    ],\n\t\t    \"elt.css\":this.config.calibration.css\n\t\t};\n\t\tcalibration=MyElement.create_element(this._hass,conf,this);\n\t    }\n\t    \n\t    if (! this.state_on ){\n\t\tcolor=off_color+\",\"+this.config.alpha;\n\t    }\n\t    return html`\n               ${this._render_container()}\n   \t        <div class=\"pipe\" style=\"${this.get_style(this.config.pipe)}\">\n \t\t  ${this._pipe_path()}\n\t\t</div>\n                <div class=\"pump_state_head\" style=\"${this.get_style(this.config.pump_state_head)};background-color:rgba(${color});\">\n                  ${this._render_elements(this.state_on,\"pump_state_head\")}\n                  <div class=\"pump_state_labels\" style=\"${this.get_style(this.config.pump_state_labels)}\">\n                    ${this._render_elements(this.state_on,\"pump_state_labels\")}\n                  </div>\n              </div>\n              ${this._render_elements(this.state_on)}\n              ${calibration}\n   \t    `;\n\t}// if\n      else {\n\n\t    let conf={\n\t\t\"type\": \"click-image\",\n\t\t\"stateObj\": false,\n\t\t\"image\":new URL(\"./img/container_add.png\",import.meta.url),\n\t\t\"class\": \"container\",\n\t\t\"tap_action\":{\n\t\t    \"domain\": \"redsea_ui\",\n\t\t    \"action\": \"dialog\",\n\t\t    \"data\": {\"type\": \"add_supplement\"}\n\t\t},\n\t\t\"elt.css\":{\n\t\t    \"width\": \"100%\",\n\t\t}\n\t\t\n\t    };\n\t    let add_img=MyElement.create_element(this._hass,conf,this);\n\t    return html`\n                   <div class=\"container\" style=\"${this.get_style(this.config.container)}\">\n                     ${add_img}\n                   </div>`;\n      }// else\n    }\n};\n\n","import \"./base/index\";\n\nimport {NoDevice} from \"./nodevice\";\nimport {RSDose} from \"./rsdose\";\nimport {DosingQueue} from \"./dosing_queue\";\nimport {DoseHead} from \"./dose_head\";\n\ncustomElements.define('redsea-nodevice',NoDevice);\ncustomElements.define('redsea-rsdose4',RSDose);\ncustomElements.define('redsea-dosing-queue',DosingQueue);\ncustomElements.define('redsea-dose-head', DoseHead);\n","import {ReefCard} from \"./card\";\nimport { ReefCardEditor } from \"./editor\";\n\nimport \"./types/global.d\";\nimport \"./devices/index\";\n\n\n// import { loadHaComponents, DEFAULT_HA_COMPONENTS } from '@kipk/load-ha-components';\n// await loadHaComponents([// 'ha-form',// 'hui-sensor-entity-row'// ]);\n\ncustomElements.define(\"reef-card\",ReefCard);\ncustomElements.define(\"reef-card-editor\",ReefCardEditor);\n\nwindow.customCards = window.customCards || [];\nwindow.customCards.push({\n    type: \"reef-card\",\n    name: \"Reef Tank Card\",\n    description: \"A custom card for reef management.\",\n});\n\n\nwindow.customCards = window.customCards || []; window.customCards.push({\n  type: \"reef-card-editor\",\n  name: \"Content Card Editor\",\n  preview: false, // Optional - defaults to false\n  description: \"Reef Card!\", // Optional\n  documentationURL: \"https:// github.com/Elwinmage/ha-reef-card\", // Adds a help link in the frontend card editor\n});\n"],"names":["t","e","s","o","n$3","r","n","i","S","c","h","a","l","p","d","u","f","b","y","v","_","m","g","$","x","T","E","A","C","P","V","N","H","I","L","k","M","R","z","j","B","MyI18n","config","en","fr","homeAssistant","detectedLang","lang","normalized","obj","path","keys","current","key","params","result","currentDict","fallbackDict","text","match","normalizedLang","targetLang","dict","prefix","value","fullKey","dictionary","partialDict","existingDict","merged","i18n","DeviceList","hass","name","id","device_id","dev","dev_id","hexToRgb","hex","rgbToHex","orig","regex_trim","color","matches","off_color","toTime","time","seconds","minutes","hours","style_card","css","attachClickHandlers","element","handlers","options","holdTimeout","clickTimeout","clickCount","holdTriggered","clearHold","clearClick","event","SafeEval","context","expression","processed","error","trimmed","processedExpr","innerExpr","operators","op","parts","part","contextKeys","contextValues","newContext","expressions","expr","condition","processedCondition","template","_MyElement","LitElement","device","entitiesObj","entity","entitiesContext","res","so","sot","conf","Element","label_name","elt","entityData","targetEntity","css_level","style","o_style","device_color","entity_translation_value","state","html","actions","actionsArray","action","str","a_data","msg","__decorateClass","property","MyElement","isObject","item","mergeDeep","target","sources","source","merge","RSDevice","re_render","lastKey","tree","basePath","newPath","model","device_conf","tag_name","disabled","sub_nb","reason","maintenance","elements","swtch","maintenance_button","put_in","sensor_put_in","customElement","style_dialog","style_click_image","Dialog","shadowRoot","box","_elt","content_conf","input","doc","el","ReefCard","option","selectElement","ReefCardEditor","lit_device","_changesdEvent","newConfig","val","messageEvent","style_button","Button","_style","icon","bgColor","ClickImage","imageSrc","imageStyle","style_progress_bar","ProgressBar","percent","bar_class","label","unit","fill","fillColor","style_progress_circle","ProgressCircle","style_messages","RSMessages","sclass","trash","computed_style","style_sensor_target","style_sensors","Sensor","style_sensor","numValue","SensorTarget","style_switch","RSSwitch","style_nodevice","_documentCurrentScript","NoDevice","style_rsdose","style_common","RSDose","head","entity_id","fname","head_id","dose_head","new_conf","schedule_state","short_name","shortcuts","changesdEvent","newVal","i_val","field","styles$1","DosingQueue","styles","slot","DoseHead","supplement_uid","img","warning","http","ask","calibration","add_img"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6]}