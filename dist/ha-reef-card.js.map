{"version":3,"file":"ha-reef-card.js","sources":["../node_modules/@lit/reactive-element/css-tag.js","../node_modules/@lit/reactive-element/reactive-element.js","../node_modules/lit-html/lit-html.js","../node_modules/lit-element/lit-element.js","../src/translations/myi18n.ts","../src/common.ts","../src/card.styles.js","../node_modules/@lit/reactive-element/decorators/property.js","../src/devices/base/element.ts","../src/merge.js","../src/devices/common.styles.js","../src/devices/device.js","../src/devices/base/dialog.styles.js","../src/devices/base/click_image.styles.js","../src/devices/base/dialog.ts","../src/card.ts","../src/devices/base/button.styles.js","../src/devices/base/button.ts","../src/devices/base/click_image.ts","../src/devices/base/progress_bar.styles.js","../src/devices/base/progress_bar.ts","../src/devices/base/progress_circle.styles.js","../src/devices/base/progress_circle.ts","../src/devices/base/messages.styles.js","../src/devices/base/messages.ts","../src/devices/base/sensor_target.styles.js","../src/devices/base/sensor.styles.js","../src/devices/base/sensor.ts","../src/devices/base/sensor_target.ts","../src/devices/base/switch.styles.js","../src/devices/base/switch.ts","../src/devices/base/index.ts","../src/devices/mapping/NODEVICE.js","../src/devices/nodevice.styles.js","../src/devices/nodevice.js","../src/devices/mapping/RSDOSE4.js","../src/devices/rsdose.styles.js","../src/devices/rsdose.js","../src/devices/dosing_queue.styles.js","../src/devices/dosing_queue.js","../src/devices/dose_head.styles.js","../src/devices/dose_head.ts","../src/devices/index.js","../src/index.ts"],"sourcesContent":["/**\n * @license\n * Copyright 2019 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=globalThis,e=t.ShadowRoot&&(void 0===t.ShadyCSS||t.ShadyCSS.nativeShadow)&&\"adoptedStyleSheets\"in Document.prototype&&\"replace\"in CSSStyleSheet.prototype,s=Symbol(),o=new WeakMap;class n{constructor(t,e,o){if(this._$cssResult$=!0,o!==s)throw Error(\"CSSResult is not constructable. Use `unsafeCSS` or `css` instead.\");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const s=this.t;if(e&&void 0===t){const e=void 0!==s&&1===s.length;e&&(t=o.get(s)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),e&&o.set(s,t))}return t}toString(){return this.cssText}}const r=t=>new n(\"string\"==typeof t?t:t+\"\",void 0,s),i=(t,...e)=>{const o=1===t.length?t[0]:e.reduce(((e,s,o)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if(\"number\"==typeof t)return t;throw Error(\"Value passed to 'css' function must be a 'css' function result: \"+t+\". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.\")})(s)+t[o+1]),t[0]);return new n(o,t,s)},S=(s,o)=>{if(e)s.adoptedStyleSheets=o.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet));else for(const e of o){const o=document.createElement(\"style\"),n=t.litNonce;void 0!==n&&o.setAttribute(\"nonce\",n),o.textContent=e.cssText,s.appendChild(o)}},c=e?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e=\"\";for(const s of t.cssRules)e+=s.cssText;return r(e)})(t):t;export{n as CSSResult,S as adoptStyles,i as css,c as getCompatibleStyle,e as supportsAdoptingStyleSheets,r as unsafeCSS};\n//# sourceMappingURL=css-tag.js.map\n","import{getCompatibleStyle as t,adoptStyles as s}from\"./css-tag.js\";export{CSSResult,css,supportsAdoptingStyleSheets,unsafeCSS}from\"./css-tag.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const{is:i,defineProperty:e,getOwnPropertyDescriptor:h,getOwnPropertyNames:r,getOwnPropertySymbols:o,getPrototypeOf:n}=Object,a=globalThis,c=a.trustedTypes,l=c?c.emptyScript:\"\",p=a.reactiveElementPolyfillSupport,d=(t,s)=>t,u={toAttribute(t,s){switch(s){case Boolean:t=t?l:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,s){let i=t;switch(s){case Boolean:i=null!==t;break;case Number:i=null===t?null:Number(t);break;case Object:case Array:try{i=JSON.parse(t)}catch(t){i=null}}return i}},f=(t,s)=>!i(t,s),b={attribute:!0,type:String,converter:u,reflect:!1,useDefault:!1,hasChanged:f};Symbol.metadata??=Symbol(\"metadata\"),a.litPropertyMetadata??=new WeakMap;class y extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,s=b){if(s.state&&(s.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(t)&&((s=Object.create(s)).wrapped=!0),this.elementProperties.set(t,s),!s.noAccessor){const i=Symbol(),h=this.getPropertyDescriptor(t,i,s);void 0!==h&&e(this.prototype,t,h)}}static getPropertyDescriptor(t,s,i){const{get:e,set:r}=h(this.prototype,t)??{get(){return this[s]},set(t){this[s]=t}};return{get:e,set(s){const h=e?.call(this);r?.call(this,s),this.requestUpdate(t,h,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??b}static _$Ei(){if(this.hasOwnProperty(d(\"elementProperties\")))return;const t=n(this);t.finalize(),void 0!==t.l&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(d(\"finalized\")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(d(\"properties\"))){const t=this.properties,s=[...r(t),...o(t)];for(const i of s)this.createProperty(i,t[i])}const t=this[Symbol.metadata];if(null!==t){const s=litPropertyMetadata.get(t);if(void 0!==s)for(const[t,i]of s)this.elementProperties.set(t,i)}this._$Eh=new Map;for(const[t,s]of this.elementProperties){const i=this._$Eu(t,s);void 0!==i&&this._$Eh.set(i,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(s){const i=[];if(Array.isArray(s)){const e=new Set(s.flat(1/0).reverse());for(const s of e)i.unshift(t(s))}else void 0!==s&&i.push(t(s));return i}static _$Eu(t,s){const i=s.attribute;return!1===i?void 0:\"string\"==typeof i?i:\"string\"==typeof t?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((t=>t(this)))}addController(t){(this._$EO??=new Set).add(t),void 0!==this.renderRoot&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$EO?.delete(t)}_$E_(){const t=new Map,s=this.constructor.elementProperties;for(const i of s.keys())this.hasOwnProperty(i)&&(t.set(i,this[i]),delete this[i]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return s(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((t=>t.hostConnected?.()))}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach((t=>t.hostDisconnected?.()))}attributeChangedCallback(t,s,i){this._$AK(t,i)}_$ET(t,s){const i=this.constructor.elementProperties.get(t),e=this.constructor._$Eu(t,i);if(void 0!==e&&!0===i.reflect){const h=(void 0!==i.converter?.toAttribute?i.converter:u).toAttribute(s,i.type);this._$Em=t,null==h?this.removeAttribute(e):this.setAttribute(e,h),this._$Em=null}}_$AK(t,s){const i=this.constructor,e=i._$Eh.get(t);if(void 0!==e&&this._$Em!==e){const t=i.getPropertyOptions(e),h=\"function\"==typeof t.converter?{fromAttribute:t.converter}:void 0!==t.converter?.fromAttribute?t.converter:u;this._$Em=e;const r=h.fromAttribute(s,t.type);this[e]=r??this._$Ej?.get(e)??r,this._$Em=null}}requestUpdate(t,s,i){if(void 0!==t){const e=this.constructor,h=this[t];if(i??=e.getPropertyOptions(t),!((i.hasChanged??f)(h,s)||i.useDefault&&i.reflect&&h===this._$Ej?.get(t)&&!this.hasAttribute(e._$Eu(t,i))))return;this.C(t,s,i)}!1===this.isUpdatePending&&(this._$ES=this._$EP())}C(t,s,{useDefault:i,reflect:e,wrapped:h},r){i&&!(this._$Ej??=new Map).has(t)&&(this._$Ej.set(t,r??s??this[t]),!0!==h||void 0!==r)||(this._$AL.has(t)||(this.hasUpdated||i||(s=void 0),this._$AL.set(t,s)),!0===e&&this._$Em!==t&&(this._$Eq??=new Set).add(t))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[t,s]of this._$Ep)this[t]=s;this._$Ep=void 0}const t=this.constructor.elementProperties;if(t.size>0)for(const[s,i]of t){const{wrapped:t}=i,e=this[s];!0!==t||this._$AL.has(s)||void 0===e||this.C(s,void 0,i,e)}}let t=!1;const s=this._$AL;try{t=this.shouldUpdate(s),t?(this.willUpdate(s),this._$EO?.forEach((t=>t.hostUpdate?.())),this.update(s)):this._$EM()}catch(s){throw t=!1,this._$EM(),s}t&&this._$AE(s)}willUpdate(t){}_$AE(t){this._$EO?.forEach((t=>t.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Eq&&=this._$Eq.forEach((t=>this._$ET(t,this[t]))),this._$EM()}updated(t){}firstUpdated(t){}}y.elementStyles=[],y.shadowRootOptions={mode:\"open\"},y[d(\"elementProperties\")]=new Map,y[d(\"finalized\")]=new Map,p?.({ReactiveElement:y}),(a.reactiveElementVersions??=[]).push(\"2.1.1\");export{y as ReactiveElement,s as adoptStyles,u as defaultConverter,t as getCompatibleStyle,f as notEqual};\n//# sourceMappingURL=reactive-element.js.map\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=globalThis,i=t.trustedTypes,s=i?i.createPolicy(\"lit-html\",{createHTML:t=>t}):void 0,e=\"$lit$\",h=`lit$${Math.random().toFixed(9).slice(2)}$`,o=\"?\"+h,n=`<${o}>`,r=document,l=()=>r.createComment(\"\"),c=t=>null===t||\"object\"!=typeof t&&\"function\"!=typeof t,a=Array.isArray,u=t=>a(t)||\"function\"==typeof t?.[Symbol.iterator],d=\"[ \\t\\n\\f\\r]\",f=/<(?:(!--|\\/[^a-zA-Z])|(\\/?[a-zA-Z][^>\\s]*)|(\\/?$))/g,v=/-->/g,_=/>/g,m=RegExp(`>|${d}(?:([^\\\\s\"'>=/]+)(${d}*=${d}*(?:[^ \\t\\n\\f\\r\"'\\`<>=]|(\"|')|))|$)`,\"g\"),p=/'/g,g=/\"/g,$=/^(?:script|style|textarea|title)$/i,y=t=>(i,...s)=>({_$litType$:t,strings:i,values:s}),x=y(1),b=y(2),w=y(3),T=Symbol.for(\"lit-noChange\"),E=Symbol.for(\"lit-nothing\"),A=new WeakMap,C=r.createTreeWalker(r,129);function P(t,i){if(!a(t)||!t.hasOwnProperty(\"raw\"))throw Error(\"invalid template strings array\");return void 0!==s?s.createHTML(i):i}const V=(t,i)=>{const s=t.length-1,o=[];let r,l=2===i?\"<svg>\":3===i?\"<math>\":\"\",c=f;for(let i=0;i<s;i++){const s=t[i];let a,u,d=-1,y=0;for(;y<s.length&&(c.lastIndex=y,u=c.exec(s),null!==u);)y=c.lastIndex,c===f?\"!--\"===u[1]?c=v:void 0!==u[1]?c=_:void 0!==u[2]?($.test(u[2])&&(r=RegExp(\"</\"+u[2],\"g\")),c=m):void 0!==u[3]&&(c=m):c===m?\">\"===u[0]?(c=r??f,d=-1):void 0===u[1]?d=-2:(d=c.lastIndex-u[2].length,a=u[1],c=void 0===u[3]?m:'\"'===u[3]?g:p):c===g||c===p?c=m:c===v||c===_?c=f:(c=m,r=void 0);const x=c===m&&t[i+1].startsWith(\"/>\")?\" \":\"\";l+=c===f?s+n:d>=0?(o.push(a),s.slice(0,d)+e+s.slice(d)+h+x):s+h+(-2===d?i:x)}return[P(t,l+(t[s]||\"<?>\")+(2===i?\"</svg>\":3===i?\"</math>\":\"\")),o]};class N{constructor({strings:t,_$litType$:s},n){let r;this.parts=[];let c=0,a=0;const u=t.length-1,d=this.parts,[f,v]=V(t,s);if(this.el=N.createElement(f,n),C.currentNode=this.el.content,2===s||3===s){const t=this.el.content.firstChild;t.replaceWith(...t.childNodes)}for(;null!==(r=C.nextNode())&&d.length<u;){if(1===r.nodeType){if(r.hasAttributes())for(const t of r.getAttributeNames())if(t.endsWith(e)){const i=v[a++],s=r.getAttribute(t).split(h),e=/([.?@])?(.*)/.exec(i);d.push({type:1,index:c,name:e[2],strings:s,ctor:\".\"===e[1]?H:\"?\"===e[1]?I:\"@\"===e[1]?L:k}),r.removeAttribute(t)}else t.startsWith(h)&&(d.push({type:6,index:c}),r.removeAttribute(t));if($.test(r.tagName)){const t=r.textContent.split(h),s=t.length-1;if(s>0){r.textContent=i?i.emptyScript:\"\";for(let i=0;i<s;i++)r.append(t[i],l()),C.nextNode(),d.push({type:2,index:++c});r.append(t[s],l())}}}else if(8===r.nodeType)if(r.data===o)d.push({type:2,index:c});else{let t=-1;for(;-1!==(t=r.data.indexOf(h,t+1));)d.push({type:7,index:c}),t+=h.length-1}c++}}static createElement(t,i){const s=r.createElement(\"template\");return s.innerHTML=t,s}}function S(t,i,s=t,e){if(i===T)return i;let h=void 0!==e?s._$Co?.[e]:s._$Cl;const o=c(i)?void 0:i._$litDirective$;return h?.constructor!==o&&(h?._$AO?.(!1),void 0===o?h=void 0:(h=new o(t),h._$AT(t,s,e)),void 0!==e?(s._$Co??=[])[e]=h:s._$Cl=h),void 0!==h&&(i=S(t,h._$AS(t,i.values),h,e)),i}class M{constructor(t,i){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=i}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:i},parts:s}=this._$AD,e=(t?.creationScope??r).importNode(i,!0);C.currentNode=e;let h=C.nextNode(),o=0,n=0,l=s[0];for(;void 0!==l;){if(o===l.index){let i;2===l.type?i=new R(h,h.nextSibling,this,t):1===l.type?i=new l.ctor(h,l.name,l.strings,this,t):6===l.type&&(i=new z(h,this,t)),this._$AV.push(i),l=s[++n]}o!==l?.index&&(h=C.nextNode(),o++)}return C.currentNode=r,e}p(t){let i=0;for(const s of this._$AV)void 0!==s&&(void 0!==s.strings?(s._$AI(t,s,i),i+=s.strings.length-2):s._$AI(t[i])),i++}}class R{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,i,s,e){this.type=2,this._$AH=E,this._$AN=void 0,this._$AA=t,this._$AB=i,this._$AM=s,this.options=e,this._$Cv=e?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const i=this._$AM;return void 0!==i&&11===t?.nodeType&&(t=i.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,i=this){t=S(this,t,i),c(t)?t===E||null==t||\"\"===t?(this._$AH!==E&&this._$AR(),this._$AH=E):t!==this._$AH&&t!==T&&this._(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.T(t):u(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==E&&c(this._$AH)?this._$AA.nextSibling.data=t:this.T(r.createTextNode(t)),this._$AH=t}$(t){const{values:i,_$litType$:s}=t,e=\"number\"==typeof s?this._$AC(t):(void 0===s.el&&(s.el=N.createElement(P(s.h,s.h[0]),this.options)),s);if(this._$AH?._$AD===e)this._$AH.p(i);else{const t=new M(e,this),s=t.u(this.options);t.p(i),this.T(s),this._$AH=t}}_$AC(t){let i=A.get(t.strings);return void 0===i&&A.set(t.strings,i=new N(t)),i}k(t){a(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let s,e=0;for(const h of t)e===i.length?i.push(s=new R(this.O(l()),this.O(l()),this,this.options)):s=i[e],s._$AI(h),e++;e<i.length&&(this._$AR(s&&s._$AB.nextSibling,e),i.length=e)}_$AR(t=this._$AA.nextSibling,i){for(this._$AP?.(!1,!0,i);t!==this._$AB;){const i=t.nextSibling;t.remove(),t=i}}setConnected(t){void 0===this._$AM&&(this._$Cv=t,this._$AP?.(t))}}class k{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,i,s,e,h){this.type=1,this._$AH=E,this._$AN=void 0,this.element=t,this.name=i,this._$AM=e,this.options=h,s.length>2||\"\"!==s[0]||\"\"!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=E}_$AI(t,i=this,s,e){const h=this.strings;let o=!1;if(void 0===h)t=S(this,t,i,0),o=!c(t)||t!==this._$AH&&t!==T,o&&(this._$AH=t);else{const e=t;let n,r;for(t=h[0],n=0;n<h.length-1;n++)r=S(this,e[s+n],i,n),r===T&&(r=this._$AH[n]),o||=!c(r)||r!==this._$AH[n],r===E?t=E:t!==E&&(t+=(r??\"\")+h[n+1]),this._$AH[n]=r}o&&!e&&this.j(t)}j(t){t===E?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??\"\")}}class H extends k{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===E?void 0:t}}class I extends k{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==E)}}class L extends k{constructor(t,i,s,e,h){super(t,i,s,e,h),this.type=5}_$AI(t,i=this){if((t=S(this,t,i,0)??E)===T)return;const s=this._$AH,e=t===E&&s!==E||t.capture!==s.capture||t.once!==s.once||t.passive!==s.passive,h=t!==E&&(s===E||e);e&&this.element.removeEventListener(this.name,this,s),h&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){\"function\"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class z{constructor(t,i,s){this.element=t,this.type=6,this._$AN=void 0,this._$AM=i,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(t){S(this,t)}}const Z={M:e,P:h,A:o,C:1,L:V,R:M,D:u,V:S,I:R,H:k,N:I,U:L,B:H,F:z},j=t.litHtmlPolyfillSupport;j?.(N,R),(t.litHtmlVersions??=[]).push(\"3.3.1\");const B=(t,i,s)=>{const e=s?.renderBefore??i;let h=e._$litPart$;if(void 0===h){const t=s?.renderBefore??null;e._$litPart$=h=new R(i.insertBefore(l(),t),t,void 0,s??{})}return h._$AI(t),h};export{Z as _$LH,x as html,w as mathml,T as noChange,E as nothing,B as render,b as svg};\n//# sourceMappingURL=lit-html.js.map\n","import{ReactiveElement as t}from\"@lit/reactive-element\";export*from\"@lit/reactive-element\";import{render as e,noChange as r}from\"lit-html\";export*from\"lit-html\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const s=globalThis;class i extends t{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){const r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=e(r,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return r}}i._$litElement$=!0,i[\"finalized\"]=!0,s.litElementHydrateSupport?.({LitElement:i});const o=s.litElementPolyfillSupport;o?.({LitElement:i});const n={_$AK:(t,e,r)=>{t._$AK(e,r)},_$AL:t=>t._$AL};(s.litElementVersions??=[]).push(\"4.2.1\");export{i as LitElement,n as _$LE};\n//# sourceMappingURL=lit-element.js.map\n","import type {\n  LanguageDictionary,\n  SupportedLanguage,\n  I18nConfig,\n  NestedTranslation\n} from './types';\n\n// Import synchrone des dictionnaires\nimport en from './locales/en.json';\nimport fr from './locales/fr.json';\n\nclass MyI18n {\n  private fallbackLanguage: SupportedLanguage;\n  private currentLanguage: SupportedLanguage;\n  private dictionaries: Map<SupportedLanguage, LanguageDictionary>;\n  private supportedLanguages: SupportedLanguage[];\n\n  constructor(config: I18nConfig = {}) {\n    this.fallbackLanguage = config.fallbackLanguage || 'en';\n    this.supportedLanguages = config.supportedLanguages || [\n      'en', 'fr'\n    ];\n\n    // Initialiser tous les dictionnaires de manière synchrone\n    this.dictionaries = new Map<SupportedLanguage, LanguageDictionary>([\n      ['en', en as LanguageDictionary],\n      ['fr', fr as LanguageDictionary],\n    ]);\n\n    // Déterminer la langue initiale\n    const homeAssistant = document.querySelector('home-assistant');\n    const detectedLang = homeAssistant?.hass?.selectedLanguage ||\n      homeAssistant?.hass?.language ||\n      config.defaultLanguage ||\n      this.fallbackLanguage;\n\n    this.currentLanguage = this.normalizeLanguage(detectedLang);\n\n    console.debug(`MyI18n initialized with language: ${this.currentLanguage}`);\n  }\n\n  /**\n   * Normalise le code de langue\n   */\n  private normalizeLanguage(lang: string): SupportedLanguage {\n    const normalized = lang.toLowerCase().split('-')[0] as SupportedLanguage;\n\n    if (this.supportedLanguages.includes(normalized)) {\n      return normalized;\n    }\n\n    console.warn(`Language '${lang}' not supported, falling back to '${this.fallbackLanguage}'`);\n    return this.fallbackLanguage;\n  }\n\n  /**\n   * Récupère une valeur imbriquée depuis un objet\n   */\n  private getNestedValue(obj: NestedTranslation, path: string): string | null {\n    const keys = path.split('.');\n    let current: any = obj;\n\n    for (const key of keys) {\n      if (current && typeof current === 'object' && key in current) {\n        current = current[key];\n      } else {\n        return null;\n      }\n    }\n\n    return typeof current === 'string' ? current : null;\n  }\n\n  /**\n   * Traduit une clé (synchrone)\n   * Supporte les clés imbriquées avec notation pointée : \"status.on\"\n   */\n  _(key: string, params?: Record<string, string | number>): string {\n    let result: string | null = null;\n\n    // Essayer avec la langue actuelle\n    const currentDict = this.dictionaries.get(this.currentLanguage);\n    if (currentDict) {\n      result = this.getNestedValue(currentDict, key);\n    }\n\n    // Essayer avec la langue fallback\n    if (result === null && this.currentLanguage !== this.fallbackLanguage) {\n      const fallbackDict = this.dictionaries.get(this.fallbackLanguage);\n      if (fallbackDict) {\n        result = this.getNestedValue(fallbackDict, key);\n      }\n    }\n\n    // Si toujours pas trouvé, retourner un message d'erreur\n    if (result === null) {\n      const errorPrefix = this.dictionaries.get(this.fallbackLanguage)\n        ? this.getNestedValue(this.dictionaries.get(this.fallbackLanguage)!, 'canNotFindTranslation')\n        : \"Translation not found: \";\n      result = (errorPrefix || \"Translation not found: \") + key;\n    }\n\n    // Remplacer les paramètres\n    if (params) {\n      result = this.replaceParams(result, params);\n    }\n\n    return result;\n  }\n\n  /**\n   * Remplace les paramètres dans une chaîne\n   * Exemple: \"Hello {name}\" avec {name: \"World\"} => \"Hello World\"\n   */\n  private replaceParams(text: string, params: Record<string, string | number>): string {\n    return text.replace(/\\{(\\w+)\\}/g, (match, key) => {\n      return key in params ? String(params[key]) : match;\n    });\n  }\n\n  /**\n   * Change la langue active (synchrone)\n   */\n  setLanguage(lang: string): void {\n    const normalizedLang = this.normalizeLanguage(lang);\n\n    if (normalizedLang === this.currentLanguage) {\n      return;\n    }\n\n    // Vérifier que la langue est disponible\n    if (!this.dictionaries.has(normalizedLang)) {\n      console.error(`Language '${normalizedLang}' is not loaded`);\n      return;\n    }\n\n    this.currentLanguage = normalizedLang;\n    console.debug(`Language changed to '${normalizedLang}'`);\n\n    // Déclencher un événement personnalisé pour notifier le changement\n    window.dispatchEvent(new CustomEvent('i18n-language-changed', {\n      detail: { language: normalizedLang }\n    }));\n  }\n\n  /**\n   * Obtient la langue active\n   */\n  getLanguage(): SupportedLanguage {\n    return this.currentLanguage;\n  }\n\n  /**\n   * Obtient la langue fallback\n   */\n  getFallbackLanguage(): SupportedLanguage {\n    return this.fallbackLanguage;\n  }\n\n  /**\n   * Vérifie si une traduction existe\n   */\n  hasTranslation(key: string, lang?: SupportedLanguage): boolean {\n    const targetLang = lang || this.currentLanguage;\n    const dict = this.dictionaries.get(targetLang);\n\n    if (!dict) {\n      return false;\n    }\n\n    return this.getNestedValue(dict, key) !== null;\n  }\n\n  /**\n   * Obtient toutes les langues supportées\n   */\n  getSupportedLanguages(): SupportedLanguage[] {\n    return [...this.supportedLanguages];\n  }\n\n  /**\n   * Obtient toutes les langues chargées\n   */\n  getLoadedLanguages(): SupportedLanguage[] {\n    return Array.from(this.dictionaries.keys());\n  }\n\n  /**\n   * Obtient toutes les clés disponibles pour une langue\n   */\n  getAvailableKeys(lang?: SupportedLanguage): string[] {\n    const targetLang = lang || this.currentLanguage;\n    const dict = this.dictionaries.get(targetLang);\n\n    if (!dict) {\n      return [];\n    }\n\n    return this.flattenKeys(dict);\n  }\n\n  /**\n   * Aplatit les clés imbriquées\n   */\n  private flattenKeys(obj: NestedTranslation, prefix = ''): string[] {\n    const keys: string[] = [];\n\n    for (const [key, value] of Object.entries(obj)) {\n      const fullKey = prefix ? `${prefix}.${key}` : key;\n\n      if (typeof value === 'string') {\n        keys.push(fullKey);\n      } else if (typeof value === 'object' && value !== null) {\n        keys.push(...this.flattenKeys(value as NestedTranslation, fullKey));\n      }\n    }\n\n    return keys;\n  }\n\n  /**\n   * Obtient le dictionnaire complet pour une langue\n   */\n  getDictionary(lang?: SupportedLanguage): LanguageDictionary | undefined {\n    const targetLang = lang || this.currentLanguage;\n    return this.dictionaries.get(targetLang);\n  }\n\n  /**\n   * Ajoute ou remplace un dictionnaire pour une langue\n   */\n  addDictionary(lang: SupportedLanguage, dictionary: LanguageDictionary): void {\n    this.dictionaries.set(lang, dictionary);\n    if (!this.supportedLanguages.includes(lang)) {\n      this.supportedLanguages.push(lang);\n    }\n    console.debug(`Dictionary for '${lang}' added/updated`);\n  }\n\n  /**\n   * Fusionne un dictionnaire partiel avec un existant\n   */\n  mergeDictionary(lang: SupportedLanguage, partialDict: Partial<LanguageDictionary>): void {\n    const existingDict = this.dictionaries.get(lang);\n    if (existingDict) {\n      const merged = { ...existingDict, ...partialDict };\n      this.dictionaries.set(lang, merged);\n    } else {\n      this.dictionaries.set(lang, partialDict as LanguageDictionary);\n    }\n    console.debug(`Dictionary for '${lang}' merged`);\n  }\n}\n\n// Créer une instance singleton\nconst i18n = new MyI18n();\n\n// Exporter l'instance et la classe\nexport default i18n;\nexport { MyI18n };\n","import i18n from \"./translations/myi18n\";\n\n// Types et interfaces\ninterface HassDevice {\n  identifiers: Array<string | [string, string]>;\n  primary_config_entry: string;\n  name: string;\n  model?: string;\n  [key: string]: any;\n}\n\ninterface HassConfig {\n  devices: {\n    [device_id: string]: HassDevice;\n  };\n  [key: string]: any;\n}\n\ninterface DeviceInfo {\n  name: string;\n  elements: HassDevice[];\n}\n\ninterface MainDevice {\n  value: string;\n  text: string;\n}\n\n// Classe DeviceList\nexport default class DeviceList {\n  private _hass: HassConfig;\n  public main_devices: MainDevice[];\n  public devices: { [key: string]: DeviceInfo };\n\n  constructor(hass: HassConfig) {\n    this._hass = hass;\n    this.main_devices = [];\n    this.devices = {};\n    this.init_devices();\n  }\n\n  private device_compare(a: MainDevice, b: MainDevice): number {\n    if (a.text < b.text) {\n      return -1;\n    } else if (a.text > b.text) {\n      return 1;\n    }\n    return 0;\n  }\n\n  get_by_name(name: string): DeviceInfo | undefined {\n    for (const id of this.main_devices) {\n      if (id.text === name) {\n        return this.devices[id.value];\n      }\n    }\n    return undefined;\n  }\n\n  private init_devices(): void {\n    for (const device_id in this._hass.devices) {\n      const dev = this._hass.devices[device_id];\n      const dev_id = dev.identifiers[0];\n\n      if (Array.isArray(dev_id) && dev_id[0] === 'redsea') {\n        // Get only main device, not sub or cloud\n        if (\n          !dev_id[1].includes(\"_head_\") &&\n            !dev_id[1].includes(\"_pump\") &&\n            dev.model !== 'ReefBeat'\n        ) {\n          this.main_devices.push({\n            value: dev.primary_config_entry,\n            text: dev.name\n          });\n        }\n\n        if (!Object.prototype.hasOwnProperty.call(this.devices, dev.primary_config_entry)) {\n          this.devices[dev.primary_config_entry] = {\n            name: dev.name,\n            elements: [dev]\n          };\n        } else {\n          this.devices[dev.primary_config_entry].elements.push(dev);\n          // Change main device name with main device\n          if (dev_id.length === 2) {\n            this.devices[dev.primary_config_entry].name = dev.name;\n          }\n        }\n      }\n    }\n    this.main_devices.sort(this.device_compare);\n  }\n}\n\n// Fonction hexToRgb\nexport function hexToRgb(hex: string): string | null {\n  const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n\n  if (!result) {\n    return null;\n  }\n\n  const rgb = `${parseInt(result[1], 16)},${parseInt(result[2], 16)},${parseInt(result[3], 16)}`;\n  return rgb;\n}\n\n/**\n * Convert RGB to Hex. Allows whitespace. If given hex, returns that hex. Alpha opacity is discarded.\n * Supports formats:\n * #fc0\n * #ffcc00\n * rgb( 255, 255, 255 )\n * rgba( 255, 255, 255, 0.5 )\n * rgba( 255 255 255 / 0.5 )\n */\nexport function rgbToHex(orig: string): string {\n  // Remove whitespace\n  const regex_trim = /[^#0-9a-f\\.\\(\\)rgba]+/gim;\n  const color = orig.replace(regex_trim, ' ').trim();\n\n  // Check if already hex\n  const regex_hex = /#(([0-9a-f]{1})([0-9a-f]{1})([0-9a-f]{1}))|(([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2}))/gi;\n  if (regex_hex.exec(color)) {\n    return color;\n  }\n\n  // Extract RGB values\n  const regex_rgb = /rgba?\\([\\t\\s]*([0-9]{1,3})[\\t\\s]*[, ][\\t\\s]*([0-9]{1,3})[\\t\\s]*[, ][\\t\\s]*([0-9]{1,3})[\\t\\s]*([,\\/][\\t\\s]*[0-9\\.]{1,})?[\\t\\s]*\\);?/gim;\n  const matches = regex_rgb.exec(orig);\n\n  if (matches) {\n    const hex =\n      '#' +\n      (parseInt(matches[1]) | 1 << 8).toString(16).slice(1) +\n      (parseInt(matches[2]) | 1 << 8).toString(16).slice(1) +\n      (parseInt(matches[3]) | 1 << 8).toString(16).slice(1);\n    return hex;\n  } else {\n    return orig;\n  }\n}\n\n// Constantes de couleur\nexport const off_color: string = \"150,150,150\";\nexport const button_color: string = \"0,60,78\";\n\n// Fonction toTime\nexport function toTime(time: number): string {\n  const seconds = time % 60;\n  const minutes = ((time - seconds) / 60) % 60;\n  const hours = (time - seconds - minutes * 60) / 3600;\n\n  return String(hours).padStart(2, '0') + \":\" +\n    String(minutes).padStart(2, '0') + \":\" +\n    String(seconds).padStart(2, '0');\n}\n\n// Fonction timeToString\nfunction timeToString(time: number): string {\n  return String(Math.floor(time / 60)).padStart(2, '0') + ':' +\n    String(Math.floor(time % 60)).padStart(2, \"0\");\n}\n\n// Fonction stringToTime\nexport function stringToTime(str: string): number {\n  const s_time = str.split(\":\");\n  return parseInt(s_time[0]) * 60 + parseInt(s_time[1]);\n}\n\n// Fonction create_select\nexport function create_select(\n  shadowRoot: Document | ShadowRoot,\n  id: string,\n  options: string[],\n  selected: string | null = null,\n  translation: boolean = true,\n  suffix: string = '',\n  id_suffix: number = 1\n): HTMLDivElement {\n  const div = document.createElement('div');\n  const label = document.createElement('label');\n\n  label.htmlFor = id;\n  label.innerHTML = i18n._(id);\n\n  const node = document.createElement(\"select\");\n  node.id = id + '_' + id_suffix;\n\n  for (const option of options) {\n    const opt = document.createElement('option');\n    opt.value = option;\n\n    if (translation) {\n      opt.innerHTML = i18n._(option) + suffix;\n    } else {\n      opt.innerHTML = option + suffix;\n    }\n\n    if (selected !== null && selected === option) {\n      opt.selected = true;\n    }\n\n    node.appendChild(opt);\n  }\n\n  div.appendChild(label);\n  div.appendChild(node);\n\n  return div;\n}\n\n// Fonction create_hour\nexport function create_hour(\n  shadowRoot: Document | ShadowRoot,\n  id: string,\n  hour: number = 0,\n  id_suffix: number = 1\n): HTMLDivElement {\n  const div = document.createElement('div');\n  const label = document.createElement('label');\n\n  label.htmlFor = id;\n  label.innerHTML = i18n._(id);\n\n  const node = document.createElement(\"input\");\n  node.type = \"time\";\n  node.id = id + '_' + id_suffix;\n  node.value = timeToString(hour);\n\n  div.appendChild(label);\n  div.appendChild(node);\n\n  return div;\n}\n","import { css } from 'lit';\n\nexport default css`\n`;\n\n","import{defaultConverter as t,notEqual as e}from\"../reactive-element.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const o={attribute:!0,type:String,converter:t,reflect:!1,hasChanged:e},r=(t=o,e,r)=>{const{kind:n,metadata:i}=r;let s=globalThis.litPropertyMetadata.get(i);if(void 0===s&&globalThis.litPropertyMetadata.set(i,s=new Map),\"setter\"===n&&((t=Object.create(t)).wrapped=!0),s.set(r.name,t),\"accessor\"===n){const{name:o}=r;return{set(r){const n=e.get.call(this);e.set.call(this,r),this.requestUpdate(o,n,t)},init(e){return void 0!==e&&this.C(o,void 0,t,e),e}}}if(\"setter\"===n){const{name:o}=r;return function(r){const n=this[o];e.call(this,r),this.requestUpdate(o,n,t)}}throw Error(\"Unsupported decorator location: \"+n)};function n(t){return(e,o)=>\"object\"==typeof o?r(t,e,o):((t,e,o)=>{const r=e.hasOwnProperty(o);return e.constructor.createProperty(o,t),r?Object.getOwnPropertyDescriptor(e,o):void 0})(t,e,o)}export{n as property,r as standardProperty};\n//# sourceMappingURL=property.js.map\n","import { html, LitElement, PropertyValues } from \"lit\";\nimport { property } from \"lit/decorators.js\";\nimport { off_color } from \"../../common.js\";\nimport i18n from \"../../translations/myi18n.js\";\n\n\n////////////////////////////////////////////////////////////////////////////////\n// Types et interfaces\ninterface StateObject {\n  entity_id: string;\n  state: string;\n  attributes?: Record<string, any>;\n  [key: string]: any;\n}\n\ninterface HassConfig {\n  states: { [entity_id: string]: StateObject };\n  callService: (domain: string, action: string, data: any) => void;\n}\n\ninterface DeviceEntity {\n  entity_id: string;\n  [key: string]: any;\n}\n\ninterface DeviceConfig {\n  color: string;\n  alpha: number;\n  [key: string]: any;\n}\n\ninterface Device {\n  entities: { [name: string]: DeviceEntity };\n  config: DeviceConfig;\n  is_on: () => boolean;\n}\n\ninterface ActionData {\n  entity_id?: string;\n  type?: string;\n  overload_quit?: boolean;\n  [key: string]: any;\n}\n\ninterface Action {\n  domain: string;\n  action: string;\n  data: ActionData | \"default\";\n  enabled?: boolean;\n}\n\n// Type pour les expressions de label personnalisées\ntype LabelExpression = {\n  type: 'template';\n  template: string;\n  variables?: Record<string, any>;\n} | string;\n\ninterface ElementConfig {\n  type: string;\n  name: string;\n  class?: string;\n  label?: LabelExpression | boolean;\n  target?: string;\n  stateObj?: boolean;\n  disabled_if?: DisabledCondition;\n  css?: { [key: string]: string };\n  \"elt.css\"?: { [key: string]: string };\n  tap_action?: Action | Action[];\n  hold_action?: Action | Action[];\n  double_tap_action?: Action | Action[];\n  [key: string]: any;\n}\n\n// Type pour les conditions de désactivation\ntype DisabledCondition = {\n  entity?: string;\n  state?: string | string[];\n  attribute?: string;\n  value?: any;\n  operator?: 'equals' | 'not_equals' | 'greater_than' | 'less_than' | 'contains';\n} | DisabledCondition[];\n////////////////////////////////////////////////////////////////////////////////\n\nexport class MyElement extends LitElement {\n  @property({ type: Object })\n  stateObj: StateObject | null = null;\n\n  @property({ type: Boolean })\n  stateOn: boolean = false;\n\n  private mouseDown: number = 0;\n  private mouseUp: number = 0;\n  private oldMouseUp: number = 0;\n  private doubleClick: boolean = false;\n\n  protected _hass: HassConfig | null = null;\n  protected conf?: ElementConfig;\n  protected device?: Device;\n  protected color?: string;\n  protected alpha?: number;\n  protected label: string = '';\n  protected stateObjTarget?: StateObject;\n  protected c?: string;\n\n  constructor() {\n    super();\n\n    this.addEventListener(\"contextmenu\", (e: Event) => {\n      e.preventDefault();\n    });\n\n    this.addEventListener(\"pointerdown\", (e: PointerEvent) => {\n      this.mouseDown = e.timeStamp;\n    });\n\n    this.addEventListener(\"touchstart\", (e: TouchEvent) => {\n      this.mouseDown = e.timeStamp;\n    });\n\n    this.addEventListener(\"touchend\", (e: TouchEvent) => {\n      this.mouseUp = e.timeStamp;\n      if ((e.timeStamp - this.mouseDown) > 500) {\n        this._click_evt(e);\n      }\n    });\n\n    this.addEventListener(\"pointerup\", (e: PointerEvent) => {\n      this._handleClick(e);\n    });\n  }\n\n/*  async connectedCallback() {\n    super.connectedCallback();\n    \n    // Attendre que les traductions soient chargées\n    await i18n.translate('welcome');\n  }\n  */\n  set state_on(state: boolean) {\n    if (state !== this.stateOn) {\n      this.stateOn = state;\n    }\n  }\n\n  has_changed(hass: HassConfig): boolean {\n    let res = false;\n    if (this.stateObj) {\n      let so = hass.states[this.stateObj.entity_id];\n      if (this.stateObj.state !== so.state) {\n        res = true;\n      } else if (this.conf && \"target\" in this.conf && this.stateObjTarget) {\n        let sot = hass.states[this.stateObjTarget.entity_id];\n        if (this.stateObjTarget.state !== sot.state) {\n          res = true;\n        }\n      }\n    }\n    return res;\n  }\n\n  set hass(obj: HassConfig) {\n    this._hass = obj;\n    if (this.stateObj) {\n      let so = this._hass.states[this.stateObj.entity_id];\n      if (this.stateObj.state !== so.state) {\n        this.stateObj = so;\n      } else if (this.conf && \"target\" in this.conf && this.stateObjTarget) {\n        let sot = this._hass.states[this.stateObjTarget.entity_id];\n        if (this.stateObjTarget.state !== sot.state) {\n          this.stateObjTarget = sot;\n          this.stateObj = so; // force render\n        }\n      }\n    }\n  }\n\n  setConfig(conf: ElementConfig): void {\n    this.conf = conf;\n  }\n\n  /**\n   * Résout une expression de label\n   */\n  private resolveLabelExpression(labelExpr: LabelExpression, context: Record<string, any>): string {\n    if (typeof labelExpr === 'string') {\n      return this.substituteVariables(labelExpr, context);\n    }\n\n    if (typeof labelExpr === 'object' && labelExpr.type === 'template') {\n      const variables = { ...context, ...(labelExpr.variables || {}) };\n      return this.substituteVariables(labelExpr.template, variables);\n    }\n\n    return '';\n  }\n\n  /**\n   * Substitue les variables dans une chaîne template\n   * Exemple: \"Hello ${name}\" avec {name: \"World\"} => \"Hello World\"\n   */\n  private substituteVariables(template: string, variables: Record<string, any>): string {\n    return template.replace(/\\${([^}]+)}/g, (match, key) => {\n      const value = this.getNestedProperty(variables, key.trim());\n      return value !== undefined ? String(value) : match;\n    });\n  }\n\n  /**\n   * Récupère une propriété imbriquée d'un objet\n   * Exemple: getNestedProperty({user: {name: \"John\"}}, \"user.name\") => \"John\"\n   */\n  private getNestedProperty(obj: any, path: string): any {\n    return path.split('.').reduce((current, key) => current?.[key], obj);\n  }\n\n  /**\n   * Évalue une condition de désactivation\n   */\n  private evaluateDisabledCondition(condition: DisabledCondition): boolean {\n    if (!this._hass) return false;\n\n    // Si c'est un tableau de conditions (AND logique)\n    if (Array.isArray(condition)) {\n      return condition.every(c => this.evaluateDisabledCondition(c));\n    }\n\n    const entity = condition.entity ? this._hass.states[condition.entity] : this.stateObj;\n    if (!entity) return false;\n\n    const operator = condition.operator || 'equals';\n    let actualValue: any;\n\n    // Récupérer la valeur à comparer\n    if (condition.attribute) {\n      actualValue = entity.attributes?.[condition.attribute];\n    } else {\n      actualValue = entity.state;\n    }\n\n    // Comparer selon l'opérateur\n    switch (operator) {\n      case 'equals':\n        if (Array.isArray(condition.state)) {\n          return condition.state.includes(actualValue);\n        }\n        return actualValue === (condition.state || condition.value);\n\n      case 'not_equals':\n        if (Array.isArray(condition.state)) {\n          return !condition.state.includes(actualValue);\n        }\n        return actualValue !== (condition.state || condition.value);\n\n      case 'greater_than':\n        return parseFloat(actualValue) > parseFloat(condition.value);\n\n      case 'less_than':\n        return parseFloat(actualValue) < parseFloat(condition.value);\n\n      case 'contains':\n        return String(actualValue).includes(String(condition.value));\n\n      default:\n        return false;\n    }\n  }\n\n  static create_element(hass: HassConfig, config: ElementConfig, device: Device): MyElement {\n    //let iconv = _i18n;\n    let iconv = i18n;\n    let Element = customElements.get(config.type) as typeof MyElement;\n    let label_name = '';\n    console.debug(\"Creating element\", config.type);\n\n    let elt = new Element();\n    elt.device = device;\n    elt.stateOn = elt.device.is_on();\n    elt.hass = hass;\n    elt.conf = config;\n    elt.color = elt.device.config.color;\n    elt.alpha = elt.device.config.alpha;\n\n    if ('stateObj' in config && !config.stateObj) {\n      elt.stateObj = null;\n    } else {\n      elt.stateObj = hass.states[elt.device.entities[config.name].entity_id];\n    }\n\n    // Résoudre le label\n    if ('label' in config) {\n      if (typeof config.label === 'boolean' && config.label !== false) {\n        label_name = config.name;\n      } else if (config.label && typeof config.label !== 'boolean') {\n        const context = {\n          entity: elt.stateObj,\n          device: device,\n          config: config,\n          state: elt.stateObj?.state,\n          name: config.name,\n          iconv: iconv\n        };\n        label_name = elt.resolveLabelExpression(config.label, context);\n      }\n    }\n\n    if (\"target\" in config && elt.device) {\n      elt.stateObjTarget = hass.states[elt.device.entities[config.target!].entity_id];\n    }\n\n    elt.label = label_name;\n    return elt;\n  }\n\n  /**\n   * Build a css style string according to given json configuration\n   * @param css_level: the css definition level\n   */\n  get_style(css_level: string = 'css'): string {\n    let style = '';\n    if (this.conf && css_level in this.conf) {\n      style = Object.entries(this.conf[css_level]).map(([k, v]) => `${k}:${v}`).join(';');\n    }\n    return style;\n  }\n\n  get_entity(entity_translation_value: string): StateObject {\n    if (!this._hass || !this.device) {\n      throw new Error(\"Hass or device not initialized\");\n    }\n    return this._hass.states[this.device.entities[entity_translation_value].entity_id];\n  }\n\n  private _handleClick(e: PointerEvent): void {\n    if (e.pointerType !== \"touch\") {\n      if (e.detail === 1) {\n        this._click_evt(e);\n      } else if (e.detail === 2) {\n        this.doubleClick = true;\n        this._dblclick(e);\n      }\n    } else {\n      if ((this.mouseUp - this.oldMouseUp) < 400) {\n        this.doubleClick = true;\n        this._dblclick(e);\n      } else {\n        this._click_evt(e);\n      }\n      this.oldMouseUp = this.mouseUp;\n    }\n  }\n\n  sleep(ms: number): Promise<void> {\n    return new Promise(resolve => setTimeout(resolve, ms));\n  }\n\n  protected _render(style: string): any {\n    // Méthode à implémenter dans les classes enfants\n    return html``;\n  }\n\n  render() {\n    let value: string | null = null;\n    if (this.stateObj !== null) {\n      value = this.stateObj.state;\n    }\n\n    // Évaluer la condition de désactivation\n    if (this.conf && 'disabled_if' in this.conf && this.conf.disabled_if) {\n      if (this.evaluateDisabledCondition(this.conf.disabled_if)) {\n        return html`<br />`;\n      }\n    }\n\n    if (!this.stateOn) {\n      this.c = off_color;\n    } else {\n      this.c = this.color;\n    }\n\n    return html`\n<div class=\"${this.conf?.class || ''}\" style=\"${this.get_style()}\">\n${this._render(this.get_style('elt.css'))}\n</div>\n`;\n  }\n\n  async run_actions(actions: Action | Action[]): Promise<void> {\n    //let iconv = _i18n;\n    let iconv = i18n;\n    let actionsArray: Action[] = Array.isArray(actions) ? actions : [actions];\n\n    for (let action of actionsArray) {\n      if (!(\"enabled\" in action) || action.enabled) {\n        if (action.domain === \"redsea_ui\") {\n          switch (action.action) {\n            case \"dialog\":\n              this.dispatchEvent(\n                new CustomEvent(\"display-dialog\", {\n                  bubbles: true,\n                  composed: true,\n                  detail: {\n                    type: (action.data as ActionData).type,\n                    overload_quit: (action.data as ActionData).overload_quit,\n                    elt: this,\n                  }\n                })\n              );\n              break;\n\n            case \"exit-dialog\":\n              this.dispatchEvent(\n                new CustomEvent(\"quit-dialog\", {\n                  bubbles: true,\n                  composed: true,\n                  detail: {}\n\t\t})\n              );\n              break;\n\n            case \"message_box\":\n              let str = '';\n              if (typeof action.data === 'string') {\n                // Substituer les variables dans le message\n                const context = {\n                  entity: this.stateObj,\n                  device: this.device,\n                  state: this.stateObj?.state,\n                  iconv: iconv\n                };\n                str = this.substituteVariables(action.data, context);\n              } else {\n                str = JSON.stringify(action.data);\n              }\n              this.msgbox(str);\n              break;\n\n            default:\n              let error_str = \"Error: try to run unknown redsea_ui action: \" + action.action;\n              this.msgbox(error_str);\n              console.error(error_str);\n              break;\n          }\n        } else {\n          let a_data = structuredClone(action.data);\n\n          if (a_data === \"default\" && this.stateObj) {\n            a_data = { entity_id: this.stateObj.entity_id };\n          } else if (typeof a_data === 'object' && a_data !== null && \"entity_id\" in a_data) {\n            a_data.entity_id = this.get_entity((action.data as ActionData).entity_id!).entity_id;\n          }\n\n          console.debug(\"Call Service\", action.domain, action.action, a_data);\n          this._hass?.callService(action.domain, action.action, a_data);\n        }\n      }\n    }\n  }\n\n  async _click_evt(e: MouseEvent | TouchEvent): Promise<void> {\n    let timing = e.timeStamp - this.mouseDown;\n\n    if (e.timeStamp - this.mouseDown > 500) {\n      this._longclick(e);\n    } else {\n      await this.sleep(300);\n      if (this.doubleClick === true) {\n        this.doubleClick = false;\n      } else {\n        this._click(e);\n      }\n    }\n    this.mouseDown = e.timeStamp;\n  }\n\n  _click(e: MouseEvent | TouchEvent): void {\n    if (this.conf && 'tap_action' in this.conf) {\n      this.run_actions(this.conf.tap_action!);\n    }\n  }\n\n  _longclick(e: MouseEvent | TouchEvent): void {\n    if (this.conf && \"hold_action\" in this.conf) {\n      this.run_actions(this.conf.hold_action!);\n    }\n  }\n\n  _dblclick(e: MouseEvent | TouchEvent): void {\n    if (this.conf && \"double_tap_action\" in this.conf) {\n      this.run_actions(this.conf.double_tap_action!);\n    }\n  }\n\n  msgbox(msg: string): void {\n    this.dispatchEvent(\n      new CustomEvent(\"hass-notification\", {\n        bubbles: true,\n        composed: true,\n        detail: {\n          message: msg\n        }\n      })\n    );\n  }\n}\n","/**\n * Simple object check.\n * @param item\n * @returns {boolean}\n */\nexport function isObject(item) {\n  return (item && typeof item === 'object' && !Array.isArray(item));\n}\n\n/**\n * Deep merge two objects.\n * @param target\n * @param ...sources\n */\nexport function mergeDeep(target, ...sources) {\n  if (!sources.length) return target;\n  const source = sources.shift();\n\n  if (isObject(target) && isObject(source)) {\n    for (const key in source) {\n      if (isObject(source[key])) {\n        if (!target[key]) Object.assign(target, { [key]: {} });\n        mergeDeep(target[key], source[key]);\n      } else {\n        Object.assign(target, { [key]: source[key] });\n      }\n    }\n  }\n\n  return mergeDeep(target, ...sources);\n}\n\nexport function merge(target,source){\n    return mergeDeep(structuredClone(target),source);\n}\n","import {css} from 'lit';\n\nexport default css`\n.device_bg{\n    position: relative;\n    top: 0;\n    left : 0;\n    width: 100%;\n    aspect-ratio: 1/1.2;\n    }\n\n.device_img{\n    position: relative;\n    top: 0;\n    left : 0;\n    width: 100%;\n    }\n\n.device_img_disabled{\n    position: relative;\n    top: 0;\n    left : 0;\n    width: 100%;\n    filter: grayscale(80%);\n    }\n\n.disabled_in_ha{\n  color: white;\n  text-align: center;\n  position : absolute;\n  width: 100%;\n  top:15%;\n  left: 0%;\n  background-color:rgba(255,0,0,0.5);\n}\n`\n;\n","import { html, LitElement } from \"lit\";\nimport i18n from \"../translations/myi18n.js\";\nimport { MyElement } from \"./base/element\";\n/*import Switch from \"./base/switch\";\n  import Button from \"./base/button\";\n  import Sensor from \"./base/sensor\";\n  import ProgressBar from \"./base/progress_bar\";\n  import ProgressCircle from \"./base/progress_circle\";\n  import SensorTarget from \"./base/sensor_target\";\n  import NoDevice from \"./nodevice\";*/\nimport { merge } from \"../merge\";\nimport style_common from \"./common.styles\";\nlet iconv = i18n;\n/*\n * RSDevice\n */\nexport class RSDevice extends LitElement {\n    static styles = [style_common];\n    // Device is updated when hass is updated\n    static get properties() {\n        return {\n            to_render: { type: Boolean },\n        };\n    } // end of reactives properties\n    /*\n     * Construct a new Redsea LitElement of type name\n     * @name: type of device: redsea-rsdose2, redsea-rswave...\n     * @hass: the homeassistant states\n     * @config: the user configuration file\n     * @device: the hass redsea device\n     */\n    static create_device(name, hass, config, device) {\n        let Element = customElements.get(name);\n        if (typeof Element == \"undefined\") {\n            Element = customElements.get(\"redsea-nodevice\");\n        }\n        console.debug(\"Creating device\", name);\n        let elt = new Element();\n        elt.hass = hass;\n        elt.user_config = config;\n        elt.device = device;\n        return elt;\n    } // end of - create_device\n    /*\n     * CONSTRUCTOR\n     */\n    constructor() {\n        super();\n        this.entities = {};\n        this._elements = [];\n        this.to_render = false;\n        this.first_init = true;\n    } //end of constructor\n    _setting_hass(obj) {\n        this._hass = obj;\n        let re_render = false;\n        for (let element in this._elements) {\n            let elt = this._elements[element];\n            if ('master' in elt.conf && elt.conf.master) {\n                if (elt.has_changed(obj)) {\n                    re_render = true;\n                }\n            }\n            elt.hass = obj;\n        }\n        if (re_render) {\n            this.to_render = true;\n            this.render();\n        }\n    }\n    render() {\n        return this._render();\n    }\n    set hass(obj) {\n        this._setting_hass(obj);\n    }\n    /*\n     * Return  the hass entity id according to it's translation key\n     * Entities list must be populate before with this._populate_entities()\n     * @entity_translation_value: a strign representation the translation key of the entity\n     */\n    get_entity(entity_translation_value) {\n        return this._hass.states[this.entities[entity_translation_value].entity_id];\n    } //end of function get_entity\n    /*\n     * Find leaves on a json configuration object\n     * @tree: the current json object to search for\n     * @path: the path to search for leaves\n     */\n    find_leaves(tree, path) {\n        var keys = Object.keys(tree);\n        if (keys[0] == '0') {\n            eval(path + '=\"' + tree + '\"');\n            return;\n        } //if\n        for (var key of keys) {\n            let sep = '.';\n            let ipath = path + sep + key;\n            this.find_leaves(tree[key], ipath);\n        } //for\n    } //end of function - find_leaves\n    /*\n     * Update default configuration with user values changes\n     */\n    update_config() {\n        this.config = JSON.parse(JSON.stringify(this.initial_config));\n        if (this.user_config && \"conf\" in this.user_config) {\n            if (this.device.elements[0].model in this.user_config.conf) {\n                let device_conf = this.user_config.conf[this.device.elements[0].model];\n                if ('common' in device_conf) {\n                    this.find_leaves(device_conf['common'], \"this.config\");\n                } //if\n                if ('devices' in device_conf && this.device.name in device_conf.devices) {\n                    this.config = merge(this.config, this.user_config.conf[this.device.elements[0].model]['devices'][this.device.name]);\n                }\n            } //if\n        } //if\n        // send dialogs conf\n        if (this.config.dialogs) {\n            this.dispatchEvent(new CustomEvent(\"config-dialog\", {\n                bubbles: true,\n                composed: true,\n                detail: {\n                    config: this.config.dialogs,\n                }\n            }));\n        } //if\n    } //end of function update_config\n    /*\n     * Get all entities linked to this redsea device\n     */\n    _populate_entities() {\n        for (var entity of this._hass.entities) {\n            if (entity.device_id == this.device.elements[0].id) {\n                this.entities[entity.translation_key] = entity;\n            } //if\n        } //for\n    } //end of function - _populate_entities\n    /*\n     * Check is the current device is disabled or not\n     */\n    is_disabled() {\n        let disabled = false;\n        let sub_nb = this.device.elements.length;\n        for (var i = 0; i < sub_nb; i++) {\n            if (this.device.elements[i].disabled_by != null) {\n                disabled = true;\n                break;\n            } // if\n        } // for\n        return disabled;\n    } //end of function is_disabled\n    /*\n     * Get the state of the device on or off.\n     */\n    is_on() {\n        return (this._hass.states[this.entities['device_state'].entity_id].state == 'on');\n    } //end of function - is_on\n    /*\n     * Special render if the device is disabled or in maintenance mode in HA\n     */\n    _render_disabled() {\n        let reason = null;\n        let maintenance = '';\n        if (this.is_disabled()) {\n            reason = \"disabledInHa\";\n        }\n        else if (this._hass.states[this.entities['maintenance'].entity_id].state == 'on') {\n            reason = \"maintenance\";\n            // if in maintenance mode, display maintenance switch\n            let elements = [];\n            for (var i in this.config.elements) {\n                elements.push(this.config.elements[i]);\n            }\n            for (let swtch of elements) {\n                if (swtch.name == \"maintenance\") {\n                    let maintenance_button = MyElement.create_element(this._hass, swtch, this);\n                    maintenance = html `\n                                      ${maintenance_button}\n                                    `;\n                    break;\n                } //if\n            } //for\n        } // else if\n        if (reason == null) {\n            return reason;\n        }\n        return html `<div class=\"device_bg\">\n                      <img class=\"device_img_disabled\" id=d_img\" alt=\"\"  src='${this.config.background_img}'/>\n                      <p class='disabled_in_ha'>${i18n._(reason)}</p>\n                         ${maintenance}\n                    </div\">`;\n    } //end of function _render_disabled\n    /*\n     * Build a css style string according to given json configuration\n     * @conf: the css definition\n     */\n    get_style(conf) {\n        let style = '';\n        if (conf && 'css' in conf) {\n            style = Object.entries(conf.css).map(([k, v]) => `${k}:${v}`).join(';');\n        }\n        return style;\n    } //end of function get_style\n    /*\n     * Render a sungle element: switch, sensor...\n     * @conf: the json configuration for the element\n     * @state: the state of the device on or off to adapt the render\n     * @put_in: a grouping div to put element on\n     */\n    _render_element(conf, state, put_in) {\n        let sensor_put_in = null;\n        //Element is groupped with others \n        if (\"put_in\" in conf) {\n            sensor_put_in = conf.put_in;\n        } //if\n        //Element is disabled or not i nthe requested group\n        if (('disabled' in conf && disabled == true) ||\n            (sensor_put_in != put_in)) {\n            return html ``;\n        } //if\n        let element = null;\n        if (conf.name in this._elements) {\n            element = this._elements[conf.type + '.' + conf.name];\n            element.state_on = state;\n        }\n        else {\n            element = MyElement.create_element(this._hass, conf, this);\n            this._elements[conf.type + '.' + conf.name] = element;\n        }\n        return html `\n                       ${element}\n                     `;\n    } //end of function - _render_actuator\n    /*\n     * Render all elements that are declared in the configuration of the device\n     * @state: the state of the device on or off to adapt the render\n     * @put_in: a grouping div to put element on\n     */\n    _render_elements(state, put_in = null) {\n        let elements = [];\n        for (var i in this.config.elements) {\n            elements.push(this.config.elements[i]);\n        }\n        //${this.config.elements.map(conf => this._render_element(conf,state,put_in))}\n        return html `\n                     ${elements.map(conf => this._render_element(conf, state, put_in))} \n                     `;\n    } //end of function - _render_elements\n} //end of class RSDevice\n//window.customElements.define('rs-device', RSDevice);\n","import {css} from 'lit';\n\n\nexport default css`\n\n\n#window-mask{\nposition: absolute;\ntop: 0px;\nleft: 0px;\nwidth: 100%;\nheight: 100%;\n//text-align:center;\nbackground-color: rgba(175,175,175,0.8);\nz-index:6;\n//display: flex hidden;\ndisplay: none;\njustify-content: center;\nalign-items: center;\n}\n\n#dialog{\nborder: 1px solid gray;\nz-index:7;\nposition:absolute;\ntop:100px;\n//margin-left:35%;\n//margin-right:35%;\n//min-height: 200px;\n//min-width: 300px;\n//width:28%;\npadding-left:15px;\npadding-right:15px;\npadding-top: 20px;\npadding-bottom: 10px;\nbackground-color: rgba(255,255,255,1);\nborder-radius:15px;\njustify-content: center;\nalign-items: center; \ndisplay: grid;\ngrid-template-columns: 40px 90%;\n//grid-template-rows: 3;\ngrid-gap: 10px;\n}\n\n#dialog-close{\n//border: 1px solid green;\ngrid-column: 1;\ngrid-row: 1;\npadding-left:5px;\npadding-right:5px;\ntext-align:center;\n}\n\n#dialog-title{\n//border: 1px solid green;\ngrid-column: 2/4;\ngrid-row: 1;\npadding-left:5px;\npadding-right:5px;\nfont-size: 1.5em;\nfont-weight: bold;\n}\n\n#dialog-content{\n//border: 1px solid green;\ngrid-column: 1/4;\ngrid-row: 2;\npadding-left:5px;\npadding-right:5px;\nwidth:90%;\nmargin-left: 5%;\n}\n\n#dialog-submit{\n//border: 1px solid green;\ngrid-column: 2/4;\ngrid-row: 3;\ntext-align:right;\nmargin-right: 2%;\n}\n#dialog-cancel{\n//border: 1px solid green;\ngrid-column: 1/3;\ngrid-row: 3;\ntext-align:left;\nmargin-left: 2%;\n}\n\nform.schedule{\n  margin-top:10px;\n  padding-left:5px;\n  padding-right: 5px;\n  padding-top:5px;\n  padding-bottom:5px;\n  border: 1px solid #e0e0e0;\n  border-radius: 30px;\n}\n\np.schedule_header{\n  font-weight: bold;\n}\n\nselect{\n}\n\n.days{\n    margin-left:0px;\n    margin-right:0px;\n    width: 2em;\n    height: 2em;\n    background-color: white;\n    border-radius: 50%;\n    vertical-align: middle;\n    border: 1px solid #ddd;\n    appearance: none;\n    -webkit-appearance: none;\n    outline: none;\n    cursor: pointer;\n}\n.days:checked{\n  background-color:#2196F3;\n}\n\nlabel.days{\n  position: relative;\n  left: 19px;\n  top: 2px;\n  background-color: rgba(0,0,0,0);\n  border: none;\n}\n\nlabel.days:hover{\ncursor:pointer;\n}\n\n.interval{\n  font-weight: bolder;\n  text-align: center;\n  border-radius: 20px;\n  display: flex;\n  margin-top: 5px;\n  margin-bottom: 5px;\n  background-color: aliceblue;\n  border: 1px solid lightgray;\n}\n\ninput {\n  border-radius:20px;\n  border: 1px solid #009ac7;\n}\n\nselect{\n  border-radius:20px;\n  border: 1px solid #009ac7;\n}\n\nbutton{\n  border-radius: 20px;\n  background-color: #009ac7;\n  color: white;\n  font-weight: bold;\n  padding-top: 10px;\n  padding-bottom: 10px;\n  padding-left: 20px;\n  padding-right: 20px;\n  display:inline-block;\n  margin-top:5px;\n  margin-bott: 5px;\n  border:none;\n}\n\nbutton:hover{\ncursor:pointer;\n}\n\nbutton.delete_button{\n background-color:red;\n background: url('/hacsfiles/ha-reef-card/trash.svg');\n background-position:center;\n background-repeat:no-repeat;\n}\n\nlabel{\nmargin-right: 5px;\n}\n\ninput{\nmargin-right: 5px;\n}\n\n:disabled{\nbackground-color: rgb(200,200,200);\n}\n\n`;\n","import {css} from 'lit';\n\nexport default css`\n\nimg:hover{\n  cursor: pointer;\n  background-color: rgb(235,235,235);\n  border-radius: 30px\n}\n\n`;\n","import { html,LitElement } from \"lit\";\n\nimport i18n from \"../../translations/myi18n.js\";\n\nimport style_dialog from \"./dialog.styles\";\n\nimport ClickImage from \"./click_image\";\nimport style_click_image from \"./click_image.styles\";\n\nimport {MyElement} from \"./element\";\n\nimport * as dhd from \"../dose_head.dialog\";\n\nvar iconv=i18n;\n\n/*\n *  Dialog\n */\nexport class Dialog extends  LitElement {\n\n    static styles = [style_dialog,style_click_image];\n\n    static get properties(){\n\treturn {\n//\t    _hass:{},\n\t    _shadowRoot:{},\n\t    to_render: {},\n\t    elt: {},\n/*\t    elts: [],\n\t    extends_to_re_render:[],*/\n\t};\n    }\n\t\n    /*\n     * conf the conf in mapping file\n     * stateObj the hass element \n     */\n    constructor(){\n \tsuper();\n\tthis._hass=null;\n\tthis._shadowRoot=null;\n\tthis.config=null;\n\tthis.elt=null;\n\tthis.elts=[];\n\tthis.extends_to_re_render=[];\n\tthis.to_render=null;\n\tthis.overload_quit=null;\n    }//end of constructor\n\n    init(hass,shadowRoot){\n\tthis._hass=hass;\n\tthis._shadowRoot=shadowRoot;\n    }\n    \n\n    display(conf){\n\tlet box=this._shadowRoot.querySelector(\"#window-mask\");\n\tthis.elt=conf.elt;\n\tthis.to_render=this.config[conf.type];\n\tthis.overload_quit=conf.overload_quit;\n\tthis.render();\n\tbox.style.display=\"flex\";\n    }\n\n    quit(){\n\tif (this.overload_quit){\n\t    var event={type:this.overload_quit,elt:this.elt};\n\t    this.display(event);\n\t}\n\telse {\n\t    this._shadowRoot.querySelector(\"#window-mask\").style.display=\"none\";\n\t    this.elt=null;\n\t    this.to_render=null;\n\t}\n    }\n\n    set hass(obj){\n\tthis._hass=obj;\n\tif(this.elts){\n\t    for (let elt of this.elts){\n\t\telt.hass=obj;\n\t    }\n\t}\n\tif(this.extends_to_re_render){\n\t    let dose_head_dialog=dhd;\n\t    for(let elt of this.extends_to_re_render){\n\t\teval(elt);\n\t    }\n\t}\n\t//\tthis.render();\n    }\n\n    set_conf(config){\n\tthis.config=config;\n    }\n\n    _render_content(content_conf){\n\tvar content=null;\n\tif(content_conf.view==\"common-button\"){\n\t    content=MyElement.create_element(this._hass,content_conf.conf,this.elt.device);\n\t}\n\telse if(content_conf.view==\"text\"){\n\t    content=this._shadowRoot.createElement(\"p\");\n\t    try {\n\t\tcontent.innerHTML=eval(content_conf.value);\n\t    }\n\t    catch (error){\n\t\tconsole.error(\"ERROR\",error);\n\t\tcontent.innerHTML=content_conf.value;\n\t    }\n\t}\n\telse if(content_conf.view==\"extend\"){\n\t    let dose_head_dialog=dhd;\n\t    var cmd=content_conf.extend+'.'+this.to_render.name+\"(this.elt,this._hass,this._shadowRoot)\";\n\t    eval(cmd);\n\t    if (content_conf.re_render){\n\t\tthis.extends_to_re_render.push(cmd);\n\t    }\n\t    return;\n\t}\n\telse{\n\t    const r_element= customElements.get(content_conf.view);\n\t    content= new r_element();\n\t    // translate from translation_key to entity_id\n\t    const clone = structuredClone(content_conf.conf);\n\t    if(\"entities\" in content_conf.conf){\n\t\tfor (let pos in content_conf.conf.entities){\n\t\t    if (typeof clone.entities[pos]==\"string\"){\n\t\t\tclone.entities[pos]=this.elt.get_entity(content_conf.conf.entities[pos]).entity_id;\n\t\t    }\n\t\t    else {\n\t\t\tclone.entities[pos].entity=this.elt.get_entity(content_conf.conf.entities[pos].entity).entity_id;\n\t\t    }\n\t\t}\n\t    }\n\t    else if(\"entity\" in content_conf.conf){\n\t\tclone.entity=this.elt.get_entity(content_conf.conf.entity).entity_id;\n\t    }\n\t    content.setConfig(clone);\n\t    content.hass=this._hass;\n\t    content.device=this.elt.device;\n\t}\n\tthis.elts.push(content);\n\tthis._shadowRoot.querySelector(\"#dialog-content\").appendChild(content);\n    }\n    \n    render(){\n\tlet iconv=i18n;\n\tlet close_conf={\n\t    \"image\": new URL('../img/close_cross.svg',import.meta.url),\n\t    \"type\": \"common-button\",\n\t    \"stateObj\": null,\n\t    \"tap_action\":{\n\t\t\"domain\":\"redsea_ui\",\n\t\t\"action\":\"exit-dialog\",\n\t    },\n\t    \"label\": i18n._(\"exit\"),\n\t    \"class\": \"dialog_button\",\n\t    \"elt.css\":{\n\t\t\"background-color\":\"rgba(0,0,0,0)\",\n\t    }\n\t};\n\n\tif(this.to_render!=null){\n\t    let submit_conf=close_conf;\n\t    let cancel_conf=null;\n\t    if(\"validate\" in this.to_render){\n\t\tthis.to_render.validate['elt.css']={\"background-color\":\"rgba(0,0,0,0)\"};\n\t\tsubmit_conf=this.to_render.validate;\n\t    }\n\t    if(\"cancel\" in this.to_render && this.to_render.cancel){\n\t\tcancel_conf=close_conf;\n\t\tcancel_conf.label=i18n._(\"cancel\");\n\t\tcancel_conf.css={left:\"-30%\"};\n\t\t\t\t\n\t    }\n\n\t    this._shadowRoot.querySelector(\"#dialog-close\").innerHTML='';\n\t    this._shadowRoot.querySelector(\"#dialog-title\").innerHTML='';\n\t    this._shadowRoot.querySelector(\"#dialog-content\").innerHTML='';\n\t    this._shadowRoot.querySelector(\"#dialog-cancel\").innerHTML='';\n\t    this._shadowRoot.querySelector(\"#dialog-submit\").innerHTML='';\n\t    // Closing cross\n\t    if(!(\"close_cross\" in this.to_render && !this.to_render.close_cross)){\n\t\tlet close_cross_class=customElements.get(\"click-image\");\n\t\tlet close_cross=new close_cross_class();\n\t\tclose_cross.conf=close_conf;\n\t\tclose_cross.hass=this._hass;\n\t\tthis._shadowRoot.querySelector(\"#dialog-close\").appendChild(close_cross);\n\t    }\n\t    // Title\n\t    this._shadowRoot.querySelector(\"#dialog-title\").innerHTML=eval(this.to_render.title_key);\n\t    // Content\n\t    this.elts=[];\n\t    this.extends_to_re_render=[];\n\t    this.to_render.content.map(c => this._render_content(c));\n\t    // Submit\n\t    let submit_button=MyElement.create_element(this._hass,submit_conf,this.elt.device);\n\t    this._shadowRoot.querySelector(\"#dialog-submit\").appendChild(submit_button);\n\t    //Cancel\n\t    if(cancel_conf){\n\t\tlet cancel_button=MyElement.create_element(this._hass,cancel_conf,this.elt.device);\n\t\tthis._shadowRoot.querySelector(\"#dialog-cancel\").appendChild(cancel_button);\n\t    }\n\t}\n\treturn html`\n          <div id=\"window-mask\">\n   \t    <div id=\"dialog\">\n              <div id=\"dialog-close\"></div>\n              <div id=\"dialog-title\"></div>\n              <div id=\"dialog-content\"></div>\n              <div id=\"dialog-cancel\"></div>\n              <div id=\"dialog-submit\"></div>\n            </div>\n         </div>\n`;\n    }//end of function render\n}// end of class\n\nwindow.customElements.define('common-dialog', Dialog);\n","import {\n  LitElement,\n  html,\n  until,\n} from \"lit\";\n\nimport { until } from 'lit/directives/until.js';\n\nimport i18n from \"./translations/myi18n.js\";\n\nimport DeviceList from './common';\n\nimport style_card from './card.styles';\n\nimport {RSDevice} from './devices/device';\n//import NoDevice from './devices/nodevice';\n//  import RSDose from './devices/rsdose';\nimport {Dialog} from './devices/base/dialog';\n\nimport style_dialog from './devices/base/dialog.styles';\n\n\n/*\n *  ReefCard. Implement a reefcard for HomeAssistant\n */\nexport class ReefCard extends LitElement {\n\n  static styles = [style_card,style_dialog];\n\n  // Card is updated when new device is selected or when hass is updated\n  static get properties() {\n    return {\n      _hass: {},\n      current_device: {},\n    };\n  }//end of reactives properties\n\n  \n  /*\n   * CONSTRUCTOR\n   */\n  constructor() {\n    super();\n    this.version='v0.0.1';\n    //this.select_devices=[{value:'unselected',text:i18n._(\"select_device\")}];\n    this.select_devices=[];\n    this.first_init=true;\n    this.re_render=false;\n    this._dialog_box=null;\n    this.addEventListener(\"display-dialog\", function(e) {this._handle_display_dialog(e);});\n    this.addEventListener(\"config-dialog\", function(e) {this._dialog_box.set_conf(e.detail.config);});\n    this.addEventListener(\"quit-dialog\", function(e) {this._dialog_box.quit();this.render(); /* force rerender*/ ;});\n  }//end of constructor\n\n\n  /*\n   * Get user configuration\n   */\n  setConfig(config) {\n    this.user_config = config;\n  }//end of function - setConfig\n\n\n  set hass(obj){\n    if(this.first_init==true){\n      this._hass=obj;\n    }\n    else {\n      this.current_device.hass=obj;\n      this._dialog_box.hass=obj;\n    }\n  }\n\n  _handle_display_dialog(event){\n    this._dialog_box.display(event.detail);\n  }//end of function - _handle_display_dialog\n  \n  /*\n   * RENDER\n   */\n  render() {\n    console.debug(\"render main\");\n    if(this.first_init==true){\n      \n      this.init_devices();\n      this.first_init=false;\n      this.no_device=RSDevice.create_device(\"redsea-nodevice\",this._hass,null,null);\n      this.current_device=this.no_device;\n      this._dialog_box=new Dialog();\n      this._dialog_box.init(this._hass,this.shadowRoot);\n    }//if\n    else {\n      console.debug(\"No FIRST\");\n      this.current_device.hass=this._hass;\n      if(!this.re_render){\n\treturn;\n      }\n    }\n    \n    if(this.user_config['device']){\n      this.select_devices.map(dev => this._set_current_device_from_name(dev,this.user_config.device));\n      this.current_device.hass=this._hass;\n      //A specific device has been selected\n      return html`\n             ${this.messages}\n             ${this.current_device}\n             ${this._dialog_box.render()}`;\n    }//fi\n    // no secific device selected, display select form\n    return html`\n             ${this.device_select()}\n             ${this.messages}\n             ${this.current_device}\n             ${this._dialog_box.render()}`;\n  }//end of render\n\n  /*\n   * display select form to choose wich device to display\n   */\n  device_select(){\n    return html`\n        <select id=\"device\" @change=\"${this.onChange}\">\n          ${this.select_devices.map(option => html`\n             <option value=\"${option.value}\" ?selected=${this.select_devices === option.value}>${option.text}</option>\n         `)}\n        </select>`;\n  }\n\n  /*\n   * Initialise available redsea devices list\n   */\n  init_devices(){\n    this.devices_list=new DeviceList(this._hass);\n    this.select_devices=[{value:'unselected',text:i18n._(\"select_device\")}];\n\n    for (var d of this.devices_list.main_devices){\n      this.select_devices.push(d);\n    }// for\n  }//end of init_devices\n\n  /*\n   * Set the current device to display giving it's name\n   */\n  _set_current_device_from_name(dev,name){\n    if (dev['text']==name){\n      this._set_current_device(dev['value']);\n    }\n  }//end of _set_current_device_from_name\n\n  /*\n   * Set the current device to display giving it's id\n   */\n  _set_current_device(device_id){\n    console.debug(\"Current device\",device_id);\n    //No device selected, display redsea logo\n    if (device_id==\"unselected\"){\n      this.current_device=this.no_device;\n      return;\n    }\n    \n    if (this.current_device.device != null &&\n      this.current_device.device.elements[0].primary_config_entry ==device_id){\n      console.debug(\"current device not updated\",this.current_device.device.name);\n      return;\n    }\n    \n    var device=this.devices_list.devices[device_id];\n    var model = device.elements[0].model;\n    this.current_device=RSDevice.create_device(\"redsea-\"+model.toLowerCase(),this._hass,this.user_config,device);\n    //TODO : Implement MAIN tank view support\n    //Issue URL: https://github.com/Elwinmage/ha-reef-card/issues/11\n    // labels: enhancement\n\n    switch(model){\n\t//TODO : Implement RSDOSE support\n\t//Issue URL: https://github.com/Elwinmage/ha-reef-card/issues/10\n\t// labels: enhancement, rsdose\n      case \"RSDOSE2\":\n\t//TODO : Implement RSDOSE2 support\n\t//Issue URL: https://github.com/Elwinmage/ha-reef-card/issues/9\n\t// labels: enhancement, rsdose, rsdose2\n      case \"RSDOSE4\":\n\t//TODO : Implement RSDOSE4 support\n\t//Issue URL: https://github.com/Elwinmage/ha-reef-card/issues/8\n\t// labels: enhancement, rsdose, rsdose4\n\t\n\tbreak;\n      case \"RSRUN\":\n\t//TODO : Implement RSRUN support\n\t//Issue URL: https://github.com/Elwinmage/ha-reef-card/issues/7\n\t// labels: enhancement, rsrun\n\tbreak;\n      case \"RSWAVE\":\n\t//TODO : Implement RSWAVE support\n\t//Issue URL: https://github.com/Elwinmage/ha-reef-card/issues/6\n\t// labels: enhancement, rswave\n\n\tbreak;\n      case \"RSMAT\":\n\t//TODO : Implement RSMAT support\n\t//Issue URL: https://github.com/Elwinmage/ha-reef-card/issues/5\n\t// labels: enhancement, rsmat\n\n\tbreak;\n      case \"RSATO+\":\n\t//TODO : Implement RSATO+ support\n\t//Issue URL: https://github.com/Elwinmage/ha-reef-card/issues/4\n\t// labels: enhancement, rsato\n\t\n\tbreak;\n\t//TODO : Implement RSLED support\n\t//Issue URL: https://github.com/Elwinmage/ha-reef-card/issues/3\n\t// labels: enhancement, rsled\n\t\n      case \"RSLED50\":\n      case \"RSLED60\":\n      case \"RSLED90\":\n      case \"RSLED115\":\n      case \"RSLED160\":\n      case \"RSLED170\":\n\tbreak;\n      default:\n\tconsole.log(\"Unknow device type: \"+model)\n    }\n    \n  }\n\n  /*\n   * When SELECT form change, update the current redsea device to display.\n   */\n  onChange(){\n    setTimeout(()=>{\n      this.selected = this.shadowRoot.querySelector('#device').value;\n      this.current_device=this.no_device;\n      \n      if (this.selected==\"unselected\"){\n        console.log('Nothing selected');\n      }\n      else{\n\tthis._set_current_device(this.selected);\n      }\n      this.re_render=true;\n    },300)\n  }// end of onChange\n\n  /*\n   * Card editor\n   */\n  static getConfigElement() {\n    return document.createElement(\"reef-card-editor\");\n  }//end of getConfigElement\n}//end of class ReefCard\n","import {css} from 'lit';\n\nexport default css`\n\n:hover{\n  cursor: pointer;\n}\n\n.button{\n  width:100%;\n  height:100%;\n  border-radius: 30px;\n}\n\n.dialog_button:hover{\n  background-color: #006787;\n}\n\n\n.dialog_button{\n  border-radius: 20px;\n  background-color: #009ac7;\n  color: white;\n  font-weight: bold;\n  padding-top: 10px;\n  padding-bottom: 10px;\n  padding-left: 20px;\n  padding-right: 20px;\n  display:inline-block;\n}\n.\n`;\n","import { html } from \"lit\";\n\nimport style_button from \"./button.styles\";\n\nimport {MyElement} from \"./element\";\n\n/*\n *  Button\n */\nexport class Button extends  MyElement {\n\n    static styles = [style_button];\n\t\n    /*\n     * conf the conf in mapping file\n     * stateObj the hass element \n     */\n    constructor(hass,conf,stateObj,color=\"255,255,255\",alpha=1){\n \tsuper(hass,conf,stateObj,color,alpha);\n    }//end of constructor\n\n    _render(style=null){\n\tlet sclass='button';\n\tlet icon=null;\n\tif ('class' in this.conf){\n\t    sclass=this.conf.class;\n\t}\n\tif('icon' in this.conf){\n\t    icon=html`<ha-icon icon=\"${this.conf.icon}\"><ha-icon>`;\n\t}\n\treturn html`\n <style>\n.button{\nbackground-color: rgba(${this.c},${this.alpha});\n}\n</style>\n\t    <div class=\"button\" id=\"${this.conf.name}\" style=${style}>${icon}${this.label}</div>\n`;\n    }//end of function render\n\n}// end of class\n\n//window.customElements.define('common-button', Button);\n","import { html } from \"lit\";\n\nimport style_click_image from \"./click_image.styles\";\n\nimport {MyElement} from \"./element\";\n\n/*\n *  ClickImage\n */\nexport class ClickImage extends  MyElement {\n\n    static styles = style_click_image;\n\n    /*\n     * conf the conf in mapping file\n     * stateObj the hass element \n     */\n    constructor(hass,conf){\n \tsuper(hass,conf,null,null);\n    }//end of constructor\n\n    _render(style=null){\n\tlet sclass=\"\";\n\tif (\"class\" in this.conf){\n\t    sclass=this.conf.class;\n\t}\n\t\n\treturn html`<img class=\"${sclass}\" src=${this.conf.image} style=${style} />`;\n    }//end of function render\n\n}// end of class\n\n//window.customElements.define('click-image', ClickImage);\n","import {css} from 'lit';\n\nexport default css`\n\ndiv.bar{\nborder-radius: 20px;\nborder: 1px solid white;\n}\n\ndiv.progress{\nfont-size: 0.8em;\nborder-radius: 20px;\nborder: 1px solid black;\nfont-weight: bold;\n}\n\nlabel.progress-bar{\nposition: absolute;\ntop:0px;\ncolor: white;\npadding-left: 5px;\n}\n`;\n","import { html } from \"lit\";\nimport style_progress_bar from \"./progress_bar.styles\";\nimport i18n from \"../../translations/myi18n.js\";\nimport {off_color} from \"../../common.js\";\n\nimport {MyElement} from \"./element\";\n\n/*\n *  ProgressBar\n */\n//export class ProgressBar extends  MyElement {\nexport class ProgressBar extends  MyElement {\n\n    static styles = style_progress_bar;\n\n    static get properties(){\n\treturn {\n\t    stateObjTarget: {},\n\t};\n    }\n    \n    /*\n     * conf the conf in mapping file\n     * stateObj the hass element \n     */\n    constructor(){//hass,conf,device){\n \tsuper();//hass,conf,device);\n\tthis.stateObjTarget=null;//stateObjTarget;\n    }//end of constructor\n\n    _render(){\n\tif ('disabled_if' in this.conf && eval(this.conf.disabled_if) ){\n\t    return html`<br />`;\n\t}\n\n\tlet value=this.stateObj.state;\n\tlet target=this.stateObjTarget.state;\n\tlet percent=Math.floor(this.stateObj.state*100/this.stateObjTarget.state);\n\tlet bar_class=this.conf.class;\n\tlet label='';\n\tif('label' in this.conf){\n\t    label=eval(this.label);\n\t}\n\tlet unit=\"%\"\n\tlet fill=percent-1;\n\tif (fill<0){\n\t    fill = 0;\n\t}\n\treturn html`\n            <style>\n             div.progress{\n               background-color: rgba(${this.c},0.8);\n              }   \n            </style>\n              <div class=\"bar\" id=\"${this.conf.name}\" style=\"background-color:rgba(150,150,150,0.7)\">\n       \t        <div class=\"progress\" id=\"${this.conf.name}\" style=\"width:${fill}%;height:100;\">&nbsp</div>\n                <label class=\"progress-bar\"};\" >${percent}${unit} - ${label}</label>\n              </div>\n             `;\n    }//end of function render\n\n    async _click(e){\n\tconsole.debug(\"Click \",e.detail,\" \",e.timeStamp);\n    }\n\n    async _longclick(e){\n\tconsole.debug(\"Long Click\");\n    }//end of function longclick\n    \n    async _dblclick(e){\n\tconsole.debug(\"Double click\");\n    }//end of function dblclick\n    \n}// end of class\n\n//window.customElements.define('progress-bar', ProgressBar);\n","import {css} from 'lit';\n\nexport default css`\n`;\n","import { html } from \"lit\";\nimport style_progress_circle from \"./progress_circle.styles\";\nimport i18n from \"../../translations/myi18n.js\";\nimport {off_color} from \"../../common.js\";\n\nimport {MyElement} from \"./element\";\n\n/*\n *  ProgressCircle\n */\nexport class ProgressCircle extends  MyElement {\n\n    static styles = style_progress_circle;\n\n    static get properties(){\n\treturn {\n\t    stateObjTarget: {},\n\t};\n    }\n    \n    /*\n     * conf the conf in mapping file\n     * stateObj the hass element \n     */\n    constructor(){//hass,conf,device){\n \tsuper();//hass,conf,device);\n\tthis.stateObjTarget=null;\n    }//end of constructor\n\n    _render(){\n\tif ('disabled_if' in this.conf && eval(this.conf.disabled_if) ){\n\t    return html`<br />`;\n\t}\n\tlet iconv= i18n;\n\tlet value=this.stateObj.state;\n\tlet target=this.stateObjTarget.state;\n\tlet percent=100\n\tif(parseFloat(value) < parseFloat(target)){\n\t    percent=Math.floor(this.stateObj.state*100/this.stateObjTarget.state);\n\t}//if\n\tlet circle_class=this.conf.class;\n\tlet label='';\n\tif('label' in this.conf){\n\t    label=eval(this.conf.label);\n\t}\n\tlet style='';\n\tif('no_value' in this.conf && this.conf.no_value){\n\t    style=\"visibility: hidden;\";\n\t};\n\tlet unit=\"%\"\n\tlet fill=percent-2;\n\tif (fill<0){\n\t    fill = 0;\n\t}\n\t// range 0 to 565 for 200x200\n\treturn html`\n              <svg width=\"100%\" height=\"100%\" viewBox=\"-25 -25 250 250\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" style=\"transform:rotate(-90deg)\">\n                <circle r=\"90\" cx=\"100\" cy=\"100\" fill=\"transparent\" stroke=\"rgba(150,150,150,0.6)\" stroke-width=\"16px\"></circle>\n                <circle r=\"90\" cx=\"100\" cy=\"100\" stroke=\"rgb(${this.c})\" stroke-width=\"16px\" stroke-linecap=\"round\" stroke-dashoffset=\"${565-percent*565/100}px\" fill=\"transparent\" stroke-dasharray=\"565.48px\"></circle>\n                <text x=\"71px\" y=\"115px\" fill=\"#6bdba7\" font-size=\"52px\" font-weight=\"bold\" style=\"${style} transform:rotate(90deg) translate(0px, -196px)\">${percent}</text>\n               </svg>\n`;\n    }//end of function render\n\n    async _click(e){\n\tconsole.debug(\"Click \",e.detail,\" \",e.timeStamp);\n    }\n\n    async _longclick(e){\n\tconsole.debug(\"Long Click\");\n    }//end of function longclick\n    \n    async _dblclick(e){\n\tconsole.debug(\"Double click\");\n    }//end of function dblclick\n    \n}// end of class\n\n//window.customElements.define('progress-circle', ProgressCircle);\n","import {css} from 'lit';\n\nexport default css`\n`;\n","import { html } from \"lit\";\n\nimport style_messages from \"./messages.styles\";\n\nimport {MyElement} from \"./element\";\n\n/*\n *  RSMessages\n */\nexport class RSMessages extends  MyElement {\n\n    static styles = style_messages;\n\n    /*\n     * conf the conf in mapping file\n     * stateObj the hass element \n     */\n    constructor(hass,conf){\n \tsuper(hass,conf,null,null);\n    }//end of constructor\n\n    _render(){\n\tlet sclass=\"\";\n\tlet trash=null;\n\tlet style=this.get_style(\"elt.css\");\n\tif (\"class\" in this.conf){\n\t    sclass=this.conf.class;\n\t}\n\tlet value=this.stateObj.state;\n\tif (value==\"unavailable\" ||value==\"unknown\" || value.length==0){\n\t    value='';\n\t    style='';\n\t    trash='';\n\t}\n\telse {\n\t    if('label' in this.conf){\n\t\tvalue=this.conf.label+value+this.conf.label;\n\t    }\n\t    let conf={\n\t\t\"type\": \"click-image\",\n\t\t\"stateObj\": null,\n\t\t\"image\":'/hacsfiles/ha-reef-card/trash.svg',\n\t\t\"tap_action\":{\n\t\t    \"domain\":\"redsea\",\n\t\t    \"action\":\"clean_message\",\n\t\t    \"data\":{\n\t\t\t\"device_id\":this.device.device.elements[0].primary_config_entry,\n\t\t\t\"msg_type\":this.conf.name,\n\t\t    }\n\t\t},\n\t\t\"css\": {\n\t\t    \"display\": \"inline-block\",\n\t\t    \"position\": \"absolute\",\n\t\t    \"right\": \"0px\"\n\t\t}\n\t    };\n\t    trash=MyElement.create_element(this._hass,conf,this.device);\n\t}\n\treturn html`<div style=${style}><marquee class=\"${sclass}\">${value}</marquee>${trash}</div>`;\n    }//end of function render\n\n}// end of class\n\n//window.customElements.define('redsea-messages', RSMessages);\n","import {css} from 'lit';\n\nexport default css`\nspan.unit{\nfont-size: 0.6em;\n}\n`;\n","import {css} from 'lit';\n\nexport default css`\n\n:hover{\ncursor: pointer;\n}\n\ndiv#manual_head_volume{\n  border-radius: 30px;\n  text-align: center;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\nspan.unit{\nfont-size: 0.6em;\n}\n`;\n","import { html, TemplateResult, CSSResultGroup } from \"lit\";\nimport { property } from \"lit/decorators.js\";\nimport style_sensor from \"./sensor.styles\";\nimport { MyElement } from \"./element\";\nimport i18n from \"../../translations/myi18n\";\nimport type { HassConfig, ElementConfig, StateObject } from \"../../types/sensor.d\";\n\n/**\n * Configuration spécifique au Sensor\n */\ninterface SensorConfig extends ElementConfig {\n  prefix?: string;\n  force_integer?: boolean;\n  unit?: string | { expression: string; variables?: Record<string, any> };\n  label?: string | { expression: string; variables?: Record<string, any> };\n}\n\n/**\n * Sensor Component\n * Affiche la valeur d'un capteur avec unité et formatage\n */\nexport class Sensor extends MyElement {\n  static styles: CSSResultGroup = style_sensor;\n\n  @property({ type: Object })\n  declare conf?: SensorConfig;\n\n  /**\n   * @param hass - Configuration Home Assistant\n   * @param conf - Configuration du sensor depuis le mapping\n   * @param stateObj - État de l'entité Home Assistant\n   * @param color - Couleur RGB (format: \"r,g,b\")\n   * @param alpha - Opacité (0-1)\n   */\n  constructor(\n    hass: HassConfig,\n    conf: SensorConfig,\n    stateObj: StateObject,\n    color: string = \"255,255,255\",\n    alpha: number = 1\n  ) {\n    super();\n    this._hass = hass;\n    this.conf = conf;\n    this.stateObj = stateObj;\n    this.color = color;\n    this.alpha = alpha;\n    this.c = color;\n  }\n\n  /**\n   * Évalue une expression pour le label\n   */\n  private evaluateLabelExpression(): string | number {\n    if (!this.conf?.label) {\n      return this.stateObj?.state || '';\n    }\n\n    const labelConf = this.conf.label;\n\n    // Si c'est une chaîne simple, la substituer\n    if (typeof labelConf === 'string') {\n      return this.substituteVariables(labelConf, this.getTemplateContext());\n    }\n\n    // Si c'est un objet avec expression\n    if (typeof labelConf === 'object' && 'expression' in labelConf) {\n      const context = {\n        ...this.getTemplateContext(),\n        ...(labelConf.variables || {})\n      };\n      return this.substituteVariables(labelConf.expression, context);\n    }\n\n    return this.stateObj?.state || '';\n  }\n\n  /**\n   * Évalue une expression pour l'unité\n   */\n  private evaluateUnitExpression(): string {\n    if (!this.conf?.unit) {\n      return this.stateObj?.attributes?.unit_of_measurement || '';\n    }\n\n    const unitConf = this.conf.unit;\n\n    // Si c'est une chaîne simple\n    if (typeof unitConf === 'string') {\n      return this.substituteVariables(unitConf, this.getTemplateContext());\n    }\n\n    // Si c'est un objet avec expression\n    if (typeof unitConf === 'object' && 'expression' in unitConf) {\n      const context = {\n        ...this.getTemplateContext(),\n        ...(unitConf.variables || {})\n      };\n      return this.substituteVariables(unitConf.expression, context);\n    }\n\n    return '';\n  }\n\n  /**\n   * Obtient le contexte pour les templates\n   */\n  private getTemplateContext(): Record<string, any> {\n    return {\n      state: this.stateObj?.state,\n      attributes: this.stateObj?.attributes,\n      entity: this.stateObj,\n      device: this.device,\n      config: this.conf,\n      i18n: i18n,\n      label: this.label\n    };\n  }\n\n  /**\n   * Substitue les variables dans une expression\n   * Supporte ${variable} et {variable}\n   */\n  private substituteVariables(expression: string, context: Record<string, any>): string {\n    // Remplacer ${variable}\n    let result = expression.replace(/\\$\\{([^}]+)\\}/g, (match, key) => {\n      const value = this.getNestedProperty(context, key.trim());\n      return value !== undefined ? String(value) : match;\n    });\n\n    // Remplacer {variable}\n    result = result.replace(/\\{([^}]+)\\}/g, (match, key) => {\n      const value = this.getNestedProperty(context, key.trim());\n      return value !== undefined ? String(value) : match;\n    });\n\n    return result;\n  }\n\n  /**\n   * Récupère une propriété imbriquée\n   */\n  private getNestedProperty(obj: any, path: string): any {\n    return path.split('.').reduce((current, key) => current?.[key], obj);\n  }\n\n  /**\n   * Formate la valeur selon la configuration\n   */\n  private formatValue(value: any): string | number {\n    // Forcer en entier si demandé\n    if (this.conf?.force_integer && typeof value === 'number') {\n      return Math.floor(value);\n    }\n\n    // Si c'est une chaîne de nombre, la parser si force_integer\n    if (this.conf?.force_integer && typeof value === 'string') {\n      const parsed = parseFloat(value);\n      if (!isNaN(parsed)) {\n        return Math.floor(parsed);\n      }\n    }\n\n    return value;\n  }\n\n  /**\n   * Render du sensor\n   */\n  protected _render(style: string | null = null): TemplateResult {\n    if (!this.stateObj) {\n      return html`<div class=\"sensor error\">No state</div>`;\n    }\n\n    // Obtenir la valeur\n    let value: string | number = this.stateObj.state;\n\n    // Si un label est configuré, l'évaluer\n    if (this.conf?.label) {\n      value = this.evaluateLabelExpression();\n    }\n\n    // Formater la valeur\n    value = this.formatValue(value);\n\n    // Déterminer la classe CSS\n    const sensor_class = this.conf?.class || \"sensor\";\n\n    // Obtenir l'unité\n    let unit = '';\n    if (this.conf?.unit) {\n      unit = this.evaluateUnitExpression();\n    } else if (this.stateObj.attributes?.unit_of_measurement) {\n      unit = this.stateObj.attributes.unit_of_measurement;\n    }\n\n    // Obtenir le préfixe\n    const prefix = this.conf?.prefix || '';\n\n    return html`\n<style>\n.sensor {\nbackground-color: rgba(${this.c}, ${this.alpha});\n}\n</style>\n<div\nclass=\"${sensor_class}\"\nid=\"${this.conf?.name || ''}\"\nstyle=\"${style || ''}\"\n>\n${prefix}${value}<span class=\"unit\">${unit}</span>\n</div>\n`;\n  }\n}\n\n","import { html } from \"lit\";\nimport style_sensor_target from \"./sensor_target.styles\";\nimport i18n from \"../../translations/myi18n.js\";\n\nimport {Sensor} from \"./sensor\";\n\n/*\n *  SensorTarget\n */\nexport class SensorTarget extends  Sensor {\n\n  static styles = style_sensor_target;\n\n  static get properties(){\n    return {\n      stateObjTarget: {},\n    };\n  }\n  \n  /*\n   * conf the conf in mapping file\n   * stateObj the hass element \n   */\n  constructor(hass,conf,stateObj,stateObjTarget,color=\"255,255,255\",alpha=1){\n    super(hass,conf,stateObj,color,alpha);\n    this.stateObjTarget=stateObjTarget;\n  }//end of constructor\n\n  _render(){\n    let value=this.stateObj.state;\n    let target=this.stateObjTarget.state;\n    if(this.conf.force_integer){\n      value=Math.floor(value);\n      target=Math.floor(target);\n    }\n    let sensor_class=\"sensor\";\n    if (\"class\" in this.conf){\n      sensor_class=this.conf.class;\n    }\n    let unit=this.stateObj.attributes.unit_of_measurement;\n    if(\"unit\" in this.conf){\n      unit=eval(this.conf.unit);\n    }\n    return html`\n<div class=\"${sensor_class}\" id=\"${this.conf.name}\">${value}/${target}<span class=\"unit\">${unit}</span></div>\n`;\n  }//end of function render\n\n  async _click(e){\n    console.debug(\"Click \",e.detail,\" \",e.timeStamp);\n  }\n\n  async _longclick(e){\n    console.debug(\"Long Click\");\n  }//end of function longclick\n  \n  async _dblclick(e){\n    console.debug(\"Double click\");\n  }//end of function dblclick\n  \n}// end of class\n\n//window.customElements.define('common-sensor-target', SensorTarget);\n","import {css} from 'lit';\n\nexport default css`\n\n:hover{\ncursor: pointer;\n}\n\n.switch_on{\n  position :absolute;\n  border-radius: 30px;\n  background-color: rgba(255,10,10,0.5);\n  border: 1px solid red;\n  width: 100%;\n  height: 100%;\n}\n\n.switch_off{\n  position :absolute;\n  border-radius: 30px;\n  background-color: rgba(175,175,175,0.5);\n  width: 100%;\n  height: 100%;\n}\n\n.switch_in_on{\n  position :absolute;\n  left: 38%;\n  top: -20%;\n  aspect-ratio: 1/1;\n  border-radius: 30px;\n  background-color: rgba(250,250,250,1);\n  width: 60%;\n}\n\n.switch_in_off{\n  position :absolute;\n  left: 0%;\n  top: -25%;\n  aspect-ratio: 1/1;\n  border-radius: 30px;\n  background-color: rgba(250,250,250,1);\n//  background-color: rgba(255,20,20,1);\n  width: 60%;\n\n}\n\n.switch_button{\n  aspect-ratio: 1/1;\n  width: 100%;\n  height:100%;\n  border-radius: 50%;\n  color: white;\n  text-align:center;\n}\n`;\n","import { html } from \"lit\";\n\nimport style_switch from \"./switch.styles\";\n\nimport {MyElement} from \"./element\";\n\n/*\n *  Switch\n */\nexport class Switch extends  MyElement {\n\n    static styles = style_switch;\n\n    static get properties() {\n\treturn {\n\t    label: {},\n\t}\n    }\n\n    \n    /*\n     * conf the conf in mapping file\n     * stateObj the hass element \n     */\n    constructor(hass,conf,stateObj,color=\"255,255,255\",alpha=1,label){\n \tsuper(hass,conf,stateObj,color,alpha);\n\tthis.label=label;\n    }//end of constructor\n\n    _render(){\n\tif (this.conf.style==\"switch\"){\n\t    return html`\n            <div class=\"switch_${this.stateObj.state}\">\n              <div class=\"switch_in_${this.stateObj.state}\"></div>\n            </div>`;\n//\t    return html`<ha-entity-toggle .stateObj=\"${this.stateObj}\"></ha-entity-toggle>` ;\n\t}//if\n\telse if (this.conf.style==\"button\"){\n\t    if ('color' in this.conf){\n\t\tthis.color=this.conf.color;\n\t    }\n\t    if ('alpha' in this.conf){\n\t\tthis.alpha=this.conf.alpha;\n\t    }\n\t    return html`\n                     <style>\n                       #${this.conf.name}{\n                          background-color: rgba(${this.color},${this.alpha});\n                       }   \n                     </style>\n                     <div class=\"switch_button\"  id=\"${this.conf.name}\">${this.label}</div>\n`;\n\t}\n\telse{\n\t    console.error(\"Switch style \"+this.conf.style+\" unknown for \"+this.conf.name);\n\t}\n    }//end of function render\n\n}// end of class\n\n//window.customElements.define('common-switch', Switch);\n","import {Button} from \"./button\";\nimport {ClickImage} from \"./click_image\";\nimport {ProgressBar} from \"./progress_bar\";\nimport {ProgressCircle} from \"./progress_circle\";\nimport {RSMessages} from \"./messages\";\nimport {SensorTarget} from \"./sensor_target\";\nimport {Sensor} from \"./sensor\";\nimport {Switch} from \"./switch\";\n\n\ncustomElements.define('click-image', ClickImage);\ncustomElements.define('common-button', Button);\ncustomElements.define('common-sensor', Sensor);\ncustomElements.define('common-sensor-target', SensorTarget);\ncustomElements.define('common-switch', Switch);\ncustomElements.define('progress-bar', ProgressBar);\ncustomElements.define('progress-circle', ProgressCircle);\ncustomElements.define('redsea-messages', RSMessages);\n","export const config = {\n    \"name\": '',\n    \"model\": \"NODEVICE\",\n    \"background_img\": new URL(\"../img/NODEVICE.png\",import.meta.url)\n};\n","import {css} from \"lit\";\n\nexport default css`\n.device_bg{\n  position: relative;\n  top: 0;\n  left : 0;\n  width: 100%;\n  aspect-ratio: 2/1;\n}\n\n.device_img{\n  position: relative;\n  top: 0;\n  left : 0;\n  width: 100%;\n}\n`\n","import { html } from \"lit\";\nimport { RSDevice } from \"./device\";\nimport { config } from \"./mapping/NODEVICE\";\nimport styles from \"./nodevice.styles\";\n/*\n * NoDevice\n */\nexport class NoDevice extends RSDevice {\n    static styles = styles;\n    device = { 'elements': [{ 'model': 'NODEVICE', 'name': '' }] };\n    constructor() {\n        super();\n        this.initial_config = config;\n    }\n    _populate_entities() {\n    }\n    render() {\n        this.update_config();\n        return html `\n                     <p id=\"device_name\">${this.config.name}</p>\n                     <div class=\"device_bg\">\n                       <img class=\"device_img\" src=\"${this.config.background_img}\"/>\n                     </div>\n                     `;\n    }\n}\n//window.customElements.define('redsea-nodevice', NoDevice);\n","export const config = {\n    \"name\": null,\n    \"model\": \"RSDOSE4\",\n    \"background_img\": new URL(\"../img/RSDOSE4.png\",import.meta.url),\n    \"heads_nb\": 4,\n    \"dialogs\": {\n\t\"head_configuration\":{\n\t    \"name\":\"head_configuration\",\n\t    \"title_key\":\"i18n._('head_configuration') +' n°'+ this.elt.device.config.id\",\n\t    \"close_cross\": false,\n\t    \"content\":[\n\t\t{\n\t\t    \"view\": \"common-button\",\n\t\t    \"conf\": {\n\t\t\t\"type\": \"common-button\",\n\t\t\t\"stateObj\": null,\n\t\t\t\"icon\": \"mdi:cup-water\",\n\t\t\t\"tap_action\":{\n\t\t\t    \"domain\":\"redsea_ui\",\n\t\t\t    \"action\":\"dialog\",\n\t\t\t    \"data\":{\n\t\t\t\t\"type\":\"priming\",\n\t\t\t\t\"overload_quit\": \"head_configuration\",\n\t\t\t\t},\n\t\t\t},\n\t\t\t\"label\": \"i18n._('priming')\",\n\t\t\t\"class\": \"dialog_button\",\n\t\t\t\"css\":{\n\t\t\t    \"margin-bottom\":\"5px\",\n\t\t\t    \"text-align\":\"center\",\n\t\t\t},\n\t\t\t\"elt.css\":{\n\t\t\t    \"background-color\":\"rgba(0,0,0,0)\",\n\t\t\t}\n\t\t    }\n\t\t},\t\n\t\t{\n\t\t    \"view\": \"common-button\",\n\t\t    \"conf\": {\n\t\t\t\"type\": \"common-button\",\n\t\t\t\"stateObj\": null,\n\t\t\t\"icon\": \"mdi:cog-outline\",\n\t\t\t\"tap_action\":{\n\t\t\t    \"domain\":\"redsea_ui\",\n\t\t\t    \"action\":\"dialog\",\n\t\t\t    \"data\":{\n\t\t\t\t\"type\":\"head_calibration\",\n\t\t\t\t\"overload_quit\": \"head_configuration\",\n\t\t\t    }\n\t\t\t},\n\t\t\t\"label\": \"i18n._('calibration')\",\n\t\t\t\"class\": \"dialog_button\",\n\t\t\t\"css\":{\n\t\t\t},\n\t\t\t\"elt.css\":{\n\t\t\t    \"background-color\":\"rgba(0,0,0,0)\",\n\t\t\t}\n\t\t    },\n\t\t},\n\t\t{\n\t\t    \"view\":\"extend\",\n\t\t    \"extend\":\"dose_head_dialog\",\n\t\t}\n\t\n\t    ],\n\t},\n\t\"head_calibration\":{\n\t    \"name\":\"head_calibration\",\n\t    \"title_key\":\"i18n._('calibration') +' n°'+ this.elt.device.config.id\",\n\t    \"close_cross\": false,\n\t    \"content\":[\n\t\t{\n\t\t    \"view\": \"click-image\",\n\t\t    \"conf\":{\n\t\t\t\"image\":'/hacsfiles/ha-reef-card/head_calibration.png',\n\t\t\t\"type\": \"clic-_image\",\n\t\t\t\"stateObj\":null,\n\t\t\t\"tap_action\":[],\n\t\t\t\"elt.css\":{\n\t\t\t    \"width\":\"30%\",\n\t\t\t    \"margin-left\":\"35%\",\n\t\t\t}\n\t\t    }\n\t\t},\n\t\t{\n\t\t    \"view\": \"text\",\n\t\t    \"value\": \"i18n._('calibration_step_1')\"\n\t\t},\n\t    ],\n\t    \"validate\": {\n\t\t\"label\": \"i18n._('start_calibration')\",\n\t\t\"class\": \"dialog_button\",\n\t\t\"type\": \"common-button\",\n\t\t\"stateObj\":null,\n\t\t\"tap_action\":[\n\t\t    {\n\t\t\t\"domain\":\"button\",\n\t\t\t\"action\":\"press\",\n\t\t\t\"data\": {\"entity_id\":\"start_calibration\"},\n\t\t    },\n\t\t    {\n\t\t\t\"domain\": \"redsea_ui\",\n\t\t\t\"action\": \"dialog\",\n\t\t\t\"data\": {\"type\":\"head_calibration_step_2\"},\n\t\t    } \n\t\t]\n\t    }\n\t    \n\t},\n\t\"head_calibration_step_2\":{\n\t    \"name\":\"head_calibration_step_2\",\n\t    \"title_key\":\"i18n._('calibration') +' n°'+ this.elt.device.config.id\",\n\t    \"close_cross\": true,\n\t    \"content\":[\n\t\t{\n\t\t    \"view\": \"text\",\n\t\t    \"value\": \"i18n._('calibration_step_2')\"\n\t\t},\n\t\t{\n\t\t    \"view\": \"click-image\",\n\t\t    \"conf\":{\n\t\t\t\"image\":'/hacsfiles/ha-reef-card/read_graduated.jpg',\n\t\t\t\"type\": \"clic-_image\",\n\t\t\t\"stateObj\":null,\n\t\t\t\"tap_action\":[],\n\t\t\t\"elt.css\":{\n\t\t\t    \"width\":\"30%\",\n\t\t\t    \"margin-left\":\"35%\",\n\t\t\t}\n\t\t    }\n\t\t},\n\t\t\n\t\t{\n\t\t    \"view\": \"hui-entities-card\",\n\t\t    \"conf\":{\n\t\t\t\"type\":\"entities\",\n\t\t\t\"entities\": [\n\t\t\t    {\"entity\":\"calibration_dose_value\",\"name\":{\"type\":\"entity\"}},\n\t\t\t]\n\t\t    }\n\t\t},\n\t    ],\n\t    \"validate\": {\n\t\t\"label\": \"i18n._('set_calibration')\",\n\t\t\"class\": \"dialog_button\",\n\t\t\"type\": \"common-button\",\n\t\t\"stateObj\":null,\n\t\t\"tap_action\":[\n\t\t    {\n\t\t\t\"domain\":\"button\",\n\t\t\t\"action\":\"press\",\n\t\t\t\"data\": {\"entity_id\":\"set_calibration_value\"},\n\t\t    },\n\t\t    {\n\t\t\t\"domain\": \"redsea_ui\",\n\t\t\t\"action\": \"dialog\",\n\t\t\t\"data\": {\"type\":\"head_calibration_step_3\"},\n\t\t    } \n\t\t]\n\t    }\n\t},\n\t\"test_calibration\":{\n\t    \"name\": \"test_calibration\",\n\t    \"title_key\":\"i18n._('calibration') +' n°'+ this.elt.device.config.id\",\n\t    \"content\":[\n\t\t{\n\t\t    \"view\": \"text\",\n\t\t    \"value\": \"i18n._('test_calibration_validation')\"\n\t\t},\n\t\t{\n\t\t    \"view\": \"click-image\",\n\t\t    \"conf\":{\n\t\t\t\"image\":'/hacsfiles/ha-reef-card/read_graduated.jpg',\n\t\t\t\"type\": \"clic-_image\",\n\t\t\t\"stateObj\":null,\n\t\t\t\"tap_action\":[],\n\t\t\t\"elt.css\":{\n\t\t\t    \"width\":\"30%\",\n\t\t\t    \"margin-left\":\"35%\",\n\t\t\t}\n\t\t    }\n\t\t},\n\t\t{\n\t\t    \"view\": \"common-button\",\n\t\t    \"conf\": {\n\t\t\t\"type\": \"common-button\",\n\t\t\t\"stateObj\": null,\n\t\t\t\"tap_action\":[\n\t\t\t    {\n\t\t\t\t\"domain\":\"button\",\n\t\t\t\t\"action\":\"press\",\n\t\t\t\t\"data\": {\"entity_id\":\"end_calibration\"}\n\t\t\t    },\n\t\t\t    {\n\t\t\t\t\"domain\":\"redsea_ui\",\n\t\t\t\t\"action\":\"dialog\",\n\t\t\t\t\"data\":{\"type\": \"head_calibration\"},\n\t\t\t    },\n\t\t\t],\n\t\t\t\"label\": \"i18n._('no')\",\n\t\t\t\"class\": \"dialog_button\",\n\t\t\t\"css\":{\n\t\t\t    \"margin-bottom\":\"5px\",\n\t\t\t    \"text-align\":\"center\",\n\t\t\t},\n\t\t\t\"elt.css\":{\n\t\t\t    \"background-color\":\"rgba(0,0,0,0)\",\n\t\t\t}\n\t\t    }\n\t\t},\t\n\t    ],\n\t    \"validate\": {\n\t\t\"label\": \"i18n._('yes')\",\n\t\t\"class\": \"dialog_button\",\n\t\t\"type\": \"common-button\",\n\t\t\"stateObj\":null,\n\t\t\"tap_action\":[\n\t\t    {\n\t\t\t\"domain\":\"button\",\n\t\t\t\"action\":\"press\",\n\t\t\t\"data\": {\"entity_id\":\"end_calibration\"},\n\t\t    },\n\t\t    {\n\t\t\t\"domain\": \"redsea_ui\",\n\t\t\t\"action\": \"exit-dialog\",\n\t\t    } \n\t\t]\n\t    }\n\t    \n\t},\n\t\"head_calibration_step_3\":{\n\t    \"name\":\"head_calibration_step_3\",\n\t    \"title_key\":\"i18n._('calibration') +' n°'+ this.elt.device.config.id\",\n\t    \"content\":[\n\t\t{\n\t\t    \"view\": \"text\",\n\t\t    \"value\": \"i18n._('test_calibration_description')\"\n\t\t},\n\t\t{\n\t\t    \"view\": \"click-image\",\n\t\t    \"conf\":{\n\t\t\t\"image\":'/hacsfiles/ha-reef-card/head_calibration.png',\n\t\t\t\"type\": \"clic-_image\",\n\t\t\t\"stateObj\":null,\n\t\t\t\"tap_action\":[],\n\t\t\t\"elt.css\":{\n\t\t\t    \"width\":\"20%\",\n\t\t\t    \"margin-left\":\"35%\",\n\t\t\t}\n\t\t    }\n\t\t},\n\t\t{\n\t\t    \"view\": \"common-button\",\n\t\t    \"conf\": {\n\t\t\t\"type\": \"common-button\",\n\t\t\t\"stateObj\": null,\n\t\t\t\"icon\": \"mdi:test-tube\",\n\t\t\t\"tap_action\":[\n\t\t\t    {\n\t\t\t    \"domain\":\"button\",\n\t\t\t    \"action\":\"press\",\n\t\t\t    \"data\":{\n\t\t\t\t\"entity_id\":\"test_calibration\",\n\t\t\t\t},\n\t\t\t    },\n\t\t\t    {\n\t\t\t    \"domain\":\"redsea_ui\",\n\t\t\t    \"action\":\"dialog\",\n\t\t\t    \"data\":{\n\t\t\t\t\"type\":\"test_calibration\",\n\t\t\t\t},\n\t\t\t    },\n\t\t\t],\n\t\t\t\"label\": \"i18n._('test_calibration')\",\n\t\t\t\"class\": \"dialog_button\",\n\t\t\t\"css\":{\n\t\t\t    \"margin-bottom\":\"5px\",\n\t\t\t    \"text-align\":\"center\",\n\t\t\t},\n\t\t\t\"elt.css\":{\n\t\t\t    \"background-color\":\"rgba(0,0,0,0)\",\n\t\t\t}\n\t\t    }\n\t\t},\t\n\t    ],\n\t    \"validate\": {\n\t\t\"label\": \"i18n._('finish')\",\n\t\t\"class\": \"dialog_button\",\n\t\t\"type\": \"common-button\",\n\t\t\"stateObj\":null,\n\t\t\"tap_action\":[\n\t\t    {\n\t\t\t\"domain\":\"button\",\n\t\t\t\"action\":\"press\",\n\t\t\t\"data\": {\"entity_id\":\"end_calibration\"},\n\t\t    },\n\t\t    {\n\t\t\t\"domain\": \"redsea_ui\",\n\t\t\t\"action\": \"exit-dialog\",\n\t\t    } \n\t\t]\n\t    }\n\t    \n\t},\n \t\"priming\":{\n\t    \"name\":\"priming\",\n\t    \"title_key\":\"i18n._('priming') +' n°'+ this.elt.device.config.id\",\n\t    \"close_cross\": true,\n\t    \"content\":[\n\t\t{\n\t\t    \"view\": \"click-image\",\n\t\t    \"conf\":{\n\t\t\t\"image\":'/hacsfiles/ha-reef-card/priming.png',\n\t\t\t\"type\": \"clic-_image\",\n\t\t\t\"stateObj\":null,\n\t\t\t\"tap_action\":[],\n\t\t\t\"elt.css\":{\n\t\t\t    \"width\":\"30%\",\n\t\t\t    \"margin-left\":\"35%\",\n\t\t\t}\n\t\t    }\n\t\t},\n\t\t{\n\t\t    \"view\": \"hui-entities-card\",\n\t\t    \"conf\":{\n\t\t\t\"type\":\"entities\",\n\t\t\t\"entities\": [\n\t\t\t    {\"entity\":\"start_priming\",\"name\":{\"type\":\"entity\"}},\n\t\t\t    {\"entity\":\"stop_priming\",\"name\":{\"type\":\"entity\"}},\n\t\t\t]\n\t\t    }\n\t\t},\n\t    ],\n\t    \"validate\": {\n\t\t\"label\": \"i18n._('next')\",\n\t\t\"class\": \"dialog_button\",\n\t\t\"type\": \"common-button\",\n\t\t\"stateObj\":null,\n\t\t\"tap_action\":[\n\t\t    {\n\t\t\t\"domain\": \"redsea_ui\",\n\t\t\t\"action\": \"dialog\",\n\t\t\t\"data\": {\"type\":\"head_calibration\"},\n\t\t    } \n\t\t]\n\t    }\n\t},\n \t\"edit_container\":{\n\t    \"name\":\"edit_container\",\n\t    \"title_key\":\"i18n._('dialog_edit_container') +' n°'+ this.elt.device.config.id\",\n\t    \"close_cross\": false,\n\t    \"content\":[\n\t\t{\n\t\t    \"view\":\"extend\",\n\t\t    \"extend\":\"dose_head_dialog\",\n\t\t},\n\t\t{\n\t\t    \"view\": \"hui-entities-card\",\n\t\t    \"conf\":{\n\t\t\t\"type\":\"entities\",\n\t\t\t\"entities\": [\n\t\t\t    {\"entity\":\"slm\",\"name\":{\"type\":\"entity\"}},\n\t\t\t    {\"entity\":\"save_initial_container_volume\",\"name\":{\"type\":\"entity\"}},\n\t\t\t    {\"entity\":\"container_volume\",\"name\":{\"type\":\"entity\"}},\n\t\t\t]\n\t\t    }\n\t\t},\n\t\t{\n\t\t    \"view\": \"click-image\",\n\t\t    \"conf\":{\n\t\t\t\"image\":'/hacsfiles/ha-reef-card/trash.svg',\n\t\t\t\"type\": \"clic-_image\",\n\t\t\t\"stateObj\":null,\n\t\t\t\"tap_action\":[\n\t\t\t    {\n\t\t\t\t\"domain\": \"redsea_ui\",\n\t\t\t\t\"action\": \"dialog\",\n\t\t\t\t\"data\": {\"type\":\"delete_container\"},\n\t\t\t    } \n\t\t\t],\n\t\t\t\"elt.css\":{\n\t\t\t    \"position\":\"absolute\",\n\t\t\t    \"top\":\"7%\",\n\t\t\t    \"right\": \"5%\",\n\t\t\t}\n\t\t    }\n\t\t},\n\t    ],\n\t},\n\t\"delete_container\":{\n\t    \"name\": \"delete_container\",\n\t    \"title_key\":\"i18n._('dialog_delete_supplement_title') +' n°'+ this.elt.device.config.id\",\n\t    \"close_cross\": false,\n\t    \"content\":[],\n\t    \"validate\": {\n\t\t\"label\": \"i18n._('delete')\",\n\t\t\"class\": \"dialog_button\",\n\t\t\"type\": \"common-button\",\n\t\t\"stateObj\":null,\n\t\t\"tap_action\":[\n\t\t    {\n\t\t\t\"domain\": \"button\",\n\t\t\t\"action\": \"press\",\n\t\t\t\"data\": {\"entity_id\":\"delete_supplement\"},\n\t\t    },\n\t\t    {\n\t\t\t\"domain\": \"redsea_ui\",\n\t\t\t\"action\": \"message_box\",\n\t\t\t\"data\":\"i18n._('delete_wait')\",\n\t\t    },\n\t\t    {\n\t\t\t\"domain\": \"redsea_ui\",\n\t\t\t\"action\": \"exit-dialog\",\n\t\t    },\n\t\t]\n\t    },\n\t    \"cancel\":true,\n\t},\n\t\"add_supplement\":{\n\t    \"name\": \"add_supplement\",\n\t    \"title_key\":\"i18n._('dialog_add_supplement_title') +' n°'+ this.elt.device.config.id\",\n\t    \"close_cross\": true,\n\t    \"content\":[\n\t\t{\n\t\t    \"view\": \"hui-entities-card\",\n\t\t    \"conf\":{\n\t\t\t\"type\":\"entities\",\n\t\t\t\"entities\": [\n\t\t\t    {\"entity\":\"supplements\",\"name\":{\"type\":\"entity\"}},\n\t\t\t]\n\t\t    },\n\t\t},\n\t\t{\n\t\t    \"view\":\"extend\",\n\t\t    \"extend\":\"dose_head_dialog\",\n\t\t    \"re_render\": true,\n\t\t},\n\t\t\n\t    ],\n\t    \"validate\": {\n\t\t\"label\": \"i18n._('next')\",\n\t\t\"class\": \"dialog_button\",\n\t\t\"type\": \"common-button\",\n\t\t\"stateObj\":null,\n\t\t\"tap_action\":[\n\t\t    {\n\t\t\t\"domain\": \"button\",\n\t\t\t\"action\": \"press\",\n\t\t\t\"data\": {\"entity_id\":\"set_supplement\"},\n\t\t    },\n\t\t    {\n\t\t\t\"domain\": \"redsea_ui\",\n\t\t\t\"action\": \"dialog\",\n\t\t\t\"data\": {\"type\":\"set_container_volume\"},\n\t\t    } \n\t\t]\n\t    }\n\t},\n\t\"set_container_volume\":{\n\t    \"name\":\"set_container_volume\",\n\t    \"close_cross\": true,\n\t    \"title_key\": \"i18n._('set_container_volume')\",\n\t    \"content\":[\n\t\t{\n\t\t    \"view\":\"extend\",\n\t\t    \"extend\":\"dose_head_dialog\",\n\t\t},\n\t\t{\n\t\t    \"view\": \"hui-entities-card\",\n\t\t    \"conf\":{\n\t\t\t\"type\":\"entities\",\n\t\t\t\"entities\": [\n\t\t\t    {\"entity\":\"slm\",\"name\":{\"type\":\"entity\"}},\n\t\t\t    {\"entity\":\"save_initial_container_volume\",\"name\":{\"type\":\"entity\"}},\n\t\t\t    {\"entity\":\"container_volume\",\"name\":{\"type\":\"entity\"}},\n\t\t\t]\n\t\t    }\n\t\t}\n\t    ],\n\t    \"validate\": {\n\t\t\"label\": \"i18n._('next')\",\n\t\t\"class\": \"dialog_button\",\n\t\t\"type\": \"common-button\",\n\t\t\"stateObj\":null,\n\t\t\"tap_action\":[\n\t\t    {\n\t\t\t\"domain\": \"redsea_ui\",\n\t\t\t\"action\": \"dialog\",\n\t\t\t\"data\": {\"type\":\"priming\"},\n\t\t    } \n\t\t]\n\t    }\n\t    \n\t},\n \t\"set_manual_head_volume\":{\n\t    \"name\": \"set_manual_head_volume\",\n\t    \"title_key\": \"i18n._('set_manual_head_volume')\",\n\t    \"close_cross\": true,\n\t    \"content\":[\n\t\t{\n\t\t    \"view\":\"extend\",\n\t\t    \"extend\":\"dose_head_dialog\",\n\t\t},\n\t\t{\"view\":\"hui-entities-card\",\n\t\t \"conf\":{\n\t\t     \"type\":\"entities\",\n\t\t     \"entities\":[\n\t\t\t {\"entity\":\"supplement\",\"name\":{\"type\":\"entity\"}},\n\t\t\t {\"entity\":\"manual_head_volume\",\"name\":{\"type\":\"entity\"}},\n\t\t\t {\"entity\":\"manual_head\",\"name\":{\"type\":\"entity\"}},\n\t\t\t //\"manual_head\", can also be only a string but display name is full\n\t\t     ]}\n\t\t},\n\t    ],\n\t},\n\t\"auto_dose\":{\n\t    \"title_key\": \"set_auto_dose\",\n\t    \"name\": \"auto_dose\",\n\t    \"close_cross\": true,\n\t    \"content\":[\n\t\t{\"view\":\"hui-entities-card\",\n\t\t \"conf\":{\n\t\t     \"type\":\"entities\",\n\t\t     \"entities\":[\n\t\t\t {\"entity\":\"daily_dose\",\"name\":{\"type\":\"entity\"}},\n\t\t     ]}\n\t\t},\n\t    ],\n\t    \"validate\": {\n\t\t\"tap_action\": {\n\t\t    \"domain\": \"redsea_ui\",\n\t\t    \"action\": \"exit-dialog\",\n\t\t}\n\t    }\n\t}\n    },\n    \"elements\": {\n\t\"last_message\":{\n\t    \"name\": \"last_message\",\n\t    \"type\":\"redsea-messages\",\n\t    \"css\":{\n\t\t\"flex\": \"0 0 auto\",\n\t\t\"position\": \"absolute\",\n\t\t\"width\": \"100%\",\n\t\t\"height\": \"15px\",\n\t\t\"top\": \"33%\",\n\t\t\"left\": \"0px\",\n\t    },\n\t    \"elt.css\":{\n\t\t\"background-color\": \"rgba(220,220,220,0.7)\",\n\t    }\n\t},\n\t\"last_alert_message\":{\n\t    \"name\": \"last_alert_message\",\n\t    \"type\":\"redsea-messages\",\n\t    \"label\":\"⚠\",\n\t    /*\t    \"tap_action\": {\n\t\t\"domain\": \"switch\",\n\t\t\"action\":\"toggle\",\n\t\t\"data\": \"default\",\n\t\t//\"data\": {\"entity_id\":\"switch.simu_rsdose4_4647319427_head_4_schedule_enabled\"},\n\t    },*/\n\t    \"css\":{\n\t\t\"color\": \"red\",\n\t\t\"flex\": \"0 0 auto\",\n\t\t\"position\": \"absolute\",\n\t\t\"width\": \"100%\",\n\t\t\"height\": \"20px\",\n\t\t\"top\": \"37%\",\n\t\t\"left\": \"0px\",\n\t    },\n\t    \"elt.css\":{\n\t\t\"background-color\": \"rgba(240,200,200,0.7)\",\n\t    }\n\t},\n/*\t\"device_state2\":{\n\t    \"name\": \"device_state\",\n\t    \"master\": true, // If true, the change of state of this element force a device redraw\n\t    \"type\":\"ha-entity-toggle\",\n\t    \"stateObj\":\"device_state\",\n\t    \"label\":false,\n\t    \"class\":\"on_off\",\n\t    \"style\": \"switch\",\n\t    \"css\":{\n\t\t\"flex\": \"0 0 auto\",\n\t\t\"position\": \"absolute\",\n\t\t\"width\": \"5.5%\",\n\t\t\"height\": \"2%\",\n\t\t\"border-radius\": \"50%\",\n\t\t\"top\": \"28%\",\n\t\t\"left\": \"2%\",\n\t    }\n\t},*/\n\t\"device_state\":{\n\t    \"name\": \"device_state\",\n\t    \"master\": true, // If true, the change of state of this element force a device redraw\n\t    \"type\":\"common-switch\",\n\t    \"label\":false,\n\t    \"class\":\"on_off\",\n\t    \"style\": \"switch\",\n\t    \"tap_action\": {\n\t\t\"domain\": \"switch\",\n\t\t\"action\":\"toggle\",\n\t\t\"data\": \"default\",\n\t\t//\"data\": {\"entity_id\":\"switch.simu_rsdose4_4647319427_head_4_schedule_enabled\"},\n\t    },\n\t    \"css\":{\n\t\t\"flex\": \"0 0 auto\",\n\t\t\"position\": \"absolute\",\n\t\t\"width\": \"5.5%\",\n\t\t\"height\": \"2%\",\n\t\t\"border-radius\": \"50%\",\n\t\t\"top\": \"28%\",\n\t\t\"left\": \"2%\",\n\t    }\n\t},\n\t\"maintenance\":{\n\t    \"name\": \"maintenance\",\n\t    \"type\":\"common-switch\",\n\t    \"master\": true,\n\t    \"label\":false,\n\t    \"class\":\"on_off\",\n\t    \"style\": \"switch\",\n\t    \"tap_action\": {\n\t\t\"enabled\": true,\n\t\t\"domain\": \"switch\",\n\t\t\"action\":\"toggle\",\n\t\t\"data\": \"default\",\n\t    },\n\t    \"css\":{\n\t\t\"flex\": \"0 0 auto\",\n\t\t\"position\": \"absolute\",\n\t\t\"width\": \"5.5%\",\n\t\t\"height\": \"2%\",\n\t\t\"border-radius\": \"50%\",\n\t\t\"top\": \"22%\",\n\t\t\"left\": \"2%\",\n\t    }\n\t},\n    },\n    \"dosing_queue\":{\n\t\"type\": \"dosing-queue\",\n\t\"name\": \"dosing_queue\",\n\t\"css\":{\n\t    \"text-align\": \"center\",\n            \"border\": \"1px solid black\",\n\t    \"border-radius\": \"15px\",\n            \"background-color\": \"rgb(200,200,200)\",\n            \"position\": \"absolute\",\n            \"width\": \"12%\",\n            \"height\": \"45%\",\n            \"left\": \"88%\",\n            \"top\": \"45%\",\n            \"font-size\": \"x-small\",\n            \"overflow-x\": \"hidden\",\n            \"overflow-y\": \"auto\",\n\t    \"scrollbar-color\": \"gray rgb(255,255,255,0)\",\n\t},\n    },\n    \"heads\": {\n\t\"common\" :{\n\t    \"alpha\": \"0.6\",\n\t    \"shortcuts=\":\"\",\n\t    \"css\":{\n\t\t\"top\":\"0%\",\n\t\t\"left\": \"50%\",\n\t\t\"position\":\"absolute\",\n\t\t\"flex\":\"0 0 auto\",\n\t\t\"width\": \"31%\",\n\t\t\"height\": \"100%\",\n\t    },\n\t    \"container\":{\n\t\t\"css\":{\n\t\t    \"position\": \"absolute\",\n\t\t    \"top\": \"41%\",\n\t\t    \"width\": \"68%\",\n\t\t    \"aspect-ratio\": \"1/3\",\n\t\t},\n\t    },\n\t    \"warning\" :{\n\t\t\"css\":{\n\t\t    \"width\": \"58%\",\n\t\t    \"position\": \"absolute\",\n\t\t    \"left\": \"28%\",\n\t\t    \"top\": \"30%\",\n\t\t    \"animation\": \"blink 1s\",\n\t\t    \"animation-iteration-count\": \"infinite\",\n\t\t},\n\t    },\n\t    \"warning_label\" :{\n\t\t\"css\":{\n\t\t    \"width\": \"58%\",\n\t\t    \"position\": \"absolute\",\n\t\t    \"left\": \"28%\",\n\t\t    \"top\": \"47%\",\n\t\t    \"animation\": \"blink 1s\",\n\t\t    \"animation-iteration-count\": \"infinite\",\n\t\t    \"background-color\": \"#df1800\",\n\t\t    \"text-align\": \"center\",\n\t\t    \"border-radius\": \"20px\",\n\t\t    \"color\": \"#ffff00\",\n\t\t    \"font-weight\": \"bold\",\n\t\t},\n\t    },\n\t    \"pump_state_head\":{\n\t\t\"css\":{\n\t\t    \"position\": \"absolute\",\n\t\t    \"aspect-ratio\": \"1/1\",\n\t\t    \"width\": \"55%\",\n\t\t    \"border-radius\": \"50%\",\n\t\t    \"top\": \"9.5%\",\n\t\t    \"left\": \"32%\",\n\t\t},\n\t    },\n\t    \"pump_state_labels\":{\n\t\t\"css\":{\n\t\t    \"aspect-ratio\": \"1/1\",\n\t\t    \"width\": \"100%\",\n\t\t    \"display\": \"grid\",\n\t\t    \"grid-template-columns\": \"1\",\n\t\t    \"grid-template-rows\": \"3\",\n\t\t    \"grid-gap\": \"0px\",\n\t\t}\n\t    },\n\t    \"pipe\": {\n\t\t\"css\": {\n\t\t    \"flex\":\" 0 0 auto\",\n                    \"position\":\" absolute\",\n                    \"width\":\" 70%\",\n                    \"top\":\" 32%\",\n                    \"left\":\" 30%\",\n\t\t},\n\t    },\n\t    \"calibration\": {\n\t\t\"css\":{\n\t\t    \"flex\": \"0 0 auto\",\n                    \"position\": \"absolute\",\n                    \"width\": \"50%\",\n                    \"top\": \"10%\",\n                    \"left\": \"35%\",\n\t\t    \"filter\": \"none\",\n\t\t    \"animation\": \"blink 1s\",\n\t\t    \"animation-iteration-count\": \"infinite\",\n\t\t}\n\t    },\n\t    \"elements\": {\n\t\t\"supplement\":{\n\t\t    \"name\": \"supplement\",\n\t\t    \"label\": \"this.stateObj.attributes.supplement.brand_name+': ' +this.stateObj.state\",\n\t\t    \"type\": \"common-sensor\",\n\t\t    \"put_in\":\"supplement_info\",\n\t\t    \"elt.css\":{\n\t\t\t\"position\": \"absolute\",\n\t\t\t\"width\": \"60%\",\n\t\t\t\"top\": \"30%\",\n\t\t\t\"left\": \"30%\",\n\t\t\t\"color\": \"white\",\n\t\t\t\"background-color\": \"rgba(0,0,0,0)\",\n\t\t    }\n\t\t},\n\t\t\"supplement_bottle\":{\n\t\t    \"name\": \"supplement_bottle\",\n\t\t    \"label\": null,\n\t\t    \"type\": \"common-button\",\n\t\t    \"put_in\":\"supplement\",\n\t\t    \"stateObj\":null,\n\t\t    \"elt.css\":{\n\t\t\t\"position\": \"absolute\",\n\t\t\t\"background-color\": \"rgba(0,80,120,0)\",\n\t\t    },\n\t\t    \"tap_action\":{\n\t\t\t\"domain\": \"redsea_ui\",\n\t\t\t\"action\" : \"dialog\",\n\t\t\t\"data\": {\"type\":\"edit_container\"}\n\t\t    }\n\t\t},\n\t\t\"manual_head_volume\":{\n\t\t    \"name\": \"manual_head_volume\",\n\t\t    \"force_integer\": true,\n\t\t    \"type\": \"common-sensor\",\n\t\t    \"css\":{\n\t\t\t\"position\": \"absolute\",\n\t\t\t\"width\": \"60%\",\n\t\t\t\"top\": \"0%\",\n\t\t\t\"left\": \"20%\",\n\t\t    },\n\t\t    \"tap_action\": {\n\t\t\t\"domain\": \"redsea_ui\",\n\t\t\t\"action\" : \"dialog\",\n\t\t\t\"data\": {\"type\":\"set_manual_head_volume\"}\n\t\t    }\n\t\t},\n\t\t\"manual_dosed_today\":{\n\t\t    \"name\": \"manual_dosed_today\",\n\t\t    \"type\": \"common-sensor\",\n\t\t    \"force_integer\": true,\n\t\t    \"put_in\": \"pump_state_labels\",\n\t\t    \"class\": \"scheduler_label_top\",\n\t\t    \"disabled_if\": \"value<1\",\n\t\t    \"prefix\": \"+\",\n\t\t    \"css\":{\n\t\t\t\"text-align\": \"center\",\n\t\t\t\"grid-column\": \"1\",\n\t\t\t\"grid-row\": \"1\",\n\t\t\t\"color\": \"rgb(250,230,130)\",\n\t\t\t\"font-weight\": \"bold\",\n\t\t\t\"margin-top\":\"10%\",\n\t\t    },\n\t\t},\n\t\t\"auto_dosed_today\":{\n\t\t    \"name\": \"auto_dosed_today\",\n\t\t    \"target\": \"daily_dose\",\n\t\t    \"force_integer\": true,\n\t\t    \"put_in\": \"pump_state_labels\",\n\t\t    \"class\": \"scheduler_label_middle\",\n\t\t    \"type\":\"common-sensor-target\",\n\t\t    \"css\":{\n\t\t\t\"text-align\":\"center\",\n\t\t\t\"color\": \"white\",\n\t\t\t\"grid-column\": \"1\",\n\t\t\t\"grid-row\": \"2\",\n\t\t\t\"font-weight\": \"bold\",\n\t\t\t\"font-size\":\"1.2em\",\n\t\t\t\"margin-top\":\"-20%\",\n\t\t    },\n\t\t},\n\t\t\"doses_today\":{\n\t\t    \"name\": \"doses_today\",\n\t\t    \"target\": \"daily_doses\",\n\t\t    \"force_integer\": true,\n\t\t    \"put_in\": \"pump_state_labels\",\n\t\t    \"class\": \"scheduler_label_bottom\",\n\t\t    \"type\":\"common-sensor-target\",\n\t\t    \"unit\": \"i18n._('doses')\",\n\t\t    \"css\": {\n\t\t\t\"text-align\": \"center\",\n\t\t\t\"color\": \"rgb(130,230,250)\",\n\t\t\t\"grid-column\": \"1\",\n\t\t\t\"grid-row\": \"3\",\n\t\t\t\"font-weight\": \"bold\",\n\t\t\t\"font-size\":\"0.8em\",\n\t\t\t\"margin-top\":\"-20%\",\n\t\t    },\n\t\t},\n\t\t\"container_volume\":{\n\t\t    \"name\": \"container_volume\",\n\t\t    \"target\": \"save_initial_container_volume\",\n\t\t    \"type\": \"progress-bar\",\n\t\t    \"class\":\"pg-container\",\n\t\t    \"label\": \"' '+this.get_entity('remaining_days').state+ ' '+i18n._('days_left') \",\n\t\t    \"disabled_if\": \"this.get_entity('slm').state=='off' ||this.get_entity('daily_dose').state==0\",\n\t\t    \"css\":{\n\t\t\t\"position\":\"absolute\",\n\t\t\t\"transform\":\"rotate(-90deg)\",\n\t\t\t\"top\":\"69%\",\n\t\t\t\"left\":\"-60%\",\n\t\t\t\"width\":\"140%\",\n\t\t    },\n\t\t},\n\t\t\"auto_dosed_today_circle\":{\n\t\t    \"name\": \"auto_dosed_today\",\n\t\t    \"target\": \"daily_dose\",\n\t\t    \"force_integer\": true,\n\t\t    \"type\":\"progress-circle\",\n\t\t    \"class\":\"today_dosing\",\n\t\t    \"put_in\": \"pump_state_labels\",\n\t\t    \"no_value\":true,\n\t\t    \"css\":{\n\t\t\t\"position\":\"absolute\",\n\t\t\t\"top\":\"-23%\",\n\t\t\t\"left\":\"-23%\",\n\t\t\t\"aspect-ratio\":\"1/1\",\n\t\t\t\n\t\t\t\"width\":\"140%\",\n\t\t    },\n\t\t},\n\t\t\"schedule_enabled\":{\n\t\t    \"alpha\": 0,\n\t\t    \"name\": \"schedule_enabled\",\n\t\t    \"master\": true,\n\t\t    \"type\": \"common-switch\",\n\t\t    \"class\": \"pump_state_head\",\n\t\t    \"style\": \"button\",\n\t\t    \"css\":{\n\t\t\t\"position\":\"absolute\",\n\t\t\t\"aspect-ratio\":\"1/1\",\n\t\t\t\"width\":\"45%\",\n\t\t\t\"border-radius\":\"50%\",\n\t\t\t\"top\":\"10%\",\n\t\t\t\"left\":\"32.5%\",\n\t\t    },\n\t\t    \"hold_action\": {\n\t\t\t\"enabled\": true,\n\t\t\t\"domain\": \"switch\",\n\t\t\t\"action\":\"toggle\",\n\t\t\t\"data\": \"default\",\n\t\t    },\n\t\t    \"tap_action\": {\n\t\t\t\"domain\": \"redsea_ui\",\n\t\t\t\"action\":\"dialog\",\n\t\t\t\"data\": {\"type\":\"head_configuration\"}\n\t\t    }\n\t\t},\n\t\t\"manual_head\":{\n\t\t    \"name\": \"manual_head\",\n\t\t    \"type\": \"common-button\",\n\t\t    \"class\": \"manual_dose_head\",\n\t\t    \"css\":{\n\t\t\t\"position\":\" absolute\",\n                        \"aspect-ratio\":\" 1/1\",\n                        \"width\":\" 15%\",\n                        \"border-radius\":\" 50%\",\n                        \"top\":\" 5%\",\n                        \"left\":\" 33%;\",\n\t\t    },\n\t\t    \"tap_action\": {\n\t\t\t\"domain\": \"button\",\n\t\t\t\"action\":\"press\",\n\t\t\t\"data\": \"default\",\n\t\t    }\n\t\t}\n\t    }\n\t},\n\t\"head_1\": {\n\t    \"id\" : 1,\n\t    \"color\": \"140,67,148\",\n\t    \"css\":{\n\t\t\"left\":\"1%\",\n\t    },\n\t    \"calibration\":{\n\t\t\"css\":{\n\t\t    \"left\":\"33%\",\n\t\t},\n\t    }\n\t},\n\t\"head_2\": {\n\t    \"id\" : 2,\n\t    \"color\": \"0,129,197\",\n\t    \"css\":{\n\t\t\"left\":\"23%\",\n\t    },\n\t},\n\t\"head_3\": {\n\t    \"id\" : 3,\n\t    \"color\": \"0,130,100\",\n\t    \"css\":{\n\t\t\"left\":\"44%\",\n\t    },\n\t    \"pump_state_head\":{\n\t\t\"css\":{\n\t\t    \"left\": \"37%\",\n\t\t},\n\t    },\n\t    \"calibration\":{\n\t\t\"css\":{\n\t\t    \"left\":\"37%\",\n\t\t},\n\t    }\n\n\t},\n\t\"head_4\": {\n\t    \"id\" : 4,\n\t    \"color\": \"100,160,75\",\n\t    \"css\":{\n\t\t\"left\":\"65%\",\n\t    },\n\t    \"pump_state_head\":{\n\t\t\"css\":{\n\t\t    \"left\": \"41%\",\n\t\t},\n\t    },\n\t    \"calibration\":{\n\t\t\"css\":{\n\t\t    \"left\":\"41%\",\n\t\t},\n\t    }\n\t    \n\t}\n    }\n};\n","import {css} from 'lit';\n\nexport default css`\n`;\n","import { html } from \"lit\";\nimport { RSDevice } from \"./device\";\nimport { config } from \"./mapping/RSDOSE4\";\nimport style_rsdose from \"./rsdose.styles\";\nimport style_common from \"./common.styles\";\nimport i18n from \"../translations/myi18n.js\";\nimport { rgbToHex, hexToRgb } from \"../common\";\nimport { merge } from \"../merge\";\nimport { MyElement } from \"./base/element\";\n/*\n * RSDose\n */\n// TODO: RSDOSE Implement advanced schedule edition\n// Issue URL: https://github.com/Elwinmage/ha-reef-card/issues/14\n//   labels: enhancement, rsdose\nexport class RSDose extends RSDevice {\n    // TODO: RSDOSE Implement basic services\n    // Issue URL: https://github.com/Elwinmage/ha-reef-card/issues/13\n    //   labels: enhancement, rsdose\n    static styles = [style_rsdose, style_common];\n    _heads = [];\n    static get properties() {\n        return {\n            supplement_color: {},\n        };\n    }\n    constructor() {\n        super();\n        this.supplement_color = {};\n        this.initial_config = config;\n        this.dosing_queue = null;\n    } // end of constructor\n    set hass(obj) {\n        this._setting_hass(obj);\n        for (let head of this._heads) {\n            if ('dose_head' in head) {\n                head.dose_head.hass = obj;\n            }\n        }\n        if (this.dosing_queue) {\n            this.dosing_queue.hass = obj;\n        }\n    }\n    _populate_entities() {\n    }\n    _populate_entities_with_heads() {\n        this.update_config();\n        for (let i = 0; i <= this.config.heads_nb; i++) {\n            this._heads.push({ 'entities': {} });\n        }\n        for (var entity_id in this._hass.entities) {\n            var entity = this._hass.entities[entity_id];\n            for (var d of this.device.elements) {\n                var fname = d['identifiers'][0][1].split(\"_\");\n                var head_id = 0;\n                if (fname[fname.length - 2] == \"head\") {\n                    head_id = parseInt(fname[fname.length - 1]);\n                }\n                if (entity.device_id == d.id) {\n                    if (head_id == 0) {\n                        this.entities[entity.translation_key] = entity;\n                    }\n                    else {\n                        this._heads[head_id].entities[entity.translation_key] = entity;\n                    }\n                }\n            }\n        }\n    }\n    _get_val(head, entity_id) {\n        let entity = this._hass.states[this.entities[head][entity_id].entity_id];\n        return entity.state;\n    }\n    _render_head(head_id) {\n        let dose_head = null;\n        let new_conf = merge(this.config.heads.common, this.config.heads[\"head_\" + head_id]);\n        let schedule_state = (this._hass.states[this._heads[head_id].entities['schedule_enabled'].entity_id].state == 'on');\n        if (!this.is_on()) {\n            schedule_state = false;\n        }\n        let short_name = this._hass.states[this._heads[head_id].entities['supplement'].entity_id].attributes.supplement.short_name;\n        this.supplement_color[short_name] = this.config.heads['head_' + head_id].color;\n        if (\"dose_head\" in this._heads[head_id]) {\n            dose_head = this._heads[head_id][\"dose_head\"];\n            dose_head.state_on = schedule_state;\n            dose_head.device_state = this.is_on();\n            dose_head.hass = this._hass;\n            dose_head.bundle = this.bundle;\n        }\n        else {\n            dose_head = RSDevice.create_device('dose-head', this._hass, new_conf, this);\n            dose_head.entities = this._heads[head_id].entities;\n            dose_head.stock_alert = this.get_entity('stock_alert_days').state;\n            dose_head.state_on = schedule_state;\n            dose_head.device_state = this.is_on();\n            this._heads[head_id]['dose_head'] = dose_head;\n            dose_head.config = new_conf;\n            dose_head.bundle = this.bundle;\n        }\n        return html `\n                    <div class=\"head\" id=\"head_${head_id}\" style=\"${this.get_style(new_conf)}\">\n                       ${dose_head}\n                    </div>\n                    `;\n    }\n    // updated(changes){\n    // \tconsole.log(\"RE-RENDERED\");\n    // }\n    _render() {\n        this.to_render = false;\n        console.debug(\"Render rsdose\");\n        this.update_config();\n        let style = html ``;\n        this._populate_entities_with_heads();\n        this.bundle = this.get_entity('bundled_heads').state == \"on\";\n        let disabled = this._render_disabled();\n        if (disabled != null) {\n            return disabled;\n        }\n        if (!this.is_on()) {\n            style = html `<style>img{filter: grayscale(90%);}</style>`;\n        }\n        if (this.dosing_queue == null) {\n            this.dosing_queue = MyElement.create_element(this._hass, this.config.dosing_queue, this);\n            this.dosing_queue.color_list = this.supplement_color;\n        }\n        ////\n        /*let cc=customElements.get(\"ha-entity-toggle\");\n          let ccc = new cc();\n          ccc.stateObj=this.get_entity(\"device_state\");*/\n        ////\n        return html `\n             \t<div class=\"device_bg\">\n                  ${style}\n          \t  <img class=\"device_img\" id=\"rsdose4_img\" alt=\"\"  src='${this.config.background_img}' />\n                  <div class=\"heads\">\n                     ${Array.from({ length: this.config.heads_nb }, (x, i) => i + 1).map(head => this._render_head(head))}\n                 </div>\n                   ${this.dosing_queue}\n                 ${this._render_elements()}\n               </div>`;\n    } //end of function render\n    _editor_head_color(head_id) {\n        //\tthis.update_config();\n        let color = rgbToHex(\"rgb\\(\" + this.config.heads[\"head_\" + head_id].color + \"\\);\");\n        let shortcuts = this.config.heads[\"head_\" + head_id].shortcut;\n        return html `\n             <tr>\n               <td class=\"config_color\">\n                 <input type=\"color\" id=\"head_${head_id}-color\" value=\"${color}\" @change=\"${this.handleChangedEvent}\" @input=\"${this.handleChangedEvent}\" list=\"RedSeaColors\" />\n                 <datalist id=\"RedSeaColors\">\n                   <option>#8c4394</option>\n                   <option>#0081c5</option>\n                   <option>#008264</option>\n                   <option>#64a04b</option>\n                   <option>#582900</option>\n                   <option>#f04e99</option>\n                   <option>#f14b4c</option>\n                   <option>#f08f37</option>\n                   <option>#d9d326</option>\n                   <option>#FFFFFF</option>\n                </datalist>\n                <label class=\"tab-label\">${i18n._(\"head\")} ${head_id}: ${this._hass.states[this._heads[head_id].entities['supplement'].entity_id].state}</label>\n              </td>\n              <td>\n                <input type=\"text\" id=\"head_${head_id}-shortcut\" value=\"${shortcuts}\" @change=\"${this.handleChangedEvent}\" ></input>\n              </td>\n           </tr>`;\n    } //end of function _editor_head_color\n    handleChangedDeviceEvent(changedEvent) {\n        /*if(changedEvent.returnValue){\n          }*/\n        let value = (changedEvent.currentTarget.checked);\n        var newVal = { conf: { [this.current_device.config.model]: { devices: { [this.current_device.device.name]: { elements: { [changedEvent.target.id]: { disabled_if: value } } } } } } };\n        var newConfig = JSON.parse(JSON.stringify(this._config));\n        try {\n            newConfig.conf[this.current_device.config.model].devices[this.current_device.device.name].elements[changedEvent.target.id].disabled_if = value;\n        }\n        catch (error) {\n            newConfig = merge(newConfig, newVal);\n        }\n        const messageEvent = new CustomEvent(\"config-changed\", {\n            detail: { config: newConfig },\n            bubbles: true,\n            composed: true,\n        });\n        this.dispatchEvent(messageEvent);\n    }\n    //head\n    handleChangedEvent(changedEvent) {\n        let i_val = changedEvent.currentTarget.value;\n        const head = changedEvent.target.id.split('-')[0];\n        const field = changedEvent.target.id.split('-')[1];\n        if (field == \"color\") {\n            i_val = hexToRgb(i_val);\n        }\n        var newVal = { conf: { [this.current_device.config.model]: { devices: { [this.current_device.device.name]: { heads: { [head]: { [field]: i_val } } } } } } };\n        var newConfig = JSON.parse(JSON.stringify(this._config));\n        try {\n            newConfig.conf[this.current_device.config.model].devices[this.current_device.device.name].heads[changedEvent.target.head][field] = i_val;\n        }\n        catch (error) {\n            newConfig = merge(newConfig, newVal);\n        }\n        const messageEvent = new CustomEvent(\"config-changed\", {\n            detail: { config: newConfig },\n            bubbles: true,\n            composed: true,\n        });\n        this.dispatchEvent(messageEvent);\n    } // end of function handleChangedEvent\n    is_checked(id) {\n        var result = false;\n        if (\"disabled_if\" in this.config.elements[id]) {\n            result = this.config.elements[id].disabled_if;\n        }\n        if (result) {\n            return html `\n                   <label class=\"switch\">\n                      <input type=\"checkbox\" id=\"${id}\" @change=\"${this.handleChangedDeviceEvent}\" checked />\n                      <span class=\"slider round\"></span>\n                   </label>\n                   <label>${i18n._(id)}</label>                   \n`;\n        }\n        else {\n            return html `\n                   <label class=\"switch\">\n                      <input type=\"checkbox\" id=\"${id}\"  @change=\"${this.handleChangedDeviceEvent}\" />\n                      <span class=\"slider round\"></span>\n                   </label>\n                   <label>${i18n._(id)}</label>                   \n`;\n        }\n        //\treturn result;\n    } //end of function is_checked\n    editor(doc) {\n        if (this.is_disabled()) {\n            return html ``;\n        }\n        this._populate_entities_with_heads();\n        var element = doc.getElementById(\"heads_colors\");\n        if (element) {\n            element.reset();\n        }\n        this.update_config();\n        return html `\n                 <hr />\n                 <style>\n                   /* The switch - the box around the slider */\n                   .switch {\n                     position: relative;\n                     display: inline-block;\n                     width: 30px;\n                     height: 17px;\n\n                   }\n\n                   /* Hide default HTML checkbox */\n                   .switch input {\n                     opacity: 0;\n                     width: 0;\n                     height: 0;\n                   }\n                   \n                   /* The slider */\n                   .slider {\n                     position: absolute;\n                     cursor: pointer;\n                     top: 0;\n                     left: 0;\n                     right: 0;\n                     bottom: 0;\n                     background-color: #ccc;\n                     -webkit-transition: .4s;\n                     transition: .4s;\n                   }\n                   \n                   .slider:before {\n                     position: absolute;\n                     content: \"\";\n                     height: 13px;\n                     width: 13px;\n                     left: 2px;\n                     bottom: 2px;\n                     background-color: white;\n                     -webkit-transition: .4s;\n                     transition: .4s;\n                   }\n                   \n                   input:checked + .slider {\n                     background-color: #2196F3;\n                   }\n                   \n                   input:focus + .slider {\n                     box-shadow: 0 0 1px #2196F3;\n                   }\n                   \n                   input:checked + .slider:before {\n                     -webkit-transform: translateX(13px);\n                     -ms-transform: translateX(13px);\n                     transform: translateX(13px);\n                   }\n                   \n                   /* Rounded sliders */\n                   .slider.round {\n                     border-radius: 17px;\n                   }\n                   \n                   .slider.round:before {\n                     border-radius: 50%;\n                   }\n                 </style>\n                   <form id=\"heads_colors\">\n                   <table>\n                   <tr><td>\n${this.is_checked(\"last_message\")}\n                   </td><td>\n${this.is_checked(\"last_alert_message\")}\n                   </td></tr>\n                   <tr>\n                     <td class=\"config_header\">${i18n._(\"heads_colors\")}</td>\n                     <td>${i18n._(\"heads_shortcuts\")}</td>\n                   </tr>\n                     ${Array.from({ length: this.config.heads_nb }, (x, i) => i + 1).map(head => this._editor_head_color(head))}\n                 </table>\n                   </form>`;\n    } //end of function editor\n}\n//window.customElements.define('redsea-rsdose4', RSDose);\n","import {css} from 'lit';\n\nexport default css`\nspan.volume_dosing_queue{\nfont-size: x-small;\nwidth: 100%;\n}\n\n.slot{\ncolor: white;\n}\n\n`;\n","import { html } from \"lit\";\nimport { MyElement } from \"./base/element\";\nimport styles from \"./dosing_queue.styles\";\nimport { toTime } from \"../common.js\";\nexport class DosingQueue extends MyElement {\n    static styles = [styles];\n    static get properties() {\n        return {\n            state_on: {},\n        };\n    }\n    constructor() {\n        super();\n        this.schdedule = null;\n    }\n    _render_slot_schedule(slot) {\n        let bg_color = this.color_list[slot.head];\n        return html `\n           <div class=\"slot\" style=\"background-color: rgb(${this.color_list[slot.head]})\">\n             <span class=\"dosing_queue\">\n              ${slot.head}<br />\n              ${slot.volume.toFixed(1)}mL<br />\n              ${toTime(slot.time)}\n             </span><hr />\n          </div>`;\n    } //end of function _render_slot_schedule\n    set hass(obj) {\n        if (this.stateObj && this.stateObj.attributes.queue != obj.states[this.stateObj.entity_id].attributes.queue) {\n            this._hass = obj;\n            this.stateObj = obj.states[this.stateObj.entity_id];\n        }\n    }\n    render() {\n        this.schedule = this.stateObj.attributes.queue;\n        if (this.stateOn && this.schedule.length != 0) {\n            return html `\n                  <div style=\"${this.get_style(this.config)}\">\n                    ${this.schedule.map(slot => this._render_slot_schedule(slot))}\n                  </div>\n   \t    `;\n        } //if\n        else {\n            return html ``;\n        } //else\n    }\n}\n;\n//window.customElements.define('dosing-queue', DosingQueue);\n","import {css} from 'lit';\n\nexport default css`\nsvg{\nstroke: black;\n}\n\n.addSupplement{\n  color:red;\n  position:absolute;\n  width:60%;\n  bottom:15%;\n  left:30%;\n  text-align:center;\n  text-decoration: none;\n  animation:blink 1s linear infinite;;\n}\n\n@keyframes blink {\n    0% {\n        opacity: 1;\n    }\n    50% {\n        opacity: 0;\n    }\n    100% {\n        opacity: 1;\n    }\n}\n\nimg{\n position: absolute;\n width: 100%;\n}\n`;\n","import { html } from \"lit\";\nimport {RSDevice} from \"./device\";\n\nimport styles from \"./dose_head.styles\";\nimport style_sensors from \"./base/sensor.styles\";\nimport style_progress_bar from \"./base/progress_bar.styles\";\n\nimport {ProgressBar} from \"./base/progress_bar\";\nimport {off_color} from \"../common.js\";\nimport i18n from \"../translations/myi18n\";\nimport {MyElement} from \"./base/element\";\n\nexport class DoseHead extends RSDevice{\n\n    static styles = [styles,style_sensors];\n\n    static get properties() {\n\treturn {\n\t    state_on:{},\n\t    device_state:{},\n\t    head_state:{},\n\t    supplement:{},\n\t    force_render:false,\n\t}\n    }\n\n    constructor(){\n\tsuper();\n\tthis.supplement=null;\n\tthis.stock_alert=null;\n\tthis.supplement_info=false;\n\tthis.bundle=false;\n    }\n    \n    _pipe_path(){\n\tlet color=this.config.color;\n\tif (! this.state_on ){\n\t    color=off_color;\n\t}\n\treturn html`\n\t\t<svg viewBox=\"0 0 86 56\" style=\"fill:rgb(${color});\">\n\t\t    <path d=\"M 14,0 C 13,12 10,18 7,25 0,34 0,45  0,55 L 12,55 c 0,-8 -0,-16 6,-24 4,-8 8,-17 8,-35 z\"></path>\n\t\t    <path d=\"m 62,0 1,39 c 0,2 1,3 2,5 2,2 2,1 4,2 2,0 4,0 6,-2 2,-2 1,-5 2,-7 l 6,-30 -8,0 -3,8 0,-28 z\"></path>\n\t\t</svg>\n`;\n    }\n\n    _render_container(){\n\tlet supplement_uid=this.supplement.attributes.supplement.uid\n\tlet img=null;\n\tlet warning='';\n\n\timg='/hacsfiles/ha-reef-card/img/supplements/'+supplement_uid+'.supplement.png';\n\t\n\tvar http = new XMLHttpRequest();\n\thttp.open('HEAD', img, false);\n\thttp.send();\n\tif(http.status == 404){\n\t    img='/hacsfiles/ha-reef-card/img/supplements/generic_container.supplement.png'\n\t    this.supplement_info=true;\n\t}\n\t\n\tlet style=html``;\n\tlet color=this.config.color;\n\tif(!this.state_on){\n\t    style=html`<style>img#id_${supplement_uid}{filter: grayscale(90%);}</style>`;\n\t    color=off_color;\n\t}\n\n\tif (parseInt(this.get_entity('remaining_days').state)<parseInt(this.stock_alert) && this.get_entity('slm').state==\"on\" && this.get_entity('daily_dose').state > 0){\n\t    warning=html`<img class='warning' src='${new URL(\"./img/warning.svg\",import.meta.url)}'/ style=\"${this.get_style(this.config.warning)}\" /><div class=\"warning\" style=\"${this.get_style(this.config.warning_label)}\">${i18n._(\"empty\")}</div>`;\n\t    }\n\n\treturn html`\n              <div class=\"container\" style=\"${this.get_style(this.config.container)}\">\n                ${style}\n                <img id=id_${supplement_uid} src='${img}' width=\"100%\" />\n                ${warning}\n                ${this._render_supplement_info()}\n                ${this._render_elements(true,\"supplement\")}\n                ${this._render_ask()}\n              </div>\n            `;\n    }\n\n    _render_supplement_info(){\n\tif (this.supplement_info){\n\n\t    return html`${this._render_elements(true,\"supplement_info\")}`;\n\t}//if\n    }\n\n    _render_ask() {\n\t    let ask='';\n\t    if ( this.supplement_info && !this.supplement.attributes.supplement.is_name_editable){\n\t\task=html`<a class=\"addSupplement\" target=\"_blank\" href='https://github.com/Elwinmage/ha-reef-card/issues/new?labels=supplement&title=Add+supplement+picture+for+${this.supplement.attributes.supplement.brand_name.replace(' ','+')}+${this.supplement.attributes.supplement.name.replace(' ','+')}&body=${JSON.stringify(this.supplement.attributes.supplement,null,\"%0D%0A\")}'>+${i18n._(\"ask_add_supplement\")}+</a>`;\n\t    }//if\n\treturn html`${ask}`;\n    }\n    \n    is_on(){\n\tlet res=true;\n\n\tif( 'head_state' in this.entities && ( this._hass.states[this.entities['head_state'].entity_id].state==\"not-setup\" ||\n\t\t\t\t\t       !this.device_state ||\n\t\t\t\t\t      (this._hass.states[this.entities['schedule_enabled'].entity_id].state=='off'))){\n\t    res=false;\n\t}\n\treturn res;\n    }\n\n    set hass(obj){\n\tthis._setting_hass(obj);\n\tif(this.is_on() != this.state_on){\n\t    this.state_on=this.is_on();\n\t}\n\tif(this.entites && this.head_state!=this.entities['head_state'].state){\n\t    this.head_state=this.entities['head_state'].state;\n\t}\n\tif(this.entities['supplement'] && this._hass.states[this.entities['supplement'].entity_id].attributes.supplement.uid != this.supplement.attributes.supplement.uid){\n\t    this.supplement=this._hass.states[this.entities['supplement'].entity_id];\n\t}\n    }\n    \n    _render(){\n\tthis.to_render=false;\n\tthis.state_on=this.is_on();\n\tconsole.debug(\"Render dose_head n°\",this.config.id);\n\tthis.supplement=this._hass.states[this.entities['supplement'].entity_id];\n\tif (this.supplement.attributes.supplement.uid!='null'){\n\t    let calibration='';\n\t    let color=this.config.color+\",\"+this.config.alpha;\n\t    \n\t    if (this._hass.states[this.entities['head_state'].entity_id].state==\"not-setup\"){\n\t\tthis.state_on=false;\n\t\tlet conf={\n\t\t    \"image\":new URL(\"./img/configuration.png\",import.meta.url),\n\t\t    \"type\": \"click-image\",\n\t\t    \"class\":\"calibration\",\n\t\t    \"stateObj\":null,\n\t\t    \"tap_action\":[\n\t\t\t{\n\t\t\t    \"domain\": \"redsea_ui\",\n\t\t\t    \"action\": \"dialog\",\n\t\t\t    \"data\": {\"type\":\"head_configuration\"},\n\t\t\t} \n\t\t    ],\n\t\t    \"elt.css\":this.config.calibration.css\n\t\t};\n\t\tcalibration=MyElement.create_element(this._hass,conf,this);\n\t    }\n\t    \n\t    if (! this.state_on ){\n\t\tcolor=off_color+\",\"+this.config.alpha;\n\t    }\n\t    return html`\n               ${this._render_container()}\n   \t        <div class=\"pipe\" style=\"${this.get_style(this.config.pipe)}\">\n \t\t  ${this._pipe_path()}\n\t\t</div>\n                <div class=\"pump_state_head\" style=\"${this.get_style(this.config.pump_state_head)};background-color:rgba(${color});\">\n                  ${this._render_elements(this.state_on,\"pump_state_head\")}\n                  <div class=\"pump_state_labels\" style=\"${this.get_style(this.config.pump_state_labels)}\">\n                    ${this._render_elements(this.state_on,\"pump_state_labels\")}\n                  </div>\n              </div>\n              ${this._render_elements(this.state_on)}\n              ${calibration}\n   \t    `;\n\t}//if\n\telse {\n\n\t    let conf={\n\t\t\"type\": \"click-image\",\n\t\t\"stateObj\": false,\n\t\t\"image\":new URL(\"./img/container_add.png\",import.meta.url),\n\t\t\"class\": \"container\",\n\t\t\"tap_action\":{\n\t\t    \"domain\": \"redsea_ui\",\n\t\t    \"action\": \"dialog\",\n\t\t    \"data\": {\"type\": \"add_supplement\"}\n\t\t},\n\t\t\"elt.css\":{\n\t\t    \"width\": \"100%\",\n\t\t}\n\t\t\n\t    };\n\t    let add_img=MyElement.create_element(this._hass,conf,this);\n\t    return html`\n                   <div class=\"container\" style=\"${this.get_style(this.config.container)}\">\n                     ${add_img}\n                   </div>`;\n\t}//else\n    }\n};\n\n//window.customElements.define('dose-head', DoseHead);\n","import \"./base/index\";\nimport { NoDevice } from \"./nodevice\";\nimport { RSDose } from \"./rsdose\";\nimport { DosingQueue } from \"./dosing_queue\";\nimport { DoseHead } from \"./dose_head\";\ncustomElements.define('redsea-nodevice', NoDevice);\ncustomElements.define('redsea-rsdose4', RSDose);\ncustomElements.define('dosing-queue', DosingQueue);\ncustomElements.define('dose-head', DoseHead);\n","import {ReefCard} from \"./card\";\n\nimport \"./devices/index\";\n\n//import { ReefCardEditor } from \"./editor\";\n\n\n// import { loadHaComponents, DEFAULT_HA_COMPONENTS } from '@kipk/load-ha-components';\n\n// await loadHaComponents([\n//     'ha-form',\n//     'hui-sensor-entity-row'\n// ]);\n\n\ncustomElements.define(\"reef-card\",ReefCard);\n//customElements.define(\"reef-card-editor\",ReefCardEditor);\n\nwindow.customCards = window.customCards || [];\nwindow.customCards.push({\n    type: \"reef-card\",\n    name: \"Reef Tank Card\",\n    description: \"A custom card for reef management.\",\n});\n\n/*window.customCards = window.customCards || [];\nwindow.customCards.push({\n  type: \"reef-card-editor\",\n  name: \"Content Card Editor\",\n  preview: false, // Optional - defaults to false\n    description: \"Reef Card!\", // Optional\n    documentationURL:\n    \"https://github.com/Elwinmage/ha-reef-card\", // Adds a help link in the frontend card editor\n});\n*/\n"],"names":["t","e","s","o","r","n","i","S","c","h","a","l","p","d","u","f","y","x","v","config","homeAssistant","detectedLang","lang","normalized","obj","path","keys","current","key","params","result","currentDict","fallbackDict","text","match","normalizedLang","targetLang","dict","prefix","value","fullKey","dictionary","partialDict","existingDict","merged","hass","b","name","id","device_id","dev","dev_id","hex","orig","regex_trim","color","matches","time","seconds","minutes","hours","css","LitElement","state","res","so","sot","conf","labelExpr","context","variables","template","condition","entity","operator","actualValue","device","iconv","Element","label_name","elt","css_level","style","k","entity_translation_value","ms","resolve","html","actions","actionsArray","action","str","error_str","a_data","msg","__decorateClass","property","item","target","sources","source","re_render","element","ipath","device_conf","disabled","sub_nb","reason","maintenance","elements","swtch","maintenance_button","put_in","sensor_put_in","shadowRoot","box","event","error","r_element","clone","pos","close_cross_class","close_cross","cancel_button","option","model","stateObj","alpha","icon","sclass","trash","style_sensor","labelConf","unitConf","expression","parsed","sensor_class","unit","stateObjTarget","label","styles","head","entity_id","fname","head_id","dose_head","new_conf","schedule_state","short_name","shortcuts","changedEvent","newVal","newConfig","messageEvent","i_val","field","doc","slot","supplement_uid","img","warning","http","ask","calibration","add_img"],"mappings":"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","x_google_ignoreList":[0,1,2,3,7]}