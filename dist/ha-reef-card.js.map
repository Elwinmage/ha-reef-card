{"version":3,"file":"ha-reef-card.js","sources":["../node_modules/@lit/reactive-element/css-tag.js","../node_modules/@lit/reactive-element/reactive-element.js","../node_modules/lit-html/lit-html.js","../node_modules/lit-element/lit-element.js","../node_modules/@lit/reactive-element/decorators/custom-element.js","../node_modules/@lit/reactive-element/decorators/property.js","../node_modules/@lit/reactive-element/decorators/state.js","../src/translations/myi18n.ts","../src/common.ts","../src/card.styles.ts","../src/devices/base/click_handler.ts","../src/utils/SafeEval.ts","../src/devices/base/element.ts","../src/merge.ts","../src/devices/device.ts","../src/devices/base/dialog.styles.ts","../src/devices/base/click_image.styles.ts","../src/devices/supplements_list.ts","../src/devices/supplements.ts","../src/devices/dose_head.dialog.ts","../src/devices/actions.ts","../src/devices/base/dialog.ts","../src/card.ts","../src/editor.ts","../src/devices/base/button.styles.ts","../src/devices/base/button.ts","../src/devices/base/click_image.ts","../src/devices/base/progress_bar.styles.ts","../src/devices/base/progress_bar.ts","../src/devices/base/progress_circle.styles.ts","../src/devices/base/progress_circle.ts","../src/devices/base/messages.styles.ts","../src/devices/base/messages.ts","../src/devices/base/sensor_target.styles.ts","../src/devices/base/sensor.styles.ts","../src/devices/base/sensor.ts","../src/devices/base/sensor_target.ts","../src/devices/base/switch.styles.ts","../src/devices/base/switch.ts","../src/devices/base/index.ts","../src/devices/nodevice.styles.ts","../src/devices/mapping/NODEVICE.ts","../src/devices/nodevice.ts","../src/devices/mapping/RSDOSE4.ts","../src/devices/rsdose.styles.ts","../src/devices/common.styles.ts","../src/devices/rsdose.ts","../src/devices/dosing_queue.styles.ts","../src/devices/dosing_queue.ts","../src/devices/dose_head.styles.ts","../src/devices/dose_head.ts","../src/devices/index.ts","../src/index.ts"],"sourcesContent":["/**\n * @license\n * Copyright 2019 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=globalThis,e=t.ShadowRoot&&(void 0===t.ShadyCSS||t.ShadyCSS.nativeShadow)&&\"adoptedStyleSheets\"in Document.prototype&&\"replace\"in CSSStyleSheet.prototype,s=Symbol(),o=new WeakMap;class n{constructor(t,e,o){if(this._$cssResult$=!0,o!==s)throw Error(\"CSSResult is not constructable. Use `unsafeCSS` or `css` instead.\");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const s=this.t;if(e&&void 0===t){const e=void 0!==s&&1===s.length;e&&(t=o.get(s)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),e&&o.set(s,t))}return t}toString(){return this.cssText}}const r=t=>new n(\"string\"==typeof t?t:t+\"\",void 0,s),i=(t,...e)=>{const o=1===t.length?t[0]:e.reduce(((e,s,o)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if(\"number\"==typeof t)return t;throw Error(\"Value passed to 'css' function must be a 'css' function result: \"+t+\". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.\")})(s)+t[o+1]),t[0]);return new n(o,t,s)},S=(s,o)=>{if(e)s.adoptedStyleSheets=o.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet));else for(const e of o){const o=document.createElement(\"style\"),n=t.litNonce;void 0!==n&&o.setAttribute(\"nonce\",n),o.textContent=e.cssText,s.appendChild(o)}},c=e?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e=\"\";for(const s of t.cssRules)e+=s.cssText;return r(e)})(t):t;export{n as CSSResult,S as adoptStyles,i as css,c as getCompatibleStyle,e as supportsAdoptingStyleSheets,r as unsafeCSS};\n//# sourceMappingURL=css-tag.js.map\n","import{getCompatibleStyle as t,adoptStyles as s}from\"./css-tag.js\";export{CSSResult,css,supportsAdoptingStyleSheets,unsafeCSS}from\"./css-tag.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const{is:i,defineProperty:e,getOwnPropertyDescriptor:h,getOwnPropertyNames:r,getOwnPropertySymbols:o,getPrototypeOf:n}=Object,a=globalThis,c=a.trustedTypes,l=c?c.emptyScript:\"\",p=a.reactiveElementPolyfillSupport,d=(t,s)=>t,u={toAttribute(t,s){switch(s){case Boolean:t=t?l:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,s){let i=t;switch(s){case Boolean:i=null!==t;break;case Number:i=null===t?null:Number(t);break;case Object:case Array:try{i=JSON.parse(t)}catch(t){i=null}}return i}},f=(t,s)=>!i(t,s),b={attribute:!0,type:String,converter:u,reflect:!1,useDefault:!1,hasChanged:f};Symbol.metadata??=Symbol(\"metadata\"),a.litPropertyMetadata??=new WeakMap;class y extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,s=b){if(s.state&&(s.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(t)&&((s=Object.create(s)).wrapped=!0),this.elementProperties.set(t,s),!s.noAccessor){const i=Symbol(),h=this.getPropertyDescriptor(t,i,s);void 0!==h&&e(this.prototype,t,h)}}static getPropertyDescriptor(t,s,i){const{get:e,set:r}=h(this.prototype,t)??{get(){return this[s]},set(t){this[s]=t}};return{get:e,set(s){const h=e?.call(this);r?.call(this,s),this.requestUpdate(t,h,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??b}static _$Ei(){if(this.hasOwnProperty(d(\"elementProperties\")))return;const t=n(this);t.finalize(),void 0!==t.l&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(d(\"finalized\")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(d(\"properties\"))){const t=this.properties,s=[...r(t),...o(t)];for(const i of s)this.createProperty(i,t[i])}const t=this[Symbol.metadata];if(null!==t){const s=litPropertyMetadata.get(t);if(void 0!==s)for(const[t,i]of s)this.elementProperties.set(t,i)}this._$Eh=new Map;for(const[t,s]of this.elementProperties){const i=this._$Eu(t,s);void 0!==i&&this._$Eh.set(i,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(s){const i=[];if(Array.isArray(s)){const e=new Set(s.flat(1/0).reverse());for(const s of e)i.unshift(t(s))}else void 0!==s&&i.push(t(s));return i}static _$Eu(t,s){const i=s.attribute;return!1===i?void 0:\"string\"==typeof i?i:\"string\"==typeof t?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((t=>t(this)))}addController(t){(this._$EO??=new Set).add(t),void 0!==this.renderRoot&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$EO?.delete(t)}_$E_(){const t=new Map,s=this.constructor.elementProperties;for(const i of s.keys())this.hasOwnProperty(i)&&(t.set(i,this[i]),delete this[i]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return s(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((t=>t.hostConnected?.()))}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach((t=>t.hostDisconnected?.()))}attributeChangedCallback(t,s,i){this._$AK(t,i)}_$ET(t,s){const i=this.constructor.elementProperties.get(t),e=this.constructor._$Eu(t,i);if(void 0!==e&&!0===i.reflect){const h=(void 0!==i.converter?.toAttribute?i.converter:u).toAttribute(s,i.type);this._$Em=t,null==h?this.removeAttribute(e):this.setAttribute(e,h),this._$Em=null}}_$AK(t,s){const i=this.constructor,e=i._$Eh.get(t);if(void 0!==e&&this._$Em!==e){const t=i.getPropertyOptions(e),h=\"function\"==typeof t.converter?{fromAttribute:t.converter}:void 0!==t.converter?.fromAttribute?t.converter:u;this._$Em=e;const r=h.fromAttribute(s,t.type);this[e]=r??this._$Ej?.get(e)??r,this._$Em=null}}requestUpdate(t,s,i){if(void 0!==t){const e=this.constructor,h=this[t];if(i??=e.getPropertyOptions(t),!((i.hasChanged??f)(h,s)||i.useDefault&&i.reflect&&h===this._$Ej?.get(t)&&!this.hasAttribute(e._$Eu(t,i))))return;this.C(t,s,i)}!1===this.isUpdatePending&&(this._$ES=this._$EP())}C(t,s,{useDefault:i,reflect:e,wrapped:h},r){i&&!(this._$Ej??=new Map).has(t)&&(this._$Ej.set(t,r??s??this[t]),!0!==h||void 0!==r)||(this._$AL.has(t)||(this.hasUpdated||i||(s=void 0),this._$AL.set(t,s)),!0===e&&this._$Em!==t&&(this._$Eq??=new Set).add(t))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[t,s]of this._$Ep)this[t]=s;this._$Ep=void 0}const t=this.constructor.elementProperties;if(t.size>0)for(const[s,i]of t){const{wrapped:t}=i,e=this[s];!0!==t||this._$AL.has(s)||void 0===e||this.C(s,void 0,i,e)}}let t=!1;const s=this._$AL;try{t=this.shouldUpdate(s),t?(this.willUpdate(s),this._$EO?.forEach((t=>t.hostUpdate?.())),this.update(s)):this._$EM()}catch(s){throw t=!1,this._$EM(),s}t&&this._$AE(s)}willUpdate(t){}_$AE(t){this._$EO?.forEach((t=>t.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Eq&&=this._$Eq.forEach((t=>this._$ET(t,this[t]))),this._$EM()}updated(t){}firstUpdated(t){}}y.elementStyles=[],y.shadowRootOptions={mode:\"open\"},y[d(\"elementProperties\")]=new Map,y[d(\"finalized\")]=new Map,p?.({ReactiveElement:y}),(a.reactiveElementVersions??=[]).push(\"2.1.1\");export{y as ReactiveElement,s as adoptStyles,u as defaultConverter,t as getCompatibleStyle,f as notEqual};\n//# sourceMappingURL=reactive-element.js.map\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=globalThis,i=t.trustedTypes,s=i?i.createPolicy(\"lit-html\",{createHTML:t=>t}):void 0,e=\"$lit$\",h=`lit$${Math.random().toFixed(9).slice(2)}$`,o=\"?\"+h,n=`<${o}>`,r=document,l=()=>r.createComment(\"\"),c=t=>null===t||\"object\"!=typeof t&&\"function\"!=typeof t,a=Array.isArray,u=t=>a(t)||\"function\"==typeof t?.[Symbol.iterator],d=\"[ \\t\\n\\f\\r]\",f=/<(?:(!--|\\/[^a-zA-Z])|(\\/?[a-zA-Z][^>\\s]*)|(\\/?$))/g,v=/-->/g,_=/>/g,m=RegExp(`>|${d}(?:([^\\\\s\"'>=/]+)(${d}*=${d}*(?:[^ \\t\\n\\f\\r\"'\\`<>=]|(\"|')|))|$)`,\"g\"),p=/'/g,g=/\"/g,$=/^(?:script|style|textarea|title)$/i,y=t=>(i,...s)=>({_$litType$:t,strings:i,values:s}),x=y(1),b=y(2),w=y(3),T=Symbol.for(\"lit-noChange\"),E=Symbol.for(\"lit-nothing\"),A=new WeakMap,C=r.createTreeWalker(r,129);function P(t,i){if(!a(t)||!t.hasOwnProperty(\"raw\"))throw Error(\"invalid template strings array\");return void 0!==s?s.createHTML(i):i}const V=(t,i)=>{const s=t.length-1,o=[];let r,l=2===i?\"<svg>\":3===i?\"<math>\":\"\",c=f;for(let i=0;i<s;i++){const s=t[i];let a,u,d=-1,y=0;for(;y<s.length&&(c.lastIndex=y,u=c.exec(s),null!==u);)y=c.lastIndex,c===f?\"!--\"===u[1]?c=v:void 0!==u[1]?c=_:void 0!==u[2]?($.test(u[2])&&(r=RegExp(\"</\"+u[2],\"g\")),c=m):void 0!==u[3]&&(c=m):c===m?\">\"===u[0]?(c=r??f,d=-1):void 0===u[1]?d=-2:(d=c.lastIndex-u[2].length,a=u[1],c=void 0===u[3]?m:'\"'===u[3]?g:p):c===g||c===p?c=m:c===v||c===_?c=f:(c=m,r=void 0);const x=c===m&&t[i+1].startsWith(\"/>\")?\" \":\"\";l+=c===f?s+n:d>=0?(o.push(a),s.slice(0,d)+e+s.slice(d)+h+x):s+h+(-2===d?i:x)}return[P(t,l+(t[s]||\"<?>\")+(2===i?\"</svg>\":3===i?\"</math>\":\"\")),o]};class N{constructor({strings:t,_$litType$:s},n){let r;this.parts=[];let c=0,a=0;const u=t.length-1,d=this.parts,[f,v]=V(t,s);if(this.el=N.createElement(f,n),C.currentNode=this.el.content,2===s||3===s){const t=this.el.content.firstChild;t.replaceWith(...t.childNodes)}for(;null!==(r=C.nextNode())&&d.length<u;){if(1===r.nodeType){if(r.hasAttributes())for(const t of r.getAttributeNames())if(t.endsWith(e)){const i=v[a++],s=r.getAttribute(t).split(h),e=/([.?@])?(.*)/.exec(i);d.push({type:1,index:c,name:e[2],strings:s,ctor:\".\"===e[1]?H:\"?\"===e[1]?I:\"@\"===e[1]?L:k}),r.removeAttribute(t)}else t.startsWith(h)&&(d.push({type:6,index:c}),r.removeAttribute(t));if($.test(r.tagName)){const t=r.textContent.split(h),s=t.length-1;if(s>0){r.textContent=i?i.emptyScript:\"\";for(let i=0;i<s;i++)r.append(t[i],l()),C.nextNode(),d.push({type:2,index:++c});r.append(t[s],l())}}}else if(8===r.nodeType)if(r.data===o)d.push({type:2,index:c});else{let t=-1;for(;-1!==(t=r.data.indexOf(h,t+1));)d.push({type:7,index:c}),t+=h.length-1}c++}}static createElement(t,i){const s=r.createElement(\"template\");return s.innerHTML=t,s}}function S(t,i,s=t,e){if(i===T)return i;let h=void 0!==e?s._$Co?.[e]:s._$Cl;const o=c(i)?void 0:i._$litDirective$;return h?.constructor!==o&&(h?._$AO?.(!1),void 0===o?h=void 0:(h=new o(t),h._$AT(t,s,e)),void 0!==e?(s._$Co??=[])[e]=h:s._$Cl=h),void 0!==h&&(i=S(t,h._$AS(t,i.values),h,e)),i}class M{constructor(t,i){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=i}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:i},parts:s}=this._$AD,e=(t?.creationScope??r).importNode(i,!0);C.currentNode=e;let h=C.nextNode(),o=0,n=0,l=s[0];for(;void 0!==l;){if(o===l.index){let i;2===l.type?i=new R(h,h.nextSibling,this,t):1===l.type?i=new l.ctor(h,l.name,l.strings,this,t):6===l.type&&(i=new z(h,this,t)),this._$AV.push(i),l=s[++n]}o!==l?.index&&(h=C.nextNode(),o++)}return C.currentNode=r,e}p(t){let i=0;for(const s of this._$AV)void 0!==s&&(void 0!==s.strings?(s._$AI(t,s,i),i+=s.strings.length-2):s._$AI(t[i])),i++}}class R{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,i,s,e){this.type=2,this._$AH=E,this._$AN=void 0,this._$AA=t,this._$AB=i,this._$AM=s,this.options=e,this._$Cv=e?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const i=this._$AM;return void 0!==i&&11===t?.nodeType&&(t=i.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,i=this){t=S(this,t,i),c(t)?t===E||null==t||\"\"===t?(this._$AH!==E&&this._$AR(),this._$AH=E):t!==this._$AH&&t!==T&&this._(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.T(t):u(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==E&&c(this._$AH)?this._$AA.nextSibling.data=t:this.T(r.createTextNode(t)),this._$AH=t}$(t){const{values:i,_$litType$:s}=t,e=\"number\"==typeof s?this._$AC(t):(void 0===s.el&&(s.el=N.createElement(P(s.h,s.h[0]),this.options)),s);if(this._$AH?._$AD===e)this._$AH.p(i);else{const t=new M(e,this),s=t.u(this.options);t.p(i),this.T(s),this._$AH=t}}_$AC(t){let i=A.get(t.strings);return void 0===i&&A.set(t.strings,i=new N(t)),i}k(t){a(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let s,e=0;for(const h of t)e===i.length?i.push(s=new R(this.O(l()),this.O(l()),this,this.options)):s=i[e],s._$AI(h),e++;e<i.length&&(this._$AR(s&&s._$AB.nextSibling,e),i.length=e)}_$AR(t=this._$AA.nextSibling,i){for(this._$AP?.(!1,!0,i);t!==this._$AB;){const i=t.nextSibling;t.remove(),t=i}}setConnected(t){void 0===this._$AM&&(this._$Cv=t,this._$AP?.(t))}}class k{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,i,s,e,h){this.type=1,this._$AH=E,this._$AN=void 0,this.element=t,this.name=i,this._$AM=e,this.options=h,s.length>2||\"\"!==s[0]||\"\"!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=E}_$AI(t,i=this,s,e){const h=this.strings;let o=!1;if(void 0===h)t=S(this,t,i,0),o=!c(t)||t!==this._$AH&&t!==T,o&&(this._$AH=t);else{const e=t;let n,r;for(t=h[0],n=0;n<h.length-1;n++)r=S(this,e[s+n],i,n),r===T&&(r=this._$AH[n]),o||=!c(r)||r!==this._$AH[n],r===E?t=E:t!==E&&(t+=(r??\"\")+h[n+1]),this._$AH[n]=r}o&&!e&&this.j(t)}j(t){t===E?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??\"\")}}class H extends k{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===E?void 0:t}}class I extends k{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==E)}}class L extends k{constructor(t,i,s,e,h){super(t,i,s,e,h),this.type=5}_$AI(t,i=this){if((t=S(this,t,i,0)??E)===T)return;const s=this._$AH,e=t===E&&s!==E||t.capture!==s.capture||t.once!==s.once||t.passive!==s.passive,h=t!==E&&(s===E||e);e&&this.element.removeEventListener(this.name,this,s),h&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){\"function\"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class z{constructor(t,i,s){this.element=t,this.type=6,this._$AN=void 0,this._$AM=i,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(t){S(this,t)}}const Z={M:e,P:h,A:o,C:1,L:V,R:M,D:u,V:S,I:R,H:k,N:I,U:L,B:H,F:z},j=t.litHtmlPolyfillSupport;j?.(N,R),(t.litHtmlVersions??=[]).push(\"3.3.1\");const B=(t,i,s)=>{const e=s?.renderBefore??i;let h=e._$litPart$;if(void 0===h){const t=s?.renderBefore??null;e._$litPart$=h=new R(i.insertBefore(l(),t),t,void 0,s??{})}return h._$AI(t),h};export{Z as _$LH,x as html,w as mathml,T as noChange,E as nothing,B as render,b as svg};\n//# sourceMappingURL=lit-html.js.map\n","import{ReactiveElement as t}from\"@lit/reactive-element\";export*from\"@lit/reactive-element\";import{render as e,noChange as r}from\"lit-html\";export*from\"lit-html\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const s=globalThis;class i extends t{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){const r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=e(r,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return r}}i._$litElement$=!0,i[\"finalized\"]=!0,s.litElementHydrateSupport?.({LitElement:i});const o=s.litElementPolyfillSupport;o?.({LitElement:i});const n={_$AK:(t,e,r)=>{t._$AK(e,r)},_$AL:t=>t._$AL};(s.litElementVersions??=[]).push(\"4.2.1\");export{i as LitElement,n as _$LE};\n//# sourceMappingURL=lit-element.js.map\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=t=>(e,o)=>{void 0!==o?o.addInitializer((()=>{customElements.define(t,e)})):customElements.define(t,e)};export{t as customElement};\n//# sourceMappingURL=custom-element.js.map\n","import{defaultConverter as t,notEqual as e}from\"../reactive-element.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const o={attribute:!0,type:String,converter:t,reflect:!1,hasChanged:e},r=(t=o,e,r)=>{const{kind:n,metadata:i}=r;let s=globalThis.litPropertyMetadata.get(i);if(void 0===s&&globalThis.litPropertyMetadata.set(i,s=new Map),\"setter\"===n&&((t=Object.create(t)).wrapped=!0),s.set(r.name,t),\"accessor\"===n){const{name:o}=r;return{set(r){const n=e.get.call(this);e.set.call(this,r),this.requestUpdate(o,n,t)},init(e){return void 0!==e&&this.C(o,void 0,t,e),e}}}if(\"setter\"===n){const{name:o}=r;return function(r){const n=this[o];e.call(this,r),this.requestUpdate(o,n,t)}}throw Error(\"Unsupported decorator location: \"+n)};function n(t){return(e,o)=>\"object\"==typeof o?r(t,e,o):((t,e,o)=>{const r=e.hasOwnProperty(o);return e.constructor.createProperty(o,t),r?Object.getOwnPropertyDescriptor(e,o):void 0})(t,e,o)}export{n as property,r as standardProperty};\n//# sourceMappingURL=property.js.map\n","import{property as t}from\"./property.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */function r(r){return t({...r,state:!0,attribute:!1})}export{r as state};\n//# sourceMappingURL=state.js.map\n","import type {\n  LanguageDictionary,\n  SupportedLanguage,\n  I18nConfig,\n  NestedTranslation\n} from './types';\n\n// Import synchrone des dictionarys\nimport en from './locales/en.json';\nimport fr from './locales/fr.json';\n\nclass MyI18n {\n  private fallbackLanguage: SupportedLanguage;\n  private currentLanguage: SupportedLanguage;\n  private dictionaries: Map<SupportedLanguage, LanguageDictionary>;\n  private supportedLanguages: SupportedLanguage[];\n\n  constructor(config: I18nConfig = {}) {\n    this.fallbackLanguage = config.fallbackLanguage || 'en';\n    this.supportedLanguages = config.supportedLanguages || [\n      'en', 'fr'\n    ];\n\n    this.dictionaries = new Map<SupportedLanguage, LanguageDictionary>([\n      ['en', en as LanguageDictionary],\n      ['fr', fr as LanguageDictionary],\n    ]);\n\n    const homeAssistant = document.querySelector('home-assistant');\n    const detectedLang = homeAssistant?.hass?.selectedLanguage ||\n      homeAssistant?.hass?.language ||\n      config.defaultLanguage ||\n      this.fallbackLanguage;\n\n    this.currentLanguage = this.normalizeLanguage(detectedLang);\n\n    console.debug(`MyI18n initialized with language: ${this.currentLanguage}`);\n  }\n\n  private normalizeLanguage(lang: string): SupportedLanguage {\n    const normalized = lang.toLowerCase().split('-')[0] as SupportedLanguage;\n\n    if (this.supportedLanguages.includes(normalized)) {\n      return normalized;\n    }\n\n    console.warn(`Language '${lang}' not supported, falling back to '${this.fallbackLanguage}'`);\n    return this.fallbackLanguage;\n  }\n\n  private getNestedValue(obj: NestedTranslation, path: string): string | null {\n    const keys = path.split('.');\n    let current: any = obj;\n\n    for (const key of keys) {\n      if (current && typeof current === 'object' && key in current) {\n        current = current[key];\n      } else {\n        return null;\n      }\n    }\n\n    return typeof current === 'string' ? current : null;\n  }\n\n  _(key: string, params?: Record<string, string | number>): string {\n    let result: string | null = null;\n\n    const currentDict = this.dictionaries.get(this.currentLanguage);\n    if (currentDict) {\n      result = this.getNestedValue(currentDict, key);\n    }\n\n    if (result === null && this.currentLanguage !== this.fallbackLanguage) {\n      const fallbackDict = this.dictionaries.get(this.fallbackLanguage);\n      if (fallbackDict) {\n        result = this.getNestedValue(fallbackDict, key);\n      }\n    }\n\n    if (result === null) {\n      const errorPrefix = this.dictionaries.get(this.fallbackLanguage)\n        ? this.getNestedValue(this.dictionaries.get(this.fallbackLanguage)!, 'canNotFindTranslation')\n        : \"Translation not found: \";\n      result = (errorPrefix || \"Translation not found: \") + key;\n    }\n\n    if (params) {\n      result = this.replaceParams(result, params);\n    }\n\n    return result;\n  }\n\n  private replaceParams(text: string, params: Record<string, string | number>): string {\n    return text.replace(/\\{(\\w+)\\}/g, (match, key) => {\n      return key in params ? String(params[key]) : match;\n    });\n  }\n\n  setLanguage(lang: string): void {\n    const normalizedLang = this.normalizeLanguage(lang);\n\n    if (normalizedLang === this.currentLanguage) {\n      return;\n    }\n\n    if (!this.dictionaries.has(normalizedLang)) {\n      console.error(`Language '${normalizedLang}' is not loaded`);\n      return;\n    }\n\n    this.currentLanguage = normalizedLang;\n    console.debug(`Language changesd to '${normalizedLang}'`);\n\n    window.dispatchEvent(new CustomEvent('i18n-language-changesd', {\n      detail: { language: normalizedLang }\n    }));\n  }\n\n  getLanguage(): SupportedLanguage {\n    return this.currentLanguage;\n  }\n\n  getFallbackLanguage(): SupportedLanguage {\n    return this.fallbackLanguage;\n  }\n\n  hasTranslation(key: string, lang?: SupportedLanguage): boolean {\n    const targetLang = lang || this.currentLanguage;\n    const dict = this.dictionaries.get(targetLang);\n\n    if (!dict) {\n      return false;\n    }\n\n    return this.getNestedValue(dict, key) !== null;\n  }\n\n  getSupportedLanguages(): SupportedLanguage[] {\n    return [...this.supportedLanguages];\n  }\n\n  getLoadedLanguages(): SupportedLanguage[] {\n    return Array.from(this.dictionaries.keys());\n  }\n\n  getAvailableKeys(lang?: SupportedLanguage): string[] {\n    const targetLang = lang || this.currentLanguage;\n    const dict = this.dictionaries.get(targetLang);\n\n    if (!dict) {\n      return [];\n    }\n\n    return this.flattenKeys(dict);\n  }\n\n  private flattenKeys(obj: NestedTranslation, prefix = ''): string[] {\n    const keys: string[] = [];\n\n    for (const [key, value] of Object.entries(obj)) {\n      const fullKey = prefix ? `${prefix}.${key}` : key;\n\n      if (typeof value === 'string') {\n        keys.push(fullKey);\n      } else if (typeof value === 'object' && value !== null) {\n        keys.push(...this.flattenKeys(value as NestedTranslation, fullKey));\n      }\n    }\n\n    return keys;\n  }\n\n  getDictionary(lang?: SupportedLanguage): LanguageDictionary | undefined {\n    const targetLang = lang || this.currentLanguage;\n    return this.dictionaries.get(targetLang);\n  }\n\n  addDictionary(lang: SupportedLanguage, dictionary: LanguageDictionary): void {\n    this.dictionaries.set(lang, dictionary);\n    if (!this.supportedLanguages.includes(lang)) {\n      this.supportedLanguages.push(lang);\n    }\n    console.debug(`Dictionary for '${lang}' added/updated`);\n  }\n\n  mergeDictionary(lang: SupportedLanguage, partialDict: Partial<LanguageDictionary>): void {\n    const existingDict = this.dictionaries.get(lang);\n    if (existingDict) {\n      const merged: LanguageDictionary = { ...existingDict, ...partialDict } as LanguageDictionary;\n      this.dictionaries.set(lang, merged);\n    } else {\n      this.dictionaries.set(lang, partialDict as LanguageDictionary);\n    }\n    console.debug(`Dictionary for '${lang}' merged`);\n  }\n}\n\nconst i18n = new MyI18n();\nexport default i18n;\nexport { MyI18n };\n","import i18n from \"./translations/myi18n\";\n\ninterface HassDevice {\n  identifiers: Array<string | [string, string]>;\n  primary_config_entry: string;\n  name: string;\n  model?: string;\n  [key: string]: any;\n}\n\ninterface HassConfig {\n  devices: {\n    [device_id: string]: HassDevice;\n  };\n  [key: string]: any;\n}\n\ninterface DeviceInfo {\n  name: string;\n  elements: HassDevice[];\n}\n\ninterface MainDevice {\n  value: string;\n  text: string;\n}\n\nexport default class DeviceList {\n  private _hass: HassConfig;\n  public main_devices: MainDevice[];\n  public devices: { [key: string]: DeviceInfo };\n\n  constructor(hass: HassConfig) {\n    this._hass = hass;\n    this.main_devices = [];\n    this.devices = {};\n    this.init_devices();\n  }\n\n  private device_compare(a: MainDevice, b: MainDevice): number {\n    if (a.text < b.text) {\n      return -1;\n    } else if (a.text > b.text) {\n      return 1;\n    }\n    return 0;\n  }\n\n  get_by_name(name: string): DeviceInfo | undefined {\n    for (const id of this.main_devices) {\n      if (id.text === name) {\n        return this.devices[id.value];\n      }\n    }\n    return undefined;\n  }\n\n  private init_devices(): void {\n    for (const device_id in this._hass.devices) {\n      const dev = this._hass.devices[device_id];\n      if (!dev) continue;\n      \n      const dev_id = dev.identifiers[0];\n      if (!dev_id) continue;\n\n      if (Array.isArray(dev_id) && dev_id[0] === 'redsea') {\n        // Get only main device, not sub or cloud\n\tif (\n          !dev_id[1].includes(\"_head_\") &&\n            !dev_id[1].includes(\"_pump\") &&\n            dev.model !== 'ReefBeat'\n        ) {\n          this.main_devices.push({\n            value: dev.primary_config_entry,\n            text: dev.name\n          });\n        }\n\n        if (!Object.prototype.hasOwnProperty.call(this.devices, dev.primary_config_entry)) {\n          this.devices[dev.primary_config_entry] = {\n            name: dev.name,\n            elements: [dev]\n          };\n        } else {\n          this.devices[dev.primary_config_entry]?.elements.push(dev);\n          // Changes main device name with main device\n          if (dev_id.length === 2 && this.devices[dev.primary_config_entry]) {\n            this.devices[dev.primary_config_entry]!.name = dev.name;\n          }\n        }\n      }\n    }\n    this.main_devices.sort(this.device_compare);\n  }\n}\n\nexport function hexToRgb(hex: string): string | null {\n  const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n\n  if (!result || !result[1] || !result[2] || !result[3]) {\n    return null;\n  }\n\n  const rgb = `${parseInt(result[1], 16)},${parseInt(result[2], 16)},${parseInt(result[3], 16)}`;\n  return rgb;\n}\n\nexport function rgbToHex(orig: string): string {\n  const regex_trim = /[^#0-9a-f\\.\\(\\)rgba]+/gim;\n  const color = orig.replace(regex_trim, ' ').trim();\n\n  const regex_hex = /#(([0-9a-f]{1})([0-9a-f]{1})([0-9a-f]{1}))|(([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2}))/gi;\n  if (regex_hex.exec(color)) {\n    return color;\n  }\n  const regex_rgb = /rgba?\\([\\t\\s]*([0-9]{1,3})[\\t\\s]*[, ][\\t\\s]*([0-9]{1,3})[\\t\\s]*[, ][\\t\\s]*([0-9]{1,3})[\\t\\s]*([,\\/][\\t\\s]*[0-9\\.]{1,})?[\\t\\s]*\\);?/gim;\n  const matches = regex_rgb.exec(orig);\n\n  if (matches && matches[1] && matches[2] && matches[3]) {\n    const hex =\n      '#' +\n      (parseInt(matches[1]) | 1 << 8).toString(16).slice(1) +\n      (parseInt(matches[2]) | 1 << 8).toString(16).slice(1) +\n      (parseInt(matches[3]) | 1 << 8).toString(16).slice(1);\n    return hex;\n  } else {\n    return orig;\n  }\n}\n\nexport const off_color: string = \"150,150,150\";\nexport const button_color: string = \"0,60,78\";\n\nexport function toTime(time: number): string {\n  const seconds = time % 60;\n  const minutes = ((time - seconds) / 60) % 60;\n  const hours = (time - seconds - minutes * 60) / 3600;\n\n  return String(hours).padStart(2, '0') + \":\" +\n    String(minutes).padStart(2, '0') + \":\" +\n    String(seconds).padStart(2, '0');\n}\n\nfunction timeToString(time: number): string {\n  return String(Math.floor(time / 60)).padStart(2, '0') + ':' +\n    String(Math.floor(time % 60)).padStart(2, \"0\");\n}\n\nexport function stringToTime(str: string): number {\n  const s_time = str.split(\":\");\n  if (s_time.length < 2 || !s_time[0] || !s_time[1]) {\n    return 0;\n  }\n  return parseInt(s_time[0]) * 60 + parseInt(s_time[1]);\n}\n\nexport function create_select(\n  _shadowRoot: Document | ShadowRoot,\n  id: string,\n  options: string[],\n  selected: string | null = null,\n  translation: boolean = true,\n  suffix: string = '',\n  id_suffix: number = 1\n): HTMLDivElement {\n  const div = document.createElement('div');\n  const label = document.createElement('label');\n\n  label.htmlFor = id;\n  label.innerHTML = i18n._(id);\n\n  const node = document.createElement(\"select\");\n  node.id = id + '_' + id_suffix;\n\n  for (const option of options) {\n    const opt = document.createElement('option');\n    opt.value = option;\n\n    if (translation) {\n      opt.innerHTML = i18n._(option) + suffix;\n    } else {\n      opt.innerHTML = option + suffix;\n    }\n\n    if (selected !== null && selected === option) {\n      opt.selected = true;\n    }\n\n    node.appendChild(opt);\n  }\n\n  div.appendChild(label);\n  div.appendChild(node);\n\n  return div;\n}\n\nexport function create_hour(\n  _shadowRoot: Document | ShadowRoot,\n  id: string,\n  hour: number = 0,\n  id_suffix: number = 1\n): HTMLDivElement {\n  const div = document.createElement('div');\n  const label = document.createElement('label');\n\n  label.htmlFor = id;\n  label.innerHTML = i18n._(id);\n\n  const node = document.createElement(\"input\");\n  node.type = \"time\";\n  node.id = id + '_' + id_suffix;\n  node.value = timeToString(hour);\n\n  div.appendChild(label);\n  div.appendChild(node);\n\n  return div;\n}\n","import { css } from 'lit';\n\nexport default css`\n`;\n\n","type ClickHandlers = {\n  onClick?: (event: PointerEvent) => void;\n  onDoubleClick?: (event: PointerEvent) => void;\n  onHold?: (event: PointerEvent) => void;\n};\n\nexport function attachClickHandlers(\n  element: HTMLElement,\n  handlers: ClickHandlers,\n  options?: {\n    holdDelay?: number;        // durée pour hold (ms)\n    doubleClickDelay?: number; // délai double click (ms)\n  }\n) {\n  const holdDelay = options?.holdDelay ?? 500;\n  const doubleClickDelay = options?.doubleClickDelay ?? 250;\n\n  let holdTimeout: number | null = null;\n  let clickTimeout: number | null = null;\n  let clickCount = 0;\n  let holdTriggered = false;\n\n  function clearHold() {\n    if (holdTimeout !== null) {\n      clearTimeout(holdTimeout);\n      holdTimeout = null;\n    }\n  }\n\n  function clearClick() {\n    if (clickTimeout !== null) {\n      clearTimeout(clickTimeout);\n      clickTimeout = null;\n    }\n  }\n\n  element.addEventListener(\"contextmenu\", (event: Event) => {\n    event.preventDefault();\n  });\n  \n  element.addEventListener(\"pointerdown\", (event) => {\n    holdTriggered = false;\n\n    holdTimeout = window.setTimeout(() => {\n      holdTriggered = true;\n      handlers.onHold?.(event);\n    }, holdDelay);\n  });\n\n  element.addEventListener(\"pointerup\", (event) => {\n    clearHold();\n\n    // Si hold déclenché → on ignore click/double click\n    if (holdTriggered) return;\n\n    clickCount++;\n\n    if (clickCount === 1) {\n      clickTimeout = window.setTimeout(() => {\n        handlers.onClick?.(event);\n        clickCount = 0;\n      }, doubleClickDelay);\n    }\n\n    if (clickCount === 2) {\n      clearClick();\n      handlers.onDoubleClick?.(event);\n      clickCount = 0;\n    }\n  });\n\n  element.addEventListener(\"pointerleave\", () => {\n    clearHold();\n  });\n}\n","/**\n * SafeEval - Évaluateur d'expressions sécurisé\n * \n * Remplace eval() de manière sécurisée pour évaluer des expressions\n * dans un contexte contrôlé.\n * \n * Supporte:\n * - Opérations arithmétiques: +, -, *, /, %, **\n * - Comparaisons: ==, !=, <, >, <=, >=, ===, !==\n * - Opérateurs booléens: &&, ||, !\n * - Ternaire: condition ? valTrue : valFalse\n * - Traductions: i18n._('key') ou ${i18n._('key')}\n * - Accès aux propriétés: obj.prop, obj['prop'], obj.nested.prop\n * - Fonctions: Math.round(), Math.floor(), parseFloat(), etc.\n * - Templates: ${expression}\n */\n\nimport i18n from '../translations/myi18n';\n\nexport interface SafeEvalContext {\n  [key: string]: any;\n}\n\nexport class SafeEval {\n  private context: SafeEvalContext;\n  private allowedFunctions: Set<string>;\n\n  constructor(context: SafeEvalContext = {}) {\n    this.context = {\n      ...context,\n      i18n: i18n,\n      iconv: i18n,\n      Math: Math,\n      parseFloat: parseFloat,\n      parseInt: parseInt,\n      Number: Number,\n      String: String,\n      Boolean: Boolean,\n      Array: Array,\n      Object: Object,\n      Date: Date,\n      JSON: JSON,\n    };\n\n    // Liste blanche des fonctions autorisées\n    this.allowedFunctions = new Set([\n      'Math.round', 'Math.floor', 'Math.ceil', 'Math.abs',\n      'Math.min', 'Math.max', 'Math.pow', 'Math.sqrt',\n      'parseFloat', 'parseInt', 'Number', 'String',\n      'toFixed', 'toString', 'toLowerCase', 'toUpperCase',\n      'trim', 'split', 'join', 'slice', 'substring',\n    ]);\n  }\n\n  /**\n   * Évalue une expression dans le contexte\n   */\n  public evaluate(expression: string | undefined | null): any {\n    if (!expression || typeof expression !== 'string') {\n      return expression;\n    }\n\n    try {\n      \n      // Si contient des templates ${...}, les traiter\n      if (expression.includes('${')) {\n        const processed = this.processTemplates(expression);\n        \n        // Si après traitement c'est une simple valeur, la retourner\n        if (this.isSimpleValue(processed)) {\n          const result = this.parseSimpleValue(processed);\n          return result;\n        }\n        \n        return processed;\n      }\n\n      // Pas de template ${...}\n      \n      // Vérifier si c'est une valeur simple\n      if (this.isSimpleValue(expression)) {\n        const result = this.parseSimpleValue(expression);\n        return result;\n      }\n\n      // Sinon, évaluer comme expression\n      const result = this.evaluateExpression(expression);\n      return result;\n    } catch (error) {\n      console.error('SafeEval error:', error, 'Expression:', expression);\n      // Ne pas retourner la string ! Retourner undefined pour éviter des boolean trompeurs\n      return undefined;\n    }\n  }\n\n  /**\n   * Traite les templates ${...}\n   * Les i18n._() doivent être à l'intérieur des ${...}\n   */\n  private processTemplates(text: string): string {\n    // Si pas de ${}, retourner tel quel\n    if (!text.includes('${')) {\n      return text;\n    }\n\n    return text.replace(/\\$\\{([^}]+)\\}/g, (match, expression) => {\n      try {\n        const trimmed = expression.trim();\n        \n        // D'abord traiter les i18n._() dans l'expression\n        const processedExpr = this.processTranslationsInExpression(trimmed);\n        \n        const result = this.evaluateExpression(processedExpr);\n        return result !== undefined && result !== null ? String(result) : '';\n      } catch (error) {\n        return match;\n      }\n    });\n  }\n\n  /**\n   * Traite les templates ${...} dans une expression JavaScript\n   * Préserve les types en ajoutant des quotes pour les strings\n   */\n  private processTemplatesForExpression(expression: string): string {\n    // Si pas de ${}, retourner tel quel\n    if (!expression.includes('${')) {\n      return expression;\n    }\n\n    return expression.replace(/\\$\\{([^}]+)\\}/g, (match, innerExpr) => {\n      try {\n        const trimmed = innerExpr.trim();\n        \n        // D'abord traiter les i18n._() dans l'expression\n        const processedExpr = this.processTranslationsInExpression(trimmed);\n        \n        const result = this.evaluateExpression(processedExpr);\n        \n        // Convertir le résultat en représentation JavaScript valide\n        if (result === undefined || result === null) {\n          return String(result);\n        }\n        \n        // Si c'est une string, ajouter des quotes\n        if (typeof result === 'string') {\n          return `'${result.replace(/'/g, \"\\\\'\")}'`; // Échapper les quotes\n        }\n        \n        // Si c'est un number ou boolean, convertir directement\n        if (typeof result === 'number' || typeof result === 'boolean') {\n          return String(result);\n        }\n        \n        // Pour les autres types, convertir en JSON\n        return JSON.stringify(result);\n      } catch (error) {\n        return match;\n      }\n    });\n  }\n\n  /**\n   * Traite les traductions i18n._() dans une expression\n   */\n  private processTranslationsInExpression(expression: string): string {\n    // Remplacer i18n._('key') ou iconv._('key') par la traduction\n    return expression.replace(\n      /(i18n|iconv)\\._\\(\\s*['\"]([^'\"]+)['\"]\\s*\\)/g,\n      (match, obj, key) => {\n        try {\n          const translation = i18n._(key);\n          // Retourner la traduction entre quotes pour l'évaluation\n          return `\"${translation}\"`;\n        } catch (error) {\n          return `\"${key}\"`;\n        }\n      }\n    );\n  }\n\n  /**\n   * Vérifie si c'est une valeur simple (pas besoin d'évaluation)\n   */\n  private isSimpleValue(value: string): boolean {\n    const trimmed = value.trim();\n    \n    // Nombre\n    if (/^-?\\d+(\\.\\d+)?$/.test(trimmed)) {\n      return true;\n    }\n\n    // String entre quotes\n    if (/^['\"].*['\"]$/.test(trimmed)) {\n      return true;\n    }\n\n    // Boolean\n    if (trimmed === 'true' || trimmed === 'false') {\n      return true;\n    }\n\n    // null ou undefined\n    if (trimmed === 'null' || trimmed === 'undefined') {\n      return true;\n    }\n\n    return false;\n  }\n\n  /**\n   * Évalue une expression JavaScript\n   */\n  private evaluateExpression(expression: string): any {\n    const trimmed = expression.trim();\n\n    // Valeur simple\n    if (this.isSimpleValue(trimmed)) {\n      return this.parseSimpleValue(trimmed);\n    }\n\n    // Variable simple (ex: \"myVar\")\n    if (/^[a-zA-Z_$][a-zA-Z0-9_$]*$/.test(trimmed)) {\n      return this.getNestedProperty(this.context, trimmed);\n    }\n\n    // Propriété imbriquée (ex: \"obj.prop.nested\")\n    if (/^[a-zA-Z_$][a-zA-Z0-9_$.[\\]'\"]*$/.test(trimmed) && !this.containsOperator(trimmed)) {\n      return this.getNestedProperty(this.context, trimmed);\n    }\n\n    // Expression complexe - utiliser Function\n    return this.evaluateComplexExpression(trimmed);\n  }\n\n  /**\n   * Parse une valeur simple\n   */\n  private parseSimpleValue(value: string): any {\n    const trimmed = value.trim();\n\n    // Nombre\n    if (/^-?\\d+(\\.\\d+)?$/.test(trimmed)) {\n      return parseFloat(trimmed);\n    }\n\n    // String\n    if (/^['\"].*['\"]$/.test(trimmed)) {\n      return trimmed.slice(1, -1);\n    }\n\n    // Boolean\n    if (trimmed === 'true') return true;\n    if (trimmed === 'false') return false;\n\n    // null\n    if (trimmed === 'null') return null;\n    if (trimmed === 'undefined') return undefined;\n\n    return value;\n  }\n\n  /**\n   * Vérifie si l'expression contient des opérateurs\n   */\n  private containsOperator(expression: string): boolean {\n    // Exclure les points des propriétés\n    const operators = [\n      '+', '-', '*', '/', '%', '**',\n      '==', '!=', '===', '!==',\n      '<', '>', '<=', '>=',\n      '&&', '||', '!',\n      '?', ':',\n      '(', ')'\n    ];\n\n    for (const op of operators) {\n      if (expression.includes(op)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  /**\n   * Récupère une propriété imbriquée\n   */\n  private getNestedProperty(obj: any, path: string): any {\n    if (!path) return undefined;\n\n    // Gérer les accès avec crochets: obj['prop']\n    path = path.replace(/\\[['\"]([^'\"]+)['\"]\\]/g, '.$1');\n    \n    const parts = path.split('.');\n    let current = obj;\n\n    for (const part of parts) {\n      if (current === null || current === undefined) {\n        return undefined;\n      }\n      current = current[part];\n    }\n\n    return current;\n  }\n\n  /**\n   * Évalue une expression complexe avec Function\n   */\n  private evaluateComplexExpression(expression: string): any {\n    try {\n      // Créer une fonction avec les variables du contexte\n      const contextKeys = Object.keys(this.context);\n      const contextValues = Object.values(this.context);\n\n      // Créer la fonction\n      const func = new Function(\n        ...contextKeys,\n        `\"use strict\"; return (${expression});`\n      );\n\n      // Exécuter avec les valeurs du contexte\n      const result = func(...contextValues);\n      return result;\n    } catch (error) {\n      //console.error('Complex expression evaluation error:', expression, error);\n      //throw error;\n      return expression;\n    }\n  }\n\n  /**\n   * Ajoute ou met à jour une variable dans le contexte\n   */\n  public setContext(key: string, value: any): void {\n    this.context[key] = value;\n  }\n\n  /**\n   * Ajoute plusieurs variables au contexte\n   */\n  public setContextBatch(context: SafeEvalContext): void {\n    Object.assign(this.context, context);\n  }\n\n  /**\n   * Récupère le contexte complet\n   */\n  public getContext(): SafeEvalContext {\n    return { ...this.context };\n  }\n\n  /**\n   * Réinitialise le contexte\n   */\n  public resetContext(newContext: SafeEvalContext = {}): void {\n    this.context = {\n      ...newContext,\n      i18n: i18n,\n      iconv: i18n,\n      Math: Math,\n      parseFloat: parseFloat,\n      parseInt: parseInt,\n      Number: Number,\n      String: String,\n      Boolean: Boolean,\n    };\n  }\n\n  /**\n   * Évalue plusieurs expressions\n   */\n  public evaluateBatch(expressions: string[]): any[] {\n    return expressions.map(expr => this.evaluate(expr));\n  }\n\n  /**\n   * Vérifie si une expression est valide (sans l'évaluer)\n   */\n  public isValidExpression(expression: string): boolean {\n    try {\n      // Vérifier la syntaxe sans évaluer\n      const contextKeys = Object.keys(this.context);\n      new Function(...contextKeys, `\"use strict\"; return (${expression});`);\n      return true;\n    } catch (error) {\n      return false;\n    }\n  }\n\n  /**\n   * Évalue une condition (retourne toujours un boolean)\n   * Force l'évaluation même sans ${}\n   * Supporte les templates ${...} dans les conditions\n   */\n  public evaluateCondition(condition: string | undefined | null): boolean {\n    // Protection contre les valeurs undefined/null/empty\n    if (!condition || typeof condition !== 'string' || condition.trim() === '') {\n      return false; // Condition invalide = pas désactivé par défaut\n    }\n    \n    try {\n      \n      // Si la condition contient des ${...}, les traiter en préservant les types\n      let processedCondition = condition.trim();\n      if (processedCondition.includes('${')) {\n        processedCondition = this.processTemplatesForExpression(processedCondition);\n      }\n      \n      // Forcer l'évaluation directe comme expression\n      const result = this.evaluateComplexExpression(processedCondition);\n      \n      // S'assurer que c'est bien un boolean\n      if (typeof result === 'boolean') {\n        return result;\n      }\n      \n      // Sinon convertir en boolean\n      return Boolean(result);\n    } catch (error) {\n      console.error('Condition evaluation error:', condition, error);\n      // En cas d'erreur, retourner false par sécurité\n      return false;\n    }\n  }\n\n  /**\n   * Évalue un template complet\n   * Les i18n._() doivent être dans ${...}\n   */\n  public evaluateTemplate(template: string | undefined | null): string {\n    if (!template || typeof template !== 'string') {\n      return '';\n    }\n    \n    try {\n      // Traiter les templates ${...} qui contiennent les i18n._()\n      const result = this.processTemplates(template);\n      return result;\n    } catch (error) {\n      console.error('Template evaluation error:', template, error);\n      return template;\n    }\n  }\n}\n\n/**\n * Instance globale pour faciliter l'utilisation\n */\nexport const safeEval = new SafeEval();\n\n/**\n * Fonction helper pour évaluer rapidement\n */\nexport function evaluate(expression: string, context: SafeEvalContext = {}): any {\n  const evaluator = new SafeEval(context);\n  return evaluator.evaluate(expression);\n}\n\n/**\n * Fonction helper pour évaluer un template\n */\nexport function evaluateTemplate(template: string, context: SafeEvalContext = {}): string {\n  const evaluator = new SafeEval(context);\n  return evaluator.evaluateTemplate(template);\n}\n\n/**\n * Fonction helper pour évaluer une condition\n */\nexport function evaluateCondition(condition: string, context: SafeEvalContext = {}): boolean {\n  const evaluator = new SafeEval(context);\n  return evaluator.evaluateCondition(condition);\n}\n","import { html, LitElement, PropertyValues } from \"lit\";\nimport { property, state } from \"lit/decorators.js\";\nimport { off_color } from \"../../common.js\";\nimport i18n from \"../../translations/myi18n.js\";\n\nimport { attachClickHandlers } from \"./click_handler\"\nimport { SafeEval, SafeEvalContext } from '../../utils/SafeEval';\n\n// Import des types depuis le dossier types\nimport type {\n  StateObject,\n  HassConfig,\n  DeviceEntity,\n  DeviceConfig,\n  Device,\n  ActionData,\n  Action,\n  ElementConfig\n} from \"../../types/element\";\n\n\nexport class MyElement extends LitElement {\n  @property({ type: Object, attribute: false })\n  stateObj: StateObject | null = null;\n\n  @property({ type: Boolean })\n  stateOn: boolean = false;\n\n\n  @state()\n  protected _hass: HassConfig | null = null;\n  \n  @state()\n  protected conf?: ElementConfig;\n  \n  @state()\n  protected device?: Device;\n  \n  @state()\n  protected color?: string;\n  \n  @state()\n  protected alpha?: number;\n  \n  @state()\n  protected label: string = '';\n  \n  @state()\n  protected stateObjTarget?: StateObject;\n  \n  @state()\n  protected c?: string;\n\n  protected evalCtx: SafeEvalContext;\n\n  private static createEntitiesContext(device: any, hass: any): Record<string, any> {\n    const entitiesObj: Record<string, any> = {};\n    \n    if (device?.entities && hass?.states) {\n      for (const key in device.entities) {\n\tconst entity = device.entities[key];\n\tif (entity?.entity_id && hass.states[entity.entity_id]) {\n          entitiesObj[key] = hass.states[entity.entity_id];\n\t}\n      }\n    }\n    \n    return entitiesObj;\n  }\n\n\n  \n  constructor() {\n    super();\n    attachClickHandlers(this, {\n      onClick: () => {\n\tthis._click();\n      },\n      \n      onDoubleClick: () => {\n\tthis._dblclick();\n      },\n      \n      onHold: () => {\n\tthis._longclick();\n      }\n    });\n  }\n\n\n  createContext(){\n    if(!this.evalCtx){\n\tconst entitiesContext = MyElement.createEntitiesContext(this.device, this._hass);\n\tconst context = {\n\t  stateObj: this.stateObj,\n\t  entity: entitiesContext,    // Accès via entities.nom_entite.state (alias)\n\t  device: this.device,\n\t  config: this.conf,\n\t  state: this.stateObj?.state,\n\t  name: this.conf.name,\n\t  i18n: i18n,\n\t};\n      this.evalCtx = new SafeEval(context);\n    }      \n  }\n  \n  evaluate(expression: string){\n    this.createContext();\n    return this.evalCtx.evaluate(expression);\n  }\n\n  evaluateCondition(expression: string){\n    this.createContext();\n    return this.evalCtx.evaluateCondition(expression);\n  }\n\n  has_changed(hass: HassConfig): boolean {\n    let res = false;\n    if (this.stateObj) {\n      const so = hass.states[this.stateObj.entity_id];\n      if (so && this.stateObj.state !== so.state) {\n        res = true;\n      } else if (this.conf && \"target\" in this.conf && this.stateObjTarget) {\n        const sot = hass.states[this.stateObjTarget.entity_id];\n        if (sot && this.stateObjTarget.state !== sot.state) {\n          res = true;\n        }\n      }\n    }\n    return res;\n  }\n\n  set hass(obj: HassConfig) {\n    this._hass = obj;\n    if (this.stateObj) {\n      const so = this._hass.states[this.stateObj.entity_id];\n      if (so && this.stateObj.state !== so.state) {\n        this.stateObj = so;\n      }\n      else if (this.conf && \"target\" in this.conf && this.stateObjTarget) {\n\tconst sot = this._hass.states[this.stateObjTarget.entity_id];\n        if (sot && this.stateObjTarget.state !== sot.state) {\n          this.stateObjTarget = sot || null;\n          this.stateObj = so; // force render\n\t}\n      }\n    }\n  }\n\n  setConfig(conf: ElementConfig): void {\n    this.conf = conf;\n  }\n\n\n\n  /**\n   * Accède à une propriété imbriquée d'un objet via un chemin\n   * Ex: getNestedProperty({a: {b: {c: 1}}}, 'a.b.c') => 1\n   */\n  private getNestedProperty(obj: any, path: string): any {\n    return path.split('.').reduce((current, key) => {\n      return current?.[key];\n    }, obj);\n  }\n  \n\n  static create_element(hass: HassConfig, config: ElementConfig, device: Device): MyElement {\n    let Element = customElements.get(config.type) as typeof MyElement;\n    let label_name = '';\n    console.debug(\"Creating element\", config.type);\n\n    let elt = new Element();\n    elt.device = device;\n    elt.stateOn = elt.device.is_on();\n    elt.hass = hass;\n    elt.conf = config;\n    elt.color = elt.device.config.color;\n    elt.alpha = elt.device.config.alpha;\n\n    if ('stateObj' in config && !config.stateObj) {\n      elt.stateObj = null;\n    } else {\n      const entityData = elt.device.entities[config.name];\n      if (entityData) {\n        elt.stateObj = hass.states[entityData.entity_id] || null;\n      }\n    }\n\n    if ('label' in config) {\n      if (typeof config.label === 'boolean' && config.label !== false) {\n\tlabel_name = config.name;\n      }\n      else if (config.label && typeof config.label !== 'boolean') {\n\t// Créer un objet avec toutes les entités du device\n\tconst entitiesContext = MyElement.createEntitiesContext(device, hass);\n\t\n\tconst context = {\n\t  stateObj: elt.stateObj,\n\t  entity: entitiesContext,    // Accès via entities.nom_entite.state (alias)\n\t  device: device,\n\t  config: config,\n\t  state: elt.stateObj?.state,\n\t  name: config.name,\n\t  i18n: i18n\n\t};\n\telt.evalCtx = new SafeEval(context);\n\tlabel_name = elt.evaluate(config.label);\n      }\n    }\n    if (\"target\" in config && elt.device && config.target) {\n      const targetEntity = elt.device.entities[config.target];\n      if (targetEntity) {\n        elt.stateObjTarget = hass.states[targetEntity.entity_id] || null;\n      }\n    }\n\n    elt.label = label_name;\n    return elt;\n  }\n\n  get_style(css_level: string = 'css'): string {\n    let style = '';\n    //Set device color patch\n    if (this.conf && css_level in this.conf) {\n      let o_style = structuredClone(this.conf[css_level]);\n      let device_color=this.device.config.color;\n      if (!this.device.is_on() ){\n\tdevice_color=off_color;\n      }\n      if(o_style['background-color']==\"$DEVICE-COLOR$\"){\n\to_style['background-color']=\"rgb(\"+device_color+\")\";\n      }\n      else  if(o_style['background-color']==\"$DEVICE-COLOR-ALPHA$\"){\n\to_style['background-color']=\"rgba(\"+device_color+\",\"+this.device.config.alpha+\")\";\n      }\n      style = Object.entries(o_style).map(([k, v]) => `${k}:${v}`).join(';');\n    }\n    return style;\n  }\n\n  get_entity(entity_translation_value: string): StateObject {\n    if (!this._hass || !this.device) {\n      throw new Error(\"Hass or device not initialized\");\n    }\n    const entity = this.device.entities[entity_translation_value];\n    if (!entity) {\n      throw new Error(`Entity ${entity_translation_value} not found`);\n    }\n    const state = this._hass.states[entity.entity_id];\n    if (!state) {\n      throw new Error(`State for ${entity.entity_id} not found`);\n    }\n    return state;\n  }\n\n  protected _render(style: string): any {\n    return html``;\n  }\n\n  override render() {\n    let value: string | null = null;\n    if (this.stateObj !== null) {\n      value = this.stateObj.state;\n    }\n\n    //if (this.conf && 'disabled_if' in this.conf && this.conf.disabled_if) {\n    if (this.evaluateCondition(this.conf?.disabled_if)) {\n      return html`<br />`;\n    }\n\n    if (!this.stateOn) {\n      this.c = off_color;\n    } else {\n      this.c = this.color;\n    }\n\n    return html`\n<div class=\"${this.conf?.class || ''}\" style=\"${this.get_style()}\">\n${this._render(this.get_style('css'))}\n</div>\n`;\n  }\n\n  async run_actions(actions: Action | Action[]): Promise<void> {\n    let actionsArray: Action[] = Array.isArray(actions) ? actions : [actions];\n\n    for (let action of actionsArray) {\n      if (!(\"enabled\" in action) || action.enabled) {\n        if (action.domain === \"redsea_ui\") {\n          switch (action.action) {\n            case \"dialog\":\n              this.dispatchEvent(\n                new CustomEvent(\"display-dialog\", {\n                  bubbles: true,\n                  composed: true,\n                  detail: {\n                    type: (action.data as ActionData).type,\n                    overload_quit: (action.data as ActionData).overload_quit,\n                    elt: this,\n                  }\n                })\n              );\n              break;\n\n            case \"exit-dialog\":\n              this.dispatchEvent(\n                new CustomEvent(\"quit-dialog\", {\n                  bubbles: true,\n                  composed: true,\n                  detail: {}\n\t\t})\n              );\n              break;\n\t    case \"message_box\":\n\t      let str = '';\n\t      if (typeof action.data === 'string') {\n\t\tstr = this.evaluate(action.data);\n\t      } else {\n\t\tstr = JSON.stringify(action.data);\n\t      }\n\t      this.msgbox(str);\n\t      break;\n\t  }\n        } else {\n          let a_data = structuredClone(action.data);\n\n          if (a_data === \"default\" && this.stateObj) {\n            a_data = { entity_id: this.stateObj.entity_id };\n          } else if (typeof a_data === 'object' && a_data !== null && \"entity_id\" in a_data) {\n            a_data.entity_id = this.get_entity((action.data as ActionData).entity_id!).entity_id;\n          }\n\n          console.debug(\"Call Service\", action.domain, action.action, a_data);\n          this._hass?.callService(action.domain, action.action, a_data);\n        }\n      }\n    }\n  }\n\n\n  _click(): void {\n    if (this.conf?.tap_action){//this.conf && 'tap_action' in this.conf) {\n      this.run_actions(this.conf.tap_action!);\n    }\n  }\n\n  _longclick(): void {\n    if (this.conf && \"hold_action\" in this.conf) {\n      this.run_actions(this.conf.hold_action!);\n    }\n  }\n\n  _dblclick(): void {\n    if (this.conf && \"double_tap_action\" in this.conf) {\n      this.run_actions(this.conf.double_tap_action!);\n    }\n  }\n\n  msgbox(msg: string): void {\n    this.dispatchEvent(\n      new CustomEvent(\"hass-notification\", {\n        bubbles: true,\n        composed: true,\n        detail: {\n          message: msg\n        }\n      })\n    );\n  }\n}\n","export function isObject(item: unknown): item is Record<string, any> {\n  return (item !== null && typeof item === 'object' && !Array.isArray(item));\n}\n\nexport function mergeDeep<T extends Record<string, any>>(target: T, ...sources: Partial<T>[]): T {\n  if (!sources.length) return target;\n  const source = sources.shift();\n\n  if (isObject(target) && isObject(source)) {\n    for (const key in source) {\n      if (isObject(source[key])) {\n        if (!target[key]) Object.assign(target, { [key]: {} });\n        mergeDeep(target[key] as Record<string, any>, source[key] as Record<string, any>);\n      } else {\n        Object.assign(target, { [key]: source[key] });\n      }\n    }\n  }\n\n  return mergeDeep(target, ...sources);\n}\n\nexport function merge<T extends Record<string, any>>(target: T, source: Partial<T>): T {\n  return mergeDeep(structuredClone(target), source);\n}\n","import { TemplateResult, LitElement, html } from \"lit\";\nimport { customElement, property, state } from \"lit/decorators.js\";\nimport DeviceList from \"../common\";\nimport { MyElement }  from \"./base/element\";\nimport { merge } from \"../merge\";\nimport i18n from \"../translations/myi18n\";\n\nimport type { HassConfig, Device, DeviceInfo } from \"../types/index\";\n\n\n\n@customElement('rs-device')\nexport class RSDevice extends LitElement {\n\n  @state()\n  public entities: Record<string, any> = {};\n  \n  @state()\n  public config: any; \n  \n  @state()\n  protected _hass: HassConfig | null = null;\n  \n  @state()\n  protected device: DeviceInfo | null = null;\n  \n  @state()\n  protected initial_config: any;\n  \n  @state()\n  protected user_config: any;\n  \n  @state()\n  protected _elements: any = {};\n\n  @property({ type: Boolean })\n  to_render: boolean = false;\n  \n  constructor() {\n    super();\n  }\n\n  override render(){\n    return this._render();\n  }\n\n  _render(){\n    return html`RSDEVICE Base class`;\n  }\n\n  _setting_hass(obj){\n    this._hass=obj;\n    let re_render=false;\n    for (let element in this._elements){\n      let elt = this._elements[element];\n      if ('master' in elt.conf && elt.conf.master){\n\tif(elt.has_changed(obj)){\n\t  re_render=true;\n\t}\n      }\n      elt.hass=obj;\n    }\n    if(re_render){\n      this.to_render=true;\n      this.render();\n    }\n  }\n  \n  set hass(obj: HassConfig) {\n    this._setting_hass(obj);\n  }\n\n  get hass(): HassConfig | null {\n    return this._hass;\n  }\n\n  setConfig(config: any): void {\n    this.user_config = config;\n  }\n\n  /**\n   * Recursively sets nested properties in a target object\n   * Replaces the unsafe eval() version\n   */\n  private setNestedProperty(obj: any, path: string, value: any): void {\n    const keys = path.split('.');\n    let current = obj;\n    \n    // Navigate to the parent of the target property\n    for (let i = 0; i < keys.length - 1; i++) {\n      const key = keys[i];\n      if (!(key in current) || typeof current[key] !== 'object') {\n        current[key] = {};\n      }\n      current = current[key];\n    }\n    \n    // Set the final property\n    const lastKey = keys[keys.length - 1];\n    current[lastKey] = value;\n  }\n\n  /**\n   * Find and apply leaf values to configuration\n   * Safe replacement for eval()-based find_leaves\n   */\n  private applyLeaves(tree: any, basePath: string = ''): void {\n    const keys = Object.keys(tree);\n    \n    // Check if this is a leaf node (array-like object with numeric keys)\n    if (keys.length > 0 && keys[0] === '0') {\n      // This is a leaf value, apply it to the config\n      this.setNestedProperty(this.config, basePath, tree);\n      return;\n    }\n    \n    // Recursively process child nodes\n    for (const key of keys) {\n      const newPath = basePath ? `${basePath}.${key}` : key;\n      this.applyLeaves(tree[key], newPath);\n    }\n  }\n\n  get_entity(entity_translation_value: string): any {\n    if (!this._hass || !this.entities) {\n      return null;\n    }\n    const entity = this.entities[entity_translation_value];\n    if (!entity) {\n      return null;\n    }\n    return this._hass.states[entity.entity_id];\n  }\n\n  update_config(): void {\n    this.config = JSON.parse(JSON.stringify(this.initial_config));\n    \n    if (this.user_config && \"conf\" in this.user_config && this.device) {\n      const model = this.device.elements[0].model;\n      \n      if (model && model in this.user_config.conf) {\n        const device_conf = this.user_config.conf[model];\n        \n        // Apply common configuration\n        if ('common' in device_conf) {\n          this.applyLeaves(device_conf.common);\n        }\n        \n        // Apply device-specific configuration\n        if ('devices' in device_conf && this.device.name in device_conf.devices) {\n          this.config = merge(\n            this.config,\n            this.user_config.conf[model].devices[this.device.name]\n          );\n        }\n      }\n    }\n    \n    // Send dialogs configuration\n    if (this.config.dialogs) {\n      this.dispatchEvent(\n        new CustomEvent(\"config-dialog\", {\n          bubbles: true,\n          composed: true,\n          detail: {\n            dialogs: this.config.dialogs,\n            device: this\n          }\n        })\n      );\n    }\n  }\n\n  static create_device(\n    tag_name: string,\n    hass: HassConfig,\n    config: any,\n    device: DeviceInfo\n  ): RSDevice | null {\n    const Element = customElements.get(tag_name);\n    \n    if (!Element) {\n      console.error(`Custom element ${tag_name} not found`);\n      return null;\n    }\n    \n    const elt = new (Element as any)() as RSDevice;\n    elt.hass = hass;\n    elt.device = device;\n    elt.setConfig(config);\n    \n    return elt;\n  }\n\n  /*\n   * Get all entities linked to this redsea device\n   */\n  _populate_entities(){\n    if (this._hass && this.device){\n      for (const entity of this._hass.entities || []){\n        if(entity.device_id == this.device.elements[0]?.id){\n          this.entities[entity.translation_key]=entity;\n        }\n      }\n    }\n    else {\n      console.error(\"_populate_entities() failed, _hass or device object is null\");\n    }\n  }//end of function - _populate_entities\n\n  /*\n   * Check is the current device is disabled or not\n   */\n  is_disabled(){\n    if (!this.device) return true;\n    \n    let disabled=false;\n    let sub_nb=this.device.elements.length;\n    for( let i = 0; i<sub_nb; i++){\n      if (this.device.elements[i]?.disabled_by!=null){\n        disabled=true;\n        break;\n      }\n    }\n    return disabled;\n  }//end of function is_disabled\n\n\n  /*\n   * Get the state of the device on or off.\n   */\n  is_on(): boolean{\n    if (!this._hass || !this.entities['device_state']) return false;\n    return (this._hass.states[this.entities['device_state'].entity_id]?.state=='on');\n  }//end of function - is_on\n\n  /*\n   * Special render if the device is disabled or in maintenance mode in HA\n   */\n  _render_disabled(){\n    let reason: string | null = null;\n    let maintenance : TemplateResult  = html``;\n    \n    if (this.is_disabled()){\n      reason=\"disabledInHa\";\n    }\n    else if (this._hass && this.entities['maintenance'] && \n             this._hass.states[this.entities['maintenance'].entity_id]?.state=='on'){\n      reason=\"maintenance\";\n      // if in maintenance mode, display maintenance switch\n      let elements: any[] =[];\n      for(const i in this.config.elements){\n        elements.push(this.config.elements[i]);\n      }\n\n      for ( const swtch of elements){\n        if (swtch.name==\"maintenance\"){\n          if (this._hass) {\n            let maintenance_button=MyElement.create_element(this._hass,swtch,this);\n            maintenance=html`${maintenance_button}`;\n          }\n          break;\n        }\n      }\n    }\n    \n    if (reason==null){\n      return null;\n    }\n    \n    return html`<div class=\"device_bg\">\n<img class=\"device_img_disabled\" id=d_img\" alt=\"\"  src='${this.config.background_img}'/>\n<p class='disabled_in_ha'>${i18n._(reason)}</p>\n${maintenance}\n</div\">`;\n  }//end of function _render_disabled\n\n  /*\n   * Build a css style string according to given json configuration\n   * @conf: the css definition\n   */\n  get_style(conf){\n    let style='';\n    if(conf && 'css' in conf){\n      style=Object.entries(conf.css).map(([k, v]) => `${k}:${v}`).join(';');\n    }\n    return style;\n  }//end of function get_style\n  \n  /*\n   * Render a single element: switch, sensor...\n   * @conf: the json configuration for the element\n   * @state: the state of the device on or off to adapt the render\n   * @put_in: a grouping div to put element on\n   */\n  _render_element(conf: any, state: boolean, put_in: string | null){\n    let sensor_put_in=null;\n    //Element is groupped with others \n    if (\"put_in\" in conf){\n      sensor_put_in=conf.put_in;\n    }\n\n    //Element is disabled or not in the requested group\n    if ( ('disabled' in conf && conf.disabled==true) || \n         (sensor_put_in!=put_in) ){\n      return html``;\n    }\n    \n    let element: MyElement | null = null;\n    if (conf.name in this._elements){\n      element= this._elements[conf.type+'.'+conf.name];\n      if (element) {\n        element.stateOn=state;\n      }\n    }\n    else {\n      if (this._hass) {\n        element=MyElement.create_element(this._hass,conf,this);\n        this._elements[conf.type+'.'+conf.name]=element;\n      }\n    }\n    return html`${element}`;\n  }//end of function - _render_actuator\n  \n  /*\n   * Render all elements that are declared in the configuration of the device\n   * @state: the state of the device on or off to adapt the render\n   * @put_in: a grouping div to put element on\n   */\n  _render_elements(state: boolean, put_in: string | null=null){\n    let elements: any[] = [];\n    for(const i in this.config.elements){\n      elements.push(this.config.elements[i]);\n    }\n    return html `${elements.map(conf => this._render_element(conf,state,put_in))}`;\n  }//end of function - _render_elements\n\n}\n\nexport default RSDevice;\n","import {css} from 'lit';\n\n\nexport default css`\n\n\n#window-mask{\nposition: absolute;\ntop: 0px;\nleft: 0px;\nwidth: 100%;\nheight: 100%;\n// text-align:center;background-color: rgba(175,175,175,0.8);\nz-index:6;\n// display: flex hidden;display: none;\njustify-content: center;\nalign-items: center;\n}\n\n#dialog{\nborder: 1px solid gray;\nz-index:7;\nposition:absolute;\ntop:100px;\n// margin-left:35%;// margin-right:35%;// min-height: 200px;// min-width: 300px;// width:28%;padding-left:15px;\npadding-right:15px;\npadding-top: 20px;\npadding-bottom: 10px;\nbackground-color: rgba(255,255,255,1);\nborder-radius:15px;\njustify-content: center;\nalign-items: center; \ndisplay: grid;\ngrid-template-columns: 40px 90%;\n// grid-template-rows: 3;grid-gap: 10px;\n}\n\n#dialog-close{\n// border: 1px solid green;grid-column: 1;\ngrid-row: 1;\npadding-left:5px;\npadding-right:5px;\ntext-align:center;\n}\n\n#dialog-title{\n// border: 1px solid green;grid-column: 2/4;\ngrid-row: 1;\npadding-left:5px;\npadding-right:5px;\nfont-size: 1.5em;\nfont-weight: bold;\n}\n\n#dialog-content{\n// border: 1px solid green;grid-column: 1/4;\ngrid-row: 2;\npadding-left:5px;\npadding-right:5px;\nwidth:90%;\nmargin-left: 5%;\n}\n\n#dialog-submit{\n// border: 1px solid green;grid-column: 2/4;\ngrid-row: 3;\ntext-align:right;\nmargin-right: 2%;\n}\n#dialog-cancel{\n// border: 1px solid green;grid-column: 1/3;\ngrid-row: 3;\ntext-align:left;\nmargin-left: 2%;\n}\n\nform.schedule{\n  margin-top:10px;\n  padding-left:5px;\n  padding-right: 5px;\n  padding-top:5px;\n  padding-bottom:5px;\n  border: 1px solid #e0e0e0;\n  border-radius: 30px;\n}\n\np.schedule_header{\n  font-weight: bold;\n}\n\nselect{\n}\n\n.days{\n    margin-left:0px;\n    margin-right:0px;\n    width: 2em;\n    height: 2em;\n    background-color: white;\n    border-radius: 50%;\n    vertical-align: middle;\n    border: 1px solid #ddd;\n    appearance: none;\n    -webkit-appearance: none;\n    outline: none;\n    cursor: pointer;\n}\n.days:checked{\n  background-color:#2196F3;\n}\n\nlabel.days{\n  position: relative;\n  left: 19px;\n  top: 2px;\n  background-color: rgba(0,0,0,0);\n  border: none;\n}\n\nlabel.days:hover{\ncursor:pointer;\n}\n\n.interval{\n  font-weight: bolder;\n  text-align: center;\n  border-radius: 20px;\n  display: flex;\n  margin-top: 5px;\n  margin-bottom: 5px;\n  background-color: aliceblue;\n  border: 1px solid lightgray;\n}\n\ninput {\n  border-radius:20px;\n  border: 1px solid #009ac7;\n}\n\nselect{\n  border-radius:20px;\n  border: 1px solid #009ac7;\n}\n\nbutton{\n  border-radius: 20px;\n  background-color: #009ac7;\n  color: white;\n  font-weight: bold;\n  padding-top: 10px;\n  padding-bottom: 10px;\n  padding-left: 20px;\n  padding-right: 20px;\n  display:inline-block;\n  margin-top:5px;\n  margin-bott: 5px;\n  border:none;\n}\n\nbutton:hover{\ncursor:pointer;\n}\n\nbutton.delete_button{\n background-color:red;\n background: url('/hacsfiles/ha-reef-card/img/trash.svg');\n background-position:center;\n background-repeat:no-repeat;\n}\n\nlabel{\nmargin-right: 5px;\n}\n\ninput{\nmargin-right: 5px;\n}\n\n:disabled{\nbackground-color: rgb(200,200,200);\n}\n\n`;\n","import {css} from 'lit';\n\nexport default css`\n\nimg:hover{\n  cursor: pointer;\n  background-color: rgb(235,235,235);\n  border-radius: 30px\n}\n\n`;\n","export const SUPPLEMENTS = [    {\n        \"uid\": \"0e63ba83-3ec4-445e-a3dd-7f2dbdc7f964\",\n        \"name\": \"Calcium (Powder)\",\n        \"display_name\": \"Calcium\",\n        \"short_name\": \"Ca\",\n        \"brand_name\": \"Red Sea\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": true,\n        \"fullname\": \"Red Sea - Calcium (Powder)\",\n    },\n    {\n        \"uid\": \"76830db3-a0bd-459a-9974-76a57d026893\",\n        \"name\": \"KH/Alkalinity (Foundation B)\",\n        \"display_name\": \"KH\",\n        \"short_name\": \"KH\",\n        \"brand_name\": \"Red Sea\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": true,\n        \"fullname\": \"Red Sea - KH/Alkalinity (Foundation B)\",\n        \"sizes\": [5000, 1000, 500, 250],\n    },\n    {\n        \"uid\": \"b703fc33-e777-418f-935c-319d3e0ec3c0\",\n        \"name\": \"KH/Alkalinity (Powder)\",\n        \"display_name\": \"KH\",\n        \"short_name\": \"KH\",\n        \"brand_name\": \"Red Sea\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": true,\n        \"fullname\": \"Red Sea - KH/Alkalinity (Powder)\",\n    },\n    {\n        \"uid\": \"f524734e-8651-496e-b09b-640b40fc8bab\",\n        \"name\": \"Magnesium (Foundation C)\",\n        \"display_name\": \"Magnesium\",\n        \"short_name\": \"Mg\",\n        \"brand_name\": \"Red Sea\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": true,\n        \"fullname\": \"Red Sea - Magnesium (Foundation C)\",\n        \"sizes\": [5000, 1000, 500, 250],\n    },\n    {\n        \"uid\": \"14dbb6eb-4424-4530-a94f-466fd04d07ed\",\n        \"name\": \"Magnesium (Powder)\",\n        \"display_name\": \"Magnesium\",\n        \"short_name\": \"Mg\",\n        \"brand_name\": \"Red Sea\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": true,\n        \"fullname\": \"Red Sea - Magnesium (Powder)\",\n    },\n    {\n        \"uid\": \"93e742b0-67c9-4800-9aa9-212e52532343\",\n        \"name\": \"Iodine (Colors A)\",\n        \"display_name\": \"Iodine\",\n        \"short_name\": \"I\",\n        \"brand_name\": \"Red Sea\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": true,\n        \"fullname\": \"Red Sea - Iodine (Colors A)\",\n        \"sizes\": [500, 100],\n    },\n    {\n        \"uid\": \"2f386917-54bd-4dd4-aa8b-9d1fea37edc5\",\n        \"name\": \"Potassium (Colors B)\",\n        \"display_name\": \"Potassium\",\n        \"short_name\": \"K \",\n        \"brand_name\": \"Red Sea\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": true,\n        \"fullname\": \"Red Sea - Potassium (Colors B)\",\n        \"sizes\": [500, 100],\n    },\n    {\n        \"uid\": \"c7a26034-8e40-41bb-bfb5-169089470f1e\",\n        \"name\": \"Iron (Colors C)\",\n        \"display_name\": \"Iron\",\n        \"short_name\": \"Fe\",\n        \"brand_name\": \"Red Sea\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": true,\n        \"fullname\": \"Red Sea - Iron (Colors C)\",\n        \"sizes\": [500, 100],\n    },\n    {\n        \"uid\": \"7af9b16b-9e63-488e-8c86-261ef8c4a1ce\",\n        \"name\": \"Bio Active (Colors D)\",\n        \"display_name\": \"Trace\",\n        \"short_name\": \"TE\",\n        \"brand_name\": \"Red Sea\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": true,\n        \"fullname\": \"Red Sea - Bio Active (Colors D)\",\n        \"sizes\": [500, 100],\n    },\n    {\n        \"uid\": \"ffaf6ff8-bc6d-44eb-9e4b-e679943dc835\",\n        \"name\": \"NO3PO4-X\",\n        \"display_name\": \"Nutrient control\",\n        \"short_name\": \"NPX\",\n        \"brand_name\": \"Red Sea\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": true,\n        \"fullname\": \"Red Sea - NO3PO4-X\",\n        \"sizes\": [5000, 1000, 500],\n    },\n    {\n        \"uid\": \"bf9a7da3-741b-4c1d-8542-d9344a95fb70\",\n        \"name\": \"Reef Energy Plus\",\n        \"display_name\": \"Coral food\",\n        \"short_name\": \"RE+\",\n        \"brand_name\": \"Red Sea\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": true,\n        \"fullname\": \"Red Sea - Reef Energy Plus\",\n        \"sizes\": [5000, 1000, 500, 250],\n    },\n    {\n        \"uid\": \"345a8f18-1787-47cd-87b2-a8da3a6531bc\",\n        \"name\": \"Calcium \",\n        \"display_name\": \"Calcium\",\n        \"short_name\": \"Ca\",\n        \"brand_name\": \"Aqua Forest\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Aqua Forest - Calcium \",\n    },\n    {\n        \"uid\": \"9ea6c9f2-b6f3-41ee-9370-06457f286fe5\",\n        \"name\": \"Ca Plus\",\n        \"display_name\": \"Calcium\",\n        \"short_name\": \"Ca\",\n        \"brand_name\": \"Aqua Forest\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Aqua Forest - Ca Plus\",\n    },\n    {\n        \"uid\": \"77ce68ff-e849-499d-82c1-af8282f1af13\",\n        \"name\": \"Component 1+\",\n        \"display_name\": \"Calcium\",\n        \"short_name\": \"Ca\",\n        \"brand_name\": \"Aqua Forest\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Aqua Forest - Component 1+\",\n    },\n    {\n        \"uid\": \"67fb654a-e8ba-468f-b5fd-56aa04fe1f47\",\n        \"name\": \"KH Buffer\",\n        \"display_name\": \"Alkalinity\",\n        \"short_name\": \"KH\",\n        \"brand_name\": \"Aqua Forest\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Aqua Forest - KH Buffer\",\n    },\n    {\n        \"uid\": \"e391e8d1-0d4c-4355-8887-9231500703ef\",\n        \"name\": \"KH Plus\",\n        \"display_name\": \"Alkalinity\",\n        \"short_name\": \"KH\",\n        \"brand_name\": \"Aqua Forest\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Aqua Forest - KH Plus\",\n    },\n    {\n        \"uid\": \"4cb24357-8911-412e-a6a5-77d6ee2972fd\",\n        \"name\": \"Component 2+\",\n        \"display_name\": \"Alkalinity\",\n        \"short_name\": \"KH\",\n        \"brand_name\": \"Aqua Forest\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Aqua Forest - Component 2+\",\n    },\n    {\n        \"uid\": \"45f40592-3db0-467d-9ae8-52897ff84623\",\n        \"name\": \"Magnesium\",\n        \"display_name\": \"Magnesium\",\n        \"short_name\": \"Mg\",\n        \"brand_name\": \"Aqua Forest\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Aqua Forest - Magnesium\",\n    },\n    {\n        \"uid\": \"deb3a943-68a5-40a9-860b-e6d259eee947\",\n        \"name\": \"Mg Plus\",\n        \"display_name\": \"Magnesium\",\n        \"short_name\": \"Mg\",\n        \"brand_name\": \"Aqua Forest\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Aqua Forest - Mg Plus\",\n    },\n    {\n        \"uid\": \"e493e6a7-2c84-4410-8c22-85fd4faa6c8f\",\n        \"name\": \"Component 3+\",\n        \"display_name\": \"Magnesium\",\n        \"short_name\": \"Mg\",\n        \"brand_name\": \"Aqua Forest\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Aqua Forest - Component 3+\",\n    },\n    {\n        \"uid\": \"aff00331-3c23-4357-b6d4-6609dbc4fed1\",\n        \"name\": \"All-For-Reef\",\n        \"display_name\": \"All\",\n        \"short_name\": \"All\",\n        \"brand_name\": \"Tropic Marin\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Tropic Marin - All-For-Reef\",\n    },\n    {\n        \"uid\": \"e7ad867a-3950-43e4-844e-e71ce73c20b9\",\n        \"name\": \"Balling A\",\n        \"display_name\": \"Calcium\",\n        \"short_name\": \"Ca\",\n        \"brand_name\": \"Tropic Marin\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Tropic Marin - Balling A\",\n    },\n    {\n        \"uid\": \"8cdabb9f-ebcf-4675-a10f-f9020941928f\",\n        \"name\": \"Carbo Calcium\",\n        \"display_name\": \"Calcium & KH\",\n        \"short_name\": \"Ca & KH\",\n        \"brand_name\": \"Tropic Marin\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Tropic Marin - Carbo Calcium\",\n    },\n    {\n        \"uid\": \"c8955615-5414-43ef-987f-07a0efa1cf8b\",\n        \"name\": \"Balling B\",\n        \"display_name\": \"KH\",\n        \"short_name\": \"KH\",\n        \"brand_name\": \"Tropic Marin\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Tropic Marin - Balling B\",\n    },\n    {\n        \"uid\": \"4a6f1b6c-32af-46cb-bfc9-55a4f42f05ed\",\n        \"name\": \"Liquid Buffer\",\n        \"display_name\": \"KH\",\n        \"short_name\": \"KH\",\n        \"brand_name\": \"Tropic Marin\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Tropic Marin - Liquid Buffer\",\n    },\n    {\n        \"uid\": \"2e65687a-0570-4571-bef5-7e18ac6581c1\",\n        \"name\": \"Balling C\",\n        \"display_name\": \"Magnesium\",\n        \"short_name\": \"Mg\",\n        \"brand_name\": \"Tropic Marin\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Tropic Marin - Balling C\",\n    },\n    {\n        \"uid\": \"2f04f694-3743-4e12-a45f-a3eb63aef806\",\n        \"name\": \"Bio-Magnesium\",\n        \"display_name\": \"Magnesium\",\n        \"short_name\": \"Mg\",\n        \"brand_name\": \"Tropic Marin\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Tropic Marin - Bio-Magnesium\",\n    },\n    {\n        \"uid\": \"84c9b4b6-e055-471f-acdf-f9122ac685b8\",\n        \"name\": \"A Element\",\n        \"display_name\": \"Trace elements +\",\n        \"short_name\": \"TE\",\n        \"brand_name\": \"Tropic Marin\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Tropic Marin - A Element\",\n    },\n    {\n        \"uid\": \"8afdd5cf-9c3a-45f5-b579-3e7c17d04671\",\n        \"name\": \"K Element\",\n        \"display_name\": \"Trace elements -\",\n        \"short_name\": \"TE\",\n        \"brand_name\": \"Tropic Marin\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Tropic Marin - K Element\",\n    },\n    {\n        \"uid\": \"68af4707-6766-4792-9380-f199b790eb81\",\n        \"name\": \"Elimi-NP\",\n        \"display_name\": \"Nutrient control\",\n        \"short_name\": \"NP\",\n        \"brand_name\": \"Tropic Marin\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Tropic Marin - Elimi-NP\",\n    },\n    {\n        \"uid\": \"7a680713-a8d3-496b-8081-a694ce2a1f31\",\n        \"name\": \"Plus-NP\",\n        \"display_name\": \"Nutrient control\",\n        \"short_name\": \"NP+\",\n        \"brand_name\": \"Tropic Marin\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Tropic Marin - Plus-NP\",\n    },\n    {\n        \"uid\": \"43b51c1f-0363-4ef5-be89-f129e512e25b\",\n        \"name\": \"NP-Bacto-Balance\",\n        \"display_name\": \"Nutrient control\",\n        \"short_name\": \"NP-Bal\",\n        \"brand_name\": \"Tropic Marin\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Tropic Marin - NP-Bacto-Balance\",\n    },\n    {\n        \"uid\": \"fddbe0a4-02eb-4903-969b-6c27c805bf6b\",\n        \"name\": \"Amino Organic\",\n        \"display_name\": \"Coral food\",\n        \"short_name\": \"Food\",\n        \"brand_name\": \"Tropic Marin\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Tropic Marin - Amino Organic\",\n    },\n    {\n        \"uid\": \"20d65a7e-d12c-4185-a809-97aac782aca1\",\n        \"name\": \"Reef Calcium\",\n        \"display_name\": \"Calcium\",\n        \"short_name\": \"Ca\",\n        \"brand_name\": \"Seachem\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Seachem - Reef Calcium\",\n    },\n    {\n        \"uid\": \"7711655c-fd34-4fa3-99e8-ac76403248b1\",\n        \"name\": \"Reef Fusion 1\",\n        \"display_name\": \"Calcium\",\n        \"short_name\": \"Ca\",\n        \"brand_name\": \"Seachem\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Seachem - Reef Fusion 1\",\n    },\n    {\n        \"uid\": \"4e3badc4-cd5b-4e79-9d91-8382ced88c17\",\n        \"name\": \"Reef Complete\",\n        \"display_name\": \"Calcium\",\n        \"short_name\": \"Ca\",\n        \"brand_name\": \"Seachem\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Seachem - Reef Complete\",\n    },\n    {\n        \"uid\": \"a3fb3879-ff35-4da8-b331-c0b1b673fa6b\",\n        \"name\": \"Reef Carbonate\",\n        \"display_name\": \"KH\",\n        \"short_name\": \"KH\",\n        \"brand_name\": \"Seachem\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Seachem - Reef Carbonate\",\n    },\n    {\n        \"uid\": \"622118c6-0a11-4c1d-86de-49c92683bc2d\",\n        \"name\": \"Reef Fusion 2\",\n        \"display_name\": \"KH\",\n        \"short_name\": \"KH\",\n        \"brand_name\": \"Seachem\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Seachem - Reef Fusion 2\",\n    },\n    {\n        \"uid\": \"59bce33d-a6e0-4753-9049-edae4c0df753\",\n        \"name\": \"Reef Iodine\",\n        \"display_name\": \"Iodine\",\n        \"short_name\": \"Iod\",\n        \"brand_name\": \"Seachem\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Seachem - Reef Iodine\",\n    },\n    {\n        \"uid\": \"c6ef7fdf-53eb-440e-bef4-d3f0fb8b6245\",\n        \"name\": \"Reef Strontium\",\n        \"display_name\": \"Strontium\",\n        \"short_name\": \"Sr\",\n        \"brand_name\": \"Seachem\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Seachem - Reef Strontium\",\n    },\n    {\n        \"uid\": \"4981b4d6-4321-46ca-8659-4f8e3f554563\",\n        \"name\": \"Reef Trace\",\n        \"display_name\": \"Trace elements \",\n        \"short_name\": \"TE\",\n        \"brand_name\": \"Seachem\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Seachem - Reef Trace\",\n    },\n    {\n        \"uid\": \"668eb67c-1ba7-464f-9d0c-434cc8738a47\",\n        \"name\": \"Reef Plus\",\n        \"display_name\": \"Coral food\",\n        \"short_name\": \"Food\",\n        \"brand_name\": \"Seachem\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Seachem - Reef Plus\",\n    },\n    {\n        \"uid\": \"a12f1d90-51f2-4c45-a414-6a6232b37bef\",\n        \"name\": \"Liquid Calcium\",\n        \"display_name\": \"Calcium\",\n        \"short_name\": \"Ca\",\n        \"brand_name\": \"BRS\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"BRS - Liquid Calcium\",\n    },\n    {\n        \"uid\": \"c137a36e-69db-4934-837e-45fbc2cd56aa\",\n        \"name\": \"Liquid alkalinity\",\n        \"display_name\": \"KH\",\n        \"short_name\": \"KH\",\n        \"brand_name\": \"BRS\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"BRS - Liquid alkalinity\",\n    },\n    {\n        \"uid\": \"6397201b-ba2a-40eb-ab08-abb953222850\",\n        \"name\": \"Magnesium Mix\",\n        \"display_name\": \"Magnesium\",\n        \"short_name\": \"Mg\",\n        \"brand_name\": \"BRS\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"BRS - Magnesium Mix\",\n    },\n    {\n        \"uid\": \"4fb80be0-d3e4-498b-baba-83c57da8935c\",\n        \"name\": \"Part C\",\n        \"display_name\": \"Trace elements \",\n        \"short_name\": \"TE\",\n        \"brand_name\": \"BRS\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"BRS - Part C\",\n    },\n    {\n        \"uid\": \"d89c7032-29c9-49d1-a0ca-294dc621cefb\",\n        \"name\": \"B-Ionic Component 2\",\n        \"display_name\": \"Calcium\",\n        \"short_name\": \"Ca\",\n        \"brand_name\": \"ESV\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"ESV - B-Ionic Component 2\",\n    },\n    {\n        \"uid\": \"4760a92c-0974-484c-9586-e13727a8f442\",\n        \"name\": \"B-Ionic Component 1\",\n        \"display_name\": \"KH\",\n        \"short_name\": \"KH\",\n        \"brand_name\": \"ESV\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"ESV - B-Ionic Component 1\",\n    },\n    {\n        \"uid\": \"a9ec8c96-6715-4e6e-9601-1f12675ad475\",\n        \"name\": \"B-Ionic Magnesium\",\n        \"display_name\": \"Magnesium\",\n        \"short_name\": \"Mg\",\n        \"brand_name\": \"ESV\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"ESV - B-Ionic Magnesium\",\n    },\n    {\n        \"uid\": \"7bf0df73-50aa-4d27-8d28-2fc9c4068596\",\n        \"name\": \"Transition elements \",\n        \"display_name\": \"Trace elements\",\n        \"short_name\": \"TE\",\n        \"brand_name\": \"ESV\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"ESV - Transition elements \",\n    },\n    {\n        \"uid\": \"73c23d0c-a891-4729-8474-4f809829d925\",\n        \"name\": \"Transition elements plus\",\n        \"display_name\": \"Nutrient control\",\n        \"short_name\": \"NP\",\n        \"brand_name\": \"ESV\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"ESV - Transition elements plus\",\n    },\n    {\n        \"uid\": \"19c1c766-407f-47e3-a4ea-71cecd4c0d31\",\n        \"name\": \"Balling light KH\",\n        \"display_name\": \"KH\",\n        \"short_name\": \"KH\",\n        \"brand_name\": \"Fauna Marine\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Fauna Marine - Balling light KH\",\n    },\n    {\n        \"uid\": \"b6f58928-69dc-49c6-b121-9c9091b29ddd\",\n        \"name\": \"Balling light Ca\",\n        \"display_name\": \"Calcium\",\n        \"short_name\": \"Ca\",\n        \"brand_name\": \"Fauna Marine\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Fauna Marine - Balling light Ca\",\n    },\n    {\n        \"uid\": \"06dd7de9-dcf6-421c-8c44-424a71269a3e\",\n        \"name\": \"Balling light Mg\",\n        \"display_name\": \"Magnesium\",\n        \"short_name\": \"Mg\",\n        \"brand_name\": \"Fauna Marine\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Fauna Marine - Balling light Mg\",\n    },\n    {\n        \"uid\": \"dfb30bb0-0114-43dd-8e00-44d5324bbc0b\",\n        \"name\": \"Balling light  trace 1\",\n        \"display_name\": \"Trace elements\",\n        \"short_name\": \"Fe\",\n        \"brand_name\": \"Fauna Marine\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Fauna Marine - Balling light  trace 1\",\n    },\n    {\n        \"uid\": \"6bd27f62-ecb9-461b-823e-fadc74d200d6\",\n        \"name\": \"Balling light  trace 2\",\n        \"display_name\": \"Trace elements\",\n        \"short_name\": \"K\",\n        \"brand_name\": \"Fauna Marine\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Fauna Marine - Balling light  trace 2\",\n    },\n    {\n        \"uid\": \"d9305644-c4d5-4dfe-9aa2-305fed32bb46\",\n        \"name\": \"Balling light  trace 3\",\n        \"display_name\": \"Trace elements\",\n        \"short_name\": \"Sr\",\n        \"brand_name\": \"Fauna Marine\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Fauna Marine - Balling light  trace 3\",\n    },\n    {\n        \"uid\": \"fbbfb246-da02-4d06-bb9d-5ee2b8d503fa\",\n        \"name\": \"Green trace elements\",\n        \"display_name\": \"Trace elements\",\n        \"short_name\": \"TE\",\n        \"brand_name\": \"Fauna Marine\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Fauna Marine - Green trace elements\",\n    },\n    {\n        \"uid\": \"aace8f7d-50d2-4adb-b419-2dc729ecb775\",\n        \"name\": \"Red trace elements\",\n        \"display_name\": \"Trace elements\",\n        \"short_name\": \"TE\",\n        \"brand_name\": \"Fauna Marine\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Fauna Marine - Red trace elements\",\n    },\n    {\n        \"uid\": \"2ad8680e-e426-4265-8c03-9180ca658bcc\",\n        \"name\": \"Blue trace elements\",\n        \"display_name\": \"Trace elements\",\n        \"short_name\": \"TE\",\n        \"brand_name\": \"Fauna Marine\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Fauna Marine - Blue trace elements\",\n    },\n    {\n        \"uid\": \"8fb383e0-d194-4bd4-95f6-17210f4a85cc\",\n        \"name\": \"Amin\",\n        \"display_name\": \"Coral food\",\n        \"short_name\": \"Food\",\n        \"brand_name\": \"Fauna Marine\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Fauna Marine - Amin\",\n    },\n    {\n        \"uid\": \"7df1b60e-9c66-4601-ba65-3ad952610f03\",\n        \"name\": \"Min S\",\n        \"display_name\": \"Coral food\",\n        \"short_name\": \"Food\",\n        \"brand_name\": \"Fauna Marine\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Fauna Marine - Min S\",\n    },\n    {\n        \"uid\": \"c857b721-1652-4b89-8c68-d14c3f14f08e\",\n        \"name\": \"Reef Code A\",\n        \"display_name\": \"Calcium\",\n        \"short_name\": \"Ca\",\n        \"brand_name\": \"Brightwell\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Brightwell - Reef Code A\",\n    },\n    {\n        \"uid\": \"3485b1a7-b21c-45a0-9c9d-f4d951aab16c\",\n        \"name\": \"Liquid Reef\",\n        \"display_name\": \"Calcium\",\n        \"short_name\": \"Ca\",\n        \"brand_name\": \"Brightwell\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Brightwell - Liquid Reef\",\n    },\n    {\n        \"uid\": \"fca74872-947b-4968-9687-e3c4a43723e1\",\n        \"name\": \"Calcion\",\n        \"display_name\": \"Calcium\",\n        \"short_name\": \"Ca\",\n        \"brand_name\": \"Brightwell\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Brightwell - Calcion\",\n    },\n    {\n        \"uid\": \"fb5347b5-9764-445e-ac6a-513700f6740d\",\n        \"name\": \"Reef Code B\",\n        \"display_name\": \"KH\",\n        \"short_name\": \"KH\",\n        \"brand_name\": \"Brightwell\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Brightwell - Reef Code B\",\n    },\n    {\n        \"uid\": \"a72f14b4-7a0d-4582-b043-f0c0f9cb51eb\",\n        \"name\": \"Hydrate - MG\",\n        \"display_name\": \"Magnesium\",\n        \"short_name\": \"Mg\",\n        \"brand_name\": \"Brightwell\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Brightwell - Hydrate - MG\",\n    },\n    {\n        \"uid\": \"2033a72f-1d00-4974-b1f5-bc7ee38858c4\",\n        \"name\": \"Potassion\",\n        \"display_name\": \"Potassium\",\n        \"short_name\": \"K\",\n        \"brand_name\": \"Brightwell\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Brightwell - Potassion\",\n    },\n    {\n        \"uid\": \"a7b45d32-e879-4bf8-9779-2d39933d104b\",\n        \"name\": \"Strontion\",\n        \"display_name\": \"Stromtium\",\n        \"short_name\": \"Sr\",\n        \"brand_name\": \"Brightwell\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Brightwell - Strontion\",\n    },\n    {\n        \"uid\": \"bd79c239-f189-4684-9ca9-8d0ca8a9bab5\",\n        \"name\": \"Ferrion\",\n        \"display_name\": \"Iron\",\n        \"short_name\": \"Fe\",\n        \"brand_name\": \"Brightwell\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Brightwell - Ferrion\",\n    },\n    {\n        \"uid\": \"4bad5f8d-3094-496c-abf6-7c773cf7f4ed\",\n        \"name\": \"Koralcolor\",\n        \"display_name\": \"Trace elements\",\n        \"short_name\": \"TE\",\n        \"brand_name\": \"Brightwell\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Brightwell - Koralcolor\",\n    },\n    {\n        \"uid\": \"0b2f70cb-34cf-4b0f-b238-df38ea3d1809\",\n        \"name\": \"Replenish\",\n        \"display_name\": \"Trace elements\",\n        \"short_name\": \"TE\",\n        \"brand_name\": \"Brightwell\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Brightwell - Replenish\",\n    },\n    {\n        \"uid\": \"9f2292c0-6681-4805-a94a-4a9168095674\",\n        \"name\": \"KoralAmino\",\n        \"display_name\": \"Coral food\",\n        \"short_name\": \"Food\",\n        \"brand_name\": \"Brightwell\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Brightwell - KoralAmino\",\n    },\n    {\n        \"uid\": \"7d67412c-fde0-44d4-882a-dc8746fd4acb\",\n        \"name\": \"Calcium (Foundation A)\",\n        \"display_name\": \"Calcium\",\n        \"short_name\": \"Ca\",\n        \"brand_name\": \"Red Sea\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": true,\n        \"fullname\": \"Red Sea - Calcium (Foundation A)\",\n        \"sizes\": [5000, 1000, 500, 250],\n    },\n    {\n        \"uid\": \"f1b4e562-f31a-4d71-ad04-80837511dc50\",\n        \"name\": \"Restore\",\n        \"display_name\": \"Coral food\",\n        \"short_name\": \"Food\",\n        \"brand_name\": \"Brightwell\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Brightwell - Restore\",\n    },\n    {\n        \"uid\": \"69692902-dcf9-4f41-b104-402154dc348a\",\n        \"name\": \"Essential Pro 1\",\n        \"display_name\": \"KH\",\n        \"short_name\": \"KH\",\n        \"brand_name\": \"ATI\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"ATI - Essential Pro 1\",\n    },\n    {\n        \"uid\": \"e1dbec89-2396-4269-8f28-ab7534cb2d7d\",\n        \"name\": \"Essential Pro 2\",\n        \"display_name\": \"Calcium\",\n        \"short_name\": \"Ca\",\n        \"brand_name\": \"ATI\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"ATI - Essential Pro 2\",\n    },\n    {\n        \"uid\": \"322c1c47-7259-4fd9-9050-f6157036ea36\",\n        \"name\": \"Aragonite A\",\n        \"display_name\": \"Calcium\",\n        \"short_name\": \"Ca\",\n        \"brand_name\": \"Quantum\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Quantum - Aragonite A\",\n    },\n    {\n        \"uid\": \"e6537278-0e0a-4fd7-8146-566334bb74ed\",\n        \"name\": \"Aragonite B\",\n        \"display_name\": \"KH\",\n        \"short_name\": \"KH\",\n        \"brand_name\": \"Quantum\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Quantum - Aragonite B\",\n    },\n    {\n        \"uid\": \"5f491b59-4f54-4572-bbce-aa9b708ccb51\",\n        \"name\": \"Aragonite C\",\n        \"display_name\": \"Magnesium\",\n        \"short_name\": \"Mg\",\n        \"brand_name\": \"Quantum\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Quantum - Aragonite C\",\n    },\n    {\n        \"uid\": \"fd8dee42-f3da-4660-b491-880d7dac869a\",\n        \"name\": \"Bio enhance\",\n        \"display_name\": \"Coral food\",\n        \"short_name\": \"Food\",\n        \"brand_name\": \"Quantum\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Quantum - Bio enhance\",\n    },\n    {\n        \"uid\": \"26a4f030-e78c-459c-90cb-5c6099de10fd\",\n        \"name\": \"Gbio Gen\",\n        \"display_name\": \"Iodie\",\n        \"short_name\": \"I\",\n        \"brand_name\": \"Quantum\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Quantum - Gbio Gen\",\n    },\n    {\n        \"uid\": \"8fec18b0-adf6-4dfa-b923-c7226a6fb87d\",\n        \"name\": \"Bio Kalium\",\n        \"display_name\": \"Potassium\",\n        \"short_name\": \"K\",\n        \"brand_name\": \"Quantum\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Quantum - Bio Kalium\",\n    },\n    {\n        \"uid\": \"a1d797e3-4679-4be4-9219-22e35822ab97\",\n        \"name\": \"Bio Metals\",\n        \"display_name\": \"Iron\",\n        \"short_name\": \"Fe\",\n        \"brand_name\": \"Quantum\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Quantum - Bio Metals\",\n    },\n    {\n        \"uid\": \"901b2e5e-45dd-417d-afe9-f92e1ae0bb67\",\n        \"name\": \"Core7 elements 1\",\n        \"display_name\": null,\n        \"short_name\": \"1\",\n        \"brand_name\": \"Triton\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Triton - Core7 elements 1\",\n    },\n    {\n        \"uid\": \"db995e31-fba1-4b65-966c-afe533937400\",\n        \"name\": \"Core7 elements 2\",\n        \"display_name\": null,\n        \"short_name\": \"2\",\n        \"brand_name\": \"Triton\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Triton - Core7 elements 2\",\n    },\n    {\n        \"uid\": \"b505ab85-7d5d-4122-adb3-56044342ad7a\",\n        \"name\": \"Core7 elements 3A\",\n        \"display_name\": null,\n        \"short_name\": \"3A\",\n        \"brand_name\": \"Triton\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Triton - Core7 elements 3A\",\n    },\n    {\n        \"uid\": \"4752c0aa-35b7-45cf-8bcb-89ab11feb98e\",\n        \"name\": \"Core7 elements 3B\",\n        \"display_name\": null,\n        \"short_name\": \"3B\",\n        \"brand_name\": \"Triton\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Triton - Core7 elements 3B\",\n    },\n    {\n        \"uid\": \"964e897e-9668-4fc8-9cd9-e8c42a27cf85\",\n        \"name\": \"Potassium\",\n        \"display_name\": null,\n        \"short_name\": \"K\",\n        \"brand_name\": \"Tropic Marin\",\n        \"type\": null,\n        \"concentration\": null,\n        \"made_by_redsea\": false,\n        \"fullname\": \"Tropic Marin - Potassium\",\n    },\n    {\n        \"uid\": \"redsea-reefcare\",\n        \"name\": \"ReefCare\",\n        \"display_name\": null,\n        \"short_name\": \"Care\",\n        \"brand_name\": \"Red Sea\",\n        \"type\": \"Bundle\",\n        \"sizes\": [500, 1000, 2000],\n        \"bundle\": {\n            \"1\": {\n                \"supplement\": {\n                    \"uid\": \"6b7d2c15-0d25-4447-b089-854ef6ba99f2\",\n                    \"name\": \"Part 1: Calcium & Magnesium\",\n                    \"display_name\": \"Part 1\",\n                    \"short_name\": \"P1\",\n                    \"brand_name\": \"Red Sea\",\n                    \"made_by_redsea\": true,\n                },\n                \"ratio\": 1.0,\n            },\n            \"2\": {\n                \"supplement\": {\n                    \"uid\": \"6f6a53db-0985-47f4-92bd-cef092d97d22\",\n                    \"name\": \"Part 2: KH/Alkalinity &PH stabilizer\",\n                    \"display_name\": \"Part 2\",\n                    \"short_name\": \"P2\",\n                    \"brand_name\": \"Red Sea\",\n                    \"made_by_redsea\": true,\n                },\n                \"ratio\": 2.0,\n            },\n            \"3\": {\n                \"supplement\": {\n                    \"uid\": \"18c5a293-f14d-4d40-ad43-0420e54f9a45\",\n                    \"name\": \"Part 3: Iodine & Potassium\",\n                    \"display_name\": \"Part 3\",\n                    \"short_name\": \"P3\",\n                    \"brand_name\": \"Red Sea\",\n                    \"made_by_redsea\": true,\n                },\n                \"ratio\": 0.5,\n            },\n            \"4\": {\n                \"supplement\": {\n                    \"uid\": \"bb73e4c2-e366-4304-aaeb-50e4b52fa10f\",\n                    \"name\": \"Part 4: Iron & Bioactive elements\",\n                    \"display_name\": \"Part 4\",\n                    \"short_name\": \"P4\",\n                    \"brand_name\": \"Red Sea\",\n                    \"made_by_redsea\": true,\n                },\n                \"ratio\": 0.5,\n            },\n        },\n        \"concentration\": null,\n        \"made_by_redsea\": true,\n        \"fullname\": \"RedSea - ReefCare Program\",\n    },\n]\n;\n","import {SUPPLEMENTS} from \"./supplements_list\"\n\nclass Supplements{\n\n    constructor(){\n\tthis._list = SUPPLEMENTS;\n    }//end of constructor\n\n    get_supplement(name){\n\tlet supplement=null;\n\tfor ( supplement of this._list){\n\t    if (supplement.fullname==name){\n\t\treturn supplement;\n\t    }\n\t    if(supplement.type==\"Bundle\"){\n\t\tconsole.log(\"BUNDLE\",supplement.bundle);\n\t\tfor ( var supp of Object.keys(supplement.bundle)){\n\t\t    var bundle_supplement=supplement.bundle[supp];\n\t\t    console.log(\"SUPP\",bundle_supplement);\n\t\t    if (bundle_supplement.supplement.name==name){\n\t\t\tbundle_supplement.supplement.sizes=supplement.sizes.map(function(x) { return x * bundle_supplement.ratio; });\n\t\t\treturn bundle_supplement.supplement;\n\t\t    }\n\t\t}\n\t    }//if\n\t}//for\n\treturn null;\n    }//end of function get_supplement\n    \n}\n\nvar supplements_list = new Supplements();\nexport default supplements_list;\n","// @ts-nocheck\nimport { html } from \"lit\";\nimport  supplements_list  from \"./supplements\";\n\nimport i18n from \"../translations/myi18n\";\nimport * as com from '../common';\n\nimport {MyElement} from \"./base/element\";\n\nimport { mdiDeleteEmpty } from '@mdi/js';\n\nimport { stringToTime } from '../common'\n\nexport function set_manual_head_volume(elt,hass,shadowRoot){\n  if (elt.device.config.shortcut){\n    for(let shortcut of elt.device.config.shortcut.split(',')){\n      let conf={\n\t\"label\": shortcut+\"mL\",\n\t\"type\":\"common-button\",\n\t\"stateObj\":null,\n\t\"tap_action\": [\n\t  {\n\t    \"domain\": \"number\",\n\t    \"action\" : \"set_value\",\n\t    \"data\":{\"entity_id\":\"manual_head_volume\",\"value\":shortcut}\n\t  },\n\t  {\n\t    \"domain\": \"button\",\n\t    \"action\" : \"press\",\n\t    \"data\": {\"entity_id\":\"manual_head\"},\n\t  },\n\t  {\n\t    \"domain\": \"redsea_ui\",\n\t    \"action\" : \"message_box\",\n\t    \"data\": \"${i18n._('dosing')}+ ' \"+shortcut+\"mL'\"\n\t  }\n\t],\n\t\"css\":{\n\t  \"display\": \"inline-block\",\n\t  \"border\":\"1px solid gray\",\n\t  \"border-radius\": \"15px\",\n\t  \"padding-left\":\"10px\",\n\t  \"padding-right\":\"10px\",\n\t  \"margin-bottom\": \"20px\",\t\t\t    \n\t  \"background-color\": \"rgb(\"+elt.device.config.color+\")\",\n\t  \"color\": \"white\",\n\t}\n      };\n      let content=MyElement.create_element(hass,conf,elt.device);\n      shadowRoot.querySelector(\"#dialog-content\").appendChild(content);\n    }\n  }\n}\n\nexport function add_supplement(elt,hass,shadowRoot){\n  let selected_supplement=elt.device.get_entity(\"supplements\").state;\n  let supplement = supplements_list.get_supplement(selected_supplement);\n\n  let img='/hacsfiles/ha-reef-card/generic_container.supplement.png';\n  let cc=shadowRoot.querySelector(\"#add-supplement\");\n  if(cc != null){\n    cc.remove();\n  }\n  \n  if (supplement){\n    let t_img='/hacsfiles/ha-reef-card/'+supplement.uid+'.supplement.png';\n    let http = new XMLHttpRequest();\n    http.open('HEAD', t_img, false);\n    http.send();\n    if(http.status != 404){\n      img=t_img;\n    }\n    const r_element=customElements.get(\"click-image\");\n    const content= new r_element();\n    let conf={\"image\":img,\"css\":{\"display\": \"inline-block\",\"width\":\"20%\"},\"elt.css\":{\"width\":\"100%\"}}\n    content.setConfig(conf);\n    let div=document.createElement(\"div\");\n    div.style.cssText = \"display: inline-block\";\n    div.id=\"add-supplement\";\n    shadowRoot.querySelector(\"#dialog-content\").appendChild(div);\n    div.appendChild(content);\n    let infos=document.createElement(\"div\");\n    infos.innerHTML =\"<h1 style='text-decoration:underline'>\"+supplement.fullname+\"</h1>\";\n    infos.innerHTML+=\"<h2><span style='color:#009ac7'>\"+i18n._(\"name\")+\":</span> \"+supplement.name+\"</h2>\";\n    infos.innerHTML+=\"<h2><span style='color:#d32625'>\"+i18n._(\"brand_name\")+\":</span> \"+supplement.brand_name+\"</h2>\";\n    infos.innerHTML+=\"<h2><span style='color:rgb(175,50,175)'>\"+i18n._(\"display_name\")+\":</span> \"+supplement.display_name+\"</h2>\";\n    infos.innerHTML+=\"<h2><span style='color:rgb(70,170,70)'>\"+i18n._(\"short_name\")+\":</span> \"+supplement.short_name+\"</h2>\";\n    if (\"sizes\" in supplement && supplement.sizes.length>0){\n      infos.innerHTML+=\"<h2><span style='color:#c3d737'>\"+i18n._(\"sizes\")+\":</span> \"+supplement.sizes+\" mL</h2>\";\n    }\n    infos.innerHTML+=\"<h3><span style='color:rgb(190,190,190)'>UID:</span> \"+supplement.uid+\"</h3>\";\n    infos.style.cssText = \"display: inline-block;width: 70%;position:relative;\";\n    div.appendChild(infos);\n  }\n  else{\n    const r_element= customElements.get(\"hui-entities-card\");\n    const content= new r_element();\n\n    let conf={\n      \"type\":\"entities\",\n      \"entities\": [\n\t{\"entity\":elt.get_entity(\"new_supplement_brand_name\").entity_id,\"name\":{\"type\":\"entity\"}},\n\t{\"entity\":elt.get_entity(\"new_supplement_name\").entity_id,\"name\":{\"type\":\"entity\"}},\n\t{\"entity\":elt.get_entity(\"new_supplement_short_name\").entity_id,\"name\":{\"type\":\"entity\"}},\n      ]\n    };\n    content.setConfig(conf);\n    content.hass=hass;\n    content.device=elt.device;\n    let div=document.createElement(\"div\");\n    div.id=\"add-supplement\";\n    div.appendChild(content);\n\n    shadowRoot.querySelector(\"#dialog-content\").appendChild(div);\n  }\n}\n\nexport function set_container_volume(elt,hass,shadowRoot){\n  let selected_supplement=elt.device.get_entity(\"supplement\").state;\n  let supplement = supplements_list.get_supplement(selected_supplement);\n  if(!supplement){\n    selected_supplement=elt.device.get_entity(\"supplements\").state;\n    supplement = supplements_list.get_supplement(selected_supplement);\n  }\n  if (supplement && supplement.sizes){\n    for (let size of supplement.sizes){\n      let label=size+\"mL\";\n      if(size>= 1000){\n\tlabel=size/1000+\"L\";   \n      }\n      let conf={\n\t\"label\": label,\n\t\"type\":\"common-button\",\n\t\"stateObj\":null,\n\t\"tap_action\": [\n\t  {\n\t    \"domain\": \"switch\",\n\t    \"action\" : \"turn_on\",\n\t    \"data\":{\"entity_id\":\"slm\"}\n\t  },\n\t  {\n\t    \"domain\": \"number\",\n\t    \"action\" : \"set_value\",\n\t    \"data\":{\"entity_id\":\"container_volume\",\"value\":size}\n\t  },\n\t  {\n\t    \"domain\": \"number\",\n\t    \"action\" : \"set_value\",\n\t    \"data\":{\"entity_id\":\"save_initial_container_volume\",\"value\":size}\n\t  },\n\t],\n\t\"css\":{\n\t  \"display\": \"inline-block\",\n\t  \"border\":\"1px solid gray\",\n\t  \"border-radius\": \"15px\",\n\t  \"padding-left\":\"10px\",\n\t  \"padding-right\":\"10px\",\n\t  \"margin-bottom\": \"20px\",\t\t\t    \n\t  \"background-color\": \"rgb(\"+elt.device.config.color+\")\",\n\t  \"color\": \"white\",\n\t},\n\t\"elt.css\":{\n\t  \"background-color\": \"rgb(\"+elt.device.config.color+\")\",\n\t  \"color\": \"white\",\n\t}\n\t\n      };\n      let content=MyElement.create_element(hass,conf,elt.device);\n      shadowRoot.querySelector(\"#dialog-content\").appendChild(content);\n    }\n  }\n}\n\nexport   function edit_container(elt,hass,shadowRoot){\n  set_container_volume(elt,hass,shadowRoot);\n}\n\nexport  function head_configuration(elt,hass,shadowRoot,saved_schedule=null){\n  if(elt.device.bundle && elt.device.config.id>1){\n    return;\n  }\n  if(saved_schedule==null ||saved_schedule.type==elt.device.get_entity('schedule_head').attributes.schedule.type){\n    saved_schedule=elt.device.get_entity('schedule_head').attributes.schedule;\n  }\n  \n  let form=shadowRoot.querySelector(\"#schedule\");\n  if(form){\n    form.remove();\n  }\n  form=shadowRoot.createElement(\"form\");\n  form.className=\"schedule\";\n  form.id=\"schedule\";\n  let schedule_type=com.create_select(shadowRoot,'schedule',['single','custom','hourly','timer'],saved_schedule.type);\n  schedule_type.addEventListener(\"changes\",function(event: any) {handle_schedule_type_changes(event,elt,hass,shadowRoot)});\n  form.appendChild(schedule_type);\n  let node=null;\n  node=shadowRoot.createElement(\"label\");\n  node.innerHTML=i18n._(\"daily_dose\");\n  form.appendChild(node);\n  let dd=shadowRoot.createElement(\"input\");\n  dd.type=\"number\";\n  dd.id=\"dailydose\";\n  dd.min=0.1;\n  dd.step=0.1;\n  dd.max=300;\n  dd.value=elt.device.get_entity(\"daily_dose\").state;\n  form.appendChild(dd);\n\n  let fname=\"head_configuration_schedule_\"+saved_schedule.type;\n  let content=local_actions[fname]?.(saved_schedule,elt,hass,shadowRoot,form);\n  \n  node=shadowRoot.createElement(\"label\");\n  node.innerHTML=i18n._(\"days\");\n  form.appendChild(node);\n  for(let day=1;day<8;day++ ){\n    let name=\"day_\"+String(day);\n    node=shadowRoot.createElement(\"input\");\n    node.className=(\"days\");\n    node.type=\"checkbox\";\n    node.value=name;\n    node.id=name;\n    if(saved_schedule && saved_schedule.days && !saved_schedule.days.includes(day)){\n      node.checked=false;\n    }\n    else{\n      node.checked=true;\n    }\n    let label=shadowRoot.createElement(\"label\");\n    label.innerHTML=i18n._(\"day_\"+String(day))[0];\n    label.className=\"days\";\n    label.htmlFor=name;\n    form.appendChild(label);\n    form.appendChild(node);\n  }\n  let save_button=shadowRoot.createElement(\"button\");\n  save_button.innerHTML=i18n._('save_schedule');\n  save_button.style.width=\"100%\",\n  save_button.addEventListener(\"click\", function(e: any) {e.preventDefault();save_schedule(e,shadowRoot,form,elt,hass)},false);\n  form.appendChild(save_button);\n  console.debug(\"SR\",shadowRoot);\n  shadowRoot.querySelector(\"#dialog-content\").appendChild(content);\n}\n\nfunction head_configuration_schedule_single(schedule,elt,hass,shadowRoot,form){\n  form.appendChild(com.create_hour(shadowRoot,'hour',schedule.time));\n  form.appendChild(com.create_select(shadowRoot,'speed',['whisper','regular','quick'],schedule.mode));\n  return form;\n}\n\n\nfunction head_configuration_schedule_custom(schedule,elt,hass,shadowRoot,form){\n  const default_interval={\n    st: 0,\n    end: 1440,\n    nd: 10,\n    mode: 'regular',\n  };\n  if(!schedule.intervals){\n    schedule.intervals=[default_interval];\n  }\n  let intervals=shadowRoot.createElement(\"div\");\n  for(var interval of schedule.intervals){\n    head_configuration_intervals_custom(shadowRoot,interval,intervals);\n  }\n  form.appendChild(intervals);\n  let add_button=shadowRoot.createElement(\"button\");\n  add_button.innerHTML='+';\n  add_button.style.width=\"100%\",\n  add_button.addEventListener(\"click\", function(e: any) {e.preventDefault();head_configuration_intervals_custom(shadowRoot,default_interval,intervals);},false);\n  form.appendChild(add_button);\n  return form;\n}\n\n\nfunction head_configuration_schedule_timer(schedule,elt,hass,shadowRoot,form){\n  const default_interval={\n    st: 0,\n    volume: 1,\n    mode: 'regular',\n  };\n  if(!schedule.intervals){\n    schedule.intervals=[default_interval];\n  }\n  let dd=form.querySelector(\"#dailydose\");\n  dd.disabled=true;\n\n  let intervals=shadowRoot.createElement(\"div\");\n  for(var interval of schedule.intervals){\n    head_configuration_intervals_timer(shadowRoot,interval,intervals);\n  }\n  form.appendChild(intervals);\n  let add_button=shadowRoot.createElement(\"button\");\n  add_button.innerHTML='+';\n  add_button.style.width=\"100%\",\n  add_button.addEventListener(\"click\", function(e: any) {e.preventDefault();head_configuration_intervals_timer(shadowRoot,default_interval,intervals);},false);\n  form.appendChild(add_button);\n  update_dd(form);;\n  return form;\n}\n\nfunction save_schedule(event,shadowRoot,form,elt,hass){\n  let schedule={};\n  schedule.type=shadowRoot.querySelector(\"#schedule_1\").value;\n  schedule.days=[];\n  for (let day=1;day<8;day++){\n    let day_id=\"#day_\"+String(day);\n    if(shadowRoot.querySelector(day_id).checked){\n      schedule.days.push(day);\n    }\n  }\n  //let to_schedule=eval(\"save_schedule_\"+schedule.type+\"(shadowRoot,elt,hass,schedule)\");\n  let fname=\"save_schedule_\"+schedule.type;\n  local_actions[fname]?.(shadowRoot,elt,hass,schedule);\n  if(to_schedule!=null){\n    let data={\n      access_path: \"/head/\"+elt.device.config.id+\"/settings\",\n      method: \"put\",\n      data: {schedule_enabled:true,schedule:to_schedule},\n      device_id: elt.device.device.device.elements[0].primary_config_entry,\n    }    \n    console.debug(\"Call service\", data);\n    hass.callService(\"redsea\",\"request\", data);\n    shadowRoot.dispatchEvent(\n      new CustomEvent(\n\t\"hass-notification\",\n\t{\n\t  bubbles: true,\n\t  composed: true,\n\t  detail: {\n\t    message: i18n._(\"schedule_saved\")\n\t  }\n\t}\n      )\n    );\n  }\n  else {\n    console.error(\"Can not save schedule\", data);\n  }\n}\n\nfunction save_schedule_single(shadowRoot,elt,hass,schedule){\n  schedule.dd=parseFloat(shadowRoot.querySelector(\"#dailydose\").value);\n  schedule.time=stringToTime(shadowRoot.querySelector(\"#hour_1\").value);\n  schedule.mode=shadowRoot.querySelector(\"#speed_1\").value;\n  return schedule;\n}\n\nfunction save_schedule_hourly(shadowRoot,elt,hass,schedule){\n  schedule.dd=parseFloat(shadowRoot.querySelector(\"#dailydose\").value);\n  if (schedule.dd<5.0){\n    shadowRoot.dispatchEvent(\n      new CustomEvent(\n\t\"hass-notification\",\n\t{\n\t  bubbles: true,\n\t  composed: true,\n\t  detail: {\n\t    message: i18n._(\"can_not_save\")+i18n._(\"min_dose\")\n\t  }\n\t}\n      )\n    );\n    return null;\n  }\n  schedule.min=parseInt(shadowRoot.querySelector(\"#min_1\").value);\n  schedule.mode=shadowRoot.querySelector(\"#speed_1\").value;\n  return schedule;\n}\n\nfunction save_schedule_custom(shadowRoot,elt,hass,schedule){\n  schedule.dd=parseFloat(shadowRoot.querySelector(\"#dailydose\").value);\n  schedule.intervals=[];\n  for (let interval of shadowRoot.querySelectorAll(\".interval\")){\n    let s_id=interval.id.split(\"_\");\n    let position = s_id[s_id.length-1];\n    let start=stringToTime(interval.querySelector(\"#st_\"+position).value);\n    let end=stringToTime(interval.querySelector(\"#end_\"+position).value);\n    if (end-start < 30){\n      let msg=\"at_least_30m_between\";\n      if (end-start < 0){\n\tmsg=\"end_earlier_than_start\";\n      }\n      shadowRoot.dispatchEvent(\n\tnew CustomEvent(\n\t  \"hass-notification\",\n\t  {\n\t    bubbles: true,\n\t    composed: true,\n\t    detail: {\n\t      message: i18n._(\"can_not_save\")+i18n._(msg)\n\t    }\n\t  }\n\t)\n      );\n      return null;\n    }\n    let nd=parseInt(interval.querySelector(\"#nd_\"+position).value);\n    let speed=interval.querySelector(\"#speed_\"+position).value;\n    let json_interval={st:start,end:end,nd:nd,mode:speed};\n    schedule.intervals.push(json_interval);\n  }\n  schedule.intervals.sort(compare_interval) ;\n  schedule.type=shadowRoot.querySelector(\"#schedule_1\").value;\n  return schedule;\n}\n\n\nfunction compare_interval( a, b ) {\n  if (a.st < b.st){\n    return -1;\n  }\n  if(a.st > b.st){\n    return 1;\n  }\n  return 0;\n}\n\n\nfunction save_schedule_timer(shadowRoot,elt,hass,schedule){\n  schedule.intervals=[];\n  for (let interval of shadowRoot.querySelectorAll(\".interval\")){\n    let s_id=interval.id.split(\"_\");\n    let position = s_id[s_id.length-1];\n    let start=stringToTime(interval.querySelector(\"#st_\"+position).value);\n    let volume=parseFloat(interval.querySelector(\"#volume_\"+position).value);\n    let speed=interval.querySelector(\"#speed_\"+position).value;\n    let json_interval={st:start,volume:volume,mode:speed};\n    schedule.intervals.push(json_interval);\n  }\n  schedule.intervals.sort(compare_interval) ;\n  schedule.type=shadowRoot.querySelector(\"#schedule_1\").value;\n  return schedule;\n}\n\n\nfunction head_configuration_intervals_custom(shadowRoot,interval,form){\n  let div=shadowRoot.createElement('div');\n  let position=0;\n  for (position=0;position<100;position++){\n    let c_elt=form.querySelector(\"#interval_\"+position);\n    if(c_elt==null){\n      break;\n    }\n  }\n  div.className=\"interval\";\n  div.id=\"interval_\"+position;\n  let start=com.create_hour(shadowRoot,'st',interval.st,position);\n  let end=com.create_hour(shadowRoot,'end',interval.end,position);\n  let nd=com.create_select(shadowRoot,'nd', Array(24).fill().map((x,i)=>i+1),interval.nd,false,'',position);\n  div.appendChild(start);\n  div.appendChild(end);\n  div.appendChild(nd);\n  div.appendChild(com.create_select(shadowRoot,'speed',['whisper','regular','quick'],interval.mode,true,'',position));\n\n  let delete_button=shadowRoot.createElement(\"button\");\n  delete_button.className=\"delete_button\";\n  if(position==0){\n    delete_button.style.visibility=\"hidden\";\n  }\n  delete_button.addEventListener(\"click\", function(e: any) {e.preventDefault();head_configuration_delete_interval(position,form);},false);\n  div.appendChild(delete_button);\n  form.appendChild(div);\n}\n\nfunction head_configuration_intervals_timer(shadowRoot,interval,form){\n  let div=shadowRoot.createElement('div');\n  let position=0;\n  for (position=0;position<100;position++){\n    let c_elt=form.querySelector(\"#interval_\"+position);\n    if(c_elt==null){\n      break;\n    }\n  }\n  div.className=\"interval\";\n  div.id=\"interval_\"+position;\n  let start=com.create_hour(shadowRoot,'st',interval.st,position);\n  let vol=shadowRoot.createElement('div');\n  let node=null;\n  node=shadowRoot.createElement(\"label\");\n  node.innerHTML=i18n._(\"volume\");\n\n  let volume=shadowRoot.createElement(\"input\");\n  volume.type=\"number\";\n  volume.min=0.1;\n  volume.set=0.1;\n  volume.max=300;\n  volume.id=\"volume_\"+position;\n  volume.value=\"1\";\n  volume.className=\"volume\";\n  volume.addEventListener(\"changes\", (event: any) => { update_dd(shadowRoot)})\n  vol.appendChild(node);\n  vol.appendChild(volume);\n\n  div.appendChild(start);\n  div.appendChild(vol);\n  div.appendChild(com.create_select(shadowRoot,'speed',['whisper','regular','quick'],interval.mode,true,'',position));\n\n  let delete_button=shadowRoot.createElement(\"button\");\n  delete_button.className=\"delete_button\";\n  if(position==0){\n    delete_button.style.visibility=\"hidden\";\n  }\n  delete_button.addEventListener(\"click\", function(e: any) {e.preventDefault();head_configuration_delete_interval(position,form);},false);\n  div.appendChild(delete_button);\n  form.appendChild(div);\n}\n\nfunction head_configuration_delete_interval(position,intervals){\n  let interval=intervals.querySelector(\"#interval_\"+position);\n  interval.remove();\n}\n\nfunction head_configuration_schedule_hourly(schedule,elt,hass,shadowRoot,form){\n  let min=com.create_select(shadowRoot,'min', Array(6).fill().map((x,i)=>i*10),schedule.min,false,\"min\");\n  form.appendChild(min);\n  form.appendChild(com.create_select(shadowRoot,'speed',['whisper','regular','quick'],schedule.mode));\n  return form;\n\n}\n\nfunction handle_schedule_type_changes(event,elt,hass,shadowRoot){\n  let schedule={type:event.target.value};\n  head_configuration(elt,hass,shadowRoot,schedule);\n}\n\nfunction update_dd(shadowRoot){\n  let total_volume=shadowRoot.querySelector(\"#dailydose\");\n  let total=0;\n  for (let volume of shadowRoot.querySelectorAll(\".volume\")){\n    total += parseFloat(volume.value);\n  }\n  total_volume.value=total;\n}\n\nconst local_actions = {\n  head_configuration_schedule_single,\n  head_configuration_schedule_custom,\n  head_configuration_schedule_timer,\n  head_configuration_schedule_hourly,\n  save_schedule_single,\n  save_schedule_custom,\n  save_schedule_timer,\n  save_schedule_hourly,\n}\n","import * as dose_head_dialog from \"./dose_head.dialog\";\n\nexport const actionRegistry: Record<string, Record<string, Function>> = {\n  dose_head_dialog,\n};\n\nexport function run_action(module: string, fname: string, ...args: any[]) {\n  const fn = actionRegistry[module]?.[fname];\n\n  if (typeof fn !== \"function\") {\n    console.warn(`Action ${module}.${fname} introuvable`);\n    return;\n  }\n\n  return fn(...args);\n}\n","import { html, LitElement } from \"lit\";\n\nimport style_dialog from \"./dialog.styles\";\nimport style_click_image from \"./click_image.styles\";\nimport { SafeEval, SafeEvalContext } from '../../utils/SafeEval';\n\nimport i18n from \"../../translations/myi18n.js\";\n\nimport { MyElement } from \"./element\";\n\n//import * as dhd from \"../dose_head.dialog\";\nimport { run_action } from \"../actions\";\n\nexport class Dialog extends LitElement {\n\n  static override styles = [style_dialog, style_click_image];\n\n  static override get properties() {\n    return {\n      _shadowRoot: {},\n      to_render: {},\n      elt: {},\n    };\n  }\n\n  protected _hass: any = null;\n  protected _shadowRoot: ShadowRoot | null = null;\n  protected config: any = null;\n  protected elt: any = null;\n  protected elts: any[] = [];\n  protected extends_to_re_render: any[] = [];\n  protected to_render: any = null;\n  protected overload_quit: any = null;\n  protected evalCtx: SafeEvalContext;\n\n  constructor() {\n    super();\n    this._hass = null;\n    this._shadowRoot = null;\n    this.config = null;\n    this.elt = null;\n    this.elts = [];\n    this.extends_to_re_render = [];\n    this.to_render = null;\n    this.overload_quit = null;\n  }\n\n  createContext(){\n    if(!this.evalCtx){\n\tconst context = {\n\t  config: this.elt.device.config,\n\t  i18n: i18n,\n\t};\n      this.evalCtx = new SafeEval(context);\n    }      \n  }\n  \n  evaluate(expression: string){\n    this.createContext();\n    return this.evalCtx.evaluate(expression);\n  }\n\n  \n  init(hass: any, shadowRoot: ShadowRoot): void {\n    this._hass = hass;\n    this._shadowRoot = shadowRoot;\n  }\n\n  display(conf: any): void {\n    if (!this._shadowRoot) return;\n    const box = this._shadowRoot.querySelector(\"#window-mask\") as HTMLElement | null;\n    \n    if (!box) return;\n    this.elt = conf.elt;\n    console.log(\"DISPLAY\",this.config,conf);\n    this.to_render = this.config?.[conf.type];\n    this.overload_quit = conf.overload_quit;\n    this.render();\n    box.style.display = \"flex\";\n  }\n\n  quit(): void {\n    if (this.overload_quit) {\n      const event = { type: this.overload_quit, elt: this.elt };\n      this.display(event);\n    }\n    else {\n      if (this._shadowRoot) {\n        const box = this._shadowRoot.querySelector(\"#window-mask\") as HTMLElement | null;\n        if (box) box.style.display = \"none\";\n      }\n      this.elt = null;\n      this.to_render = null;\n    }\n  }\n\n  set hass(obj: any) {\n    this._hass = obj;\n    if (this.elts) {\n      for (const elt of this.elts) {\n        elt.hass = obj;\n      }\n    }\n    if (this.extends_to_re_render) {\n      for (const _elt of this.extends_to_re_render) {\n        // Note: eval usage removed for security - extend this as needed\n\t//this.evalaluate(elt);\n\tconsole.log(\"!!!!!!\",_elt);\n\trun_action(_elt.package,_elt.function_name,this.elt,this._hass,this._shadowRoot);\n        console.warn(\"extends_to_re_render not fully implemented\");\n      }\n    }\n  }\n\n  set_conf(config: any): void {\n    console.log(\"Setting config\",this.config);\n    this.config = config;\n  }\n\n  create_form(content_conf: any): HTMLElement[] {\n    const elements: HTMLElement[] = [];\n\n    for (const input of content_conf) {\n      if (!this._shadowRoot) continue;\n      const doc = this._shadowRoot.ownerDocument;\n      if (!doc) continue;\n      const elt = doc.createElement(input.type);\n      elt.id = input.id;\n      elements.push(elt);\n    }\n\n    return elements;\n  }\n\n  render_dialog(elements: any[]): void {\n    if (!this.to_render) return;\n\n    for (const element of this.to_render.elements || []) {\n      const tag_name = element.type;\n\n      const r_element = elements.find((el: any) => el.name === element.name);\n      if (!r_element) continue;\n\n      const Element = customElements.get(tag_name);\n\n      if (Element) {\n        const elt = new (Element as any)() as HTMLElement & { setConfig?: (c: any) => void; hass?: any; device?: any };\n        elt.setConfig?.(element);\n        elt.hass = this._hass;\n        elt.device = this.elt?.device;\n        this.elts.push(elt);\n        if (this._shadowRoot) {\n          this._shadowRoot.appendChild(elt);\n        }\n      }\n    }\n  }\n\n\n  _render_content(content_conf){\n\tvar content=null;\n\tif(content_conf.view==\"common-button\"){\n\t    content=MyElement.create_element(this._hass,content_conf.conf,this.elt.device);\n\t}\n\telse if(content_conf.view==\"text\"){\n\t    content=this._shadowRoot.createElement(\"p\");\n\t    try {\n\t\tcontent.innerHTML=this.evaluate(content_conf.value);\n\t    }\n\t    catch (error){\n\t\tconsole.error(\"ERROR\",error);\n\t\tcontent.innerHTML=content_conf.value;\n\t    }\n\t}\n\telse if(content_conf.view==\"extend\"){\n\n\t  run_action(content_conf.extend,this.to_render.name,this.elt,this._hass,this._shadowRoot);\n\n\t  \n\t    if (content_conf.re_render){\n\t      this.extends_to_re_render.push({\"package\":content_conf.extend,\"function_name\":this.to_render.name});\n\t    }\n\t    return;\n\t}\n\telse{\n\t    const r_element= customElements.get(content_conf.view);\n\t    content= new r_element();\n\t    // translate from translation_key to entity_id\n\t    const clone = structuredClone(content_conf.conf);\n\t    if(\"entities\" in content_conf.conf){\n\t\tfor (let pos in content_conf.conf.entities){\n\t\t    if (typeof clone.entities[pos]==\"string\"){\n\t\t\tclone.entities[pos]=this.elt.get_entity(content_conf.conf.entities[pos]).entity_id;\n\t\t    }\n\t\t    else {\n\t\t\tclone.entities[pos].entity=this.elt.get_entity(content_conf.conf.entities[pos].entity).entity_id;\n\t\t    }\n\t\t}\n\t    }\n\t    else if(\"entity\" in content_conf.conf){\n\t\tclone.entity=this.elt.get_entity(content_conf.conf.entity).entity_id;\n\t    }\n\t    content.setConfig(clone);\n\t    content.hass=this._hass;\n\t    content.device=this.elt.device;\n\t}\n\tthis.elts.push(content);\n\tthis._shadowRoot.querySelector(\"#dialog-content\").appendChild(content);\n  }\n  \n  render(){\n    let close_conf={\n      \"image\": new URL('../img/close_cross.svg',import.meta.url),\n      \"type\": \"common-button\",\n      \"stateObj\": null,\n      \"tap_action\":{\n\t\"domain\":\"redsea_ui\",\n\t\"action\":\"exit-dialog\",\n      },\n      \"label\": \"${i18n._('exit')}\",\n      \"class\": \"dialog_button\",\n      \"elt.css\":{\n\t\"background-color\":\"rgba(0,0,0,0)\",\n      }\n    };\n\n    if(this.to_render!=null){\n      let submit_conf=close_conf;\n      let cancel_conf=null;\n      if(\"validate\" in this.to_render){\n\tthis.to_render.validate['elt.css']={\"background-color\":\"rgba(0,0,0,0)\"};\n\tsubmit_conf=this.to_render.validate;\n      }\n      if(\"cancel\" in this.to_render && this.to_render.cancel){\n\tcancel_conf=close_conf;\n\tcancel_conf.label=i18n._(\"cancel\");\n\tcancel_conf.css={left:\"-30%\"};\n\t\n      }\n\n      this._shadowRoot.querySelector(\"#dialog-close\").innerHTML='';\n      this._shadowRoot.querySelector(\"#dialog-title\").innerHTML='';\n      this._shadowRoot.querySelector(\"#dialog-content\").innerHTML='';\n      this._shadowRoot.querySelector(\"#dialog-cancel\").innerHTML='';\n      this._shadowRoot.querySelector(\"#dialog-submit\").innerHTML='';\n      // Closing cross\n      if(!(\"close_cross\" in this.to_render && !this.to_render.close_cross)){\n\tlet close_cross_class=customElements.get(\"click-image\");\n\tlet close_cross=new close_cross_class();\n\tclose_cross.conf=close_conf;\n\tclose_cross.hass=this._hass;\n\tthis._shadowRoot.querySelector(\"#dialog-close\").appendChild(close_cross);\n      }\n      // Title\n      this._shadowRoot.querySelector(\"#dialog-title\").innerHTML=this.evaluate(this.to_render.title_key);\n      // Content\n      this.elts=[];\n      this.extends_to_re_render=[];\n      this.to_render.content.map(c => this._render_content(c));\n      // Submit\n      let submit_button=MyElement.create_element(this._hass,submit_conf,this.elt.device);\n      this._shadowRoot.querySelector(\"#dialog-submit\").appendChild(submit_button);\n      //Cancel\n      if(cancel_conf){\n\tlet cancel_button=MyElement.create_element(this._hass,cancel_conf,this.elt.device);\n\tthis._shadowRoot.querySelector(\"#dialog-cancel\").appendChild(cancel_button);\n      }\n    }\n    return html`\n<div id=\"window-mask\">\n<div id=\"dialog\">\n<div id=\"dialog-close\"></div>\n<div id=\"dialog-title\"></div>\n<div id=\"dialog-content\"></div>\n<div id=\"dialog-cancel\"></div>\n<div id=\"dialog-submit\"></div>\n</div>\n</div>\n`;\n  }//end of function render\n}\n","import {\n  LitElement,\n  html,\n} from \"lit\";\n\nimport { customElement, property, state } from \"lit/decorators.js\";\n\nimport i18n from \"./translations/myi18n.js\";\n\nimport DeviceList from './common';\n\nimport style_card from './card.styles';\n\nimport {RSDevice} from './devices/device';\nimport {Dialog} from './devices/base/dialog';\n\nimport style_dialog from './devices/base/dialog.styles';\n\ninterface SelectDevice {\n  value: string;\n  text: string;\n}\n\ninterface UserConfig {\n  device?: string;\n  [key: string]: any;\n}\n\ninterface CustomEvent<T = any> extends Event {\n  detail: T;\n}\n\nexport class ReefCard extends LitElement {\n\n  static override styles = [style_card,style_dialog];\n\n  // Propriétés réactives publiques (avec @property)\n  @property({ attribute: false })\n  private _hass: any;\n\n  @property({ attribute: false })\n  private current_device: any;\n  \n  // États internes (avec @state)\n  @state()\n  private select_devices: SelectDevice[] = [];\n  \n  @state()\n  private first_init: boolean = true;\n  \n  @state()\n  private re_render: boolean = false;\n  \n  @state()\n  private _dialog_box: Dialog | null = null;\n  \n  @state()\n  private user_config: UserConfig = {};\n  \n  @state()\n  private no_device: any;\n  \n  @state()\n  private devices_list!: DeviceList;\n  \n  @state()\n  private selected?: string;\n  \n  @state()\n  private messages?: any;\n  \n  constructor() {\n    super();\n    this.addEventListener(\"display-dialog\", (e: Event) => {this._handle_display_dialog(e as CustomEvent);});\n    this.addEventListener(\"config-dialog\", (e: Event) => {\n      if (this._dialog_box) {\n        this._dialog_box.set_conf((e as CustomEvent).detail.dialogs);\n      }\n    });\n    this.addEventListener(\"quit-dialog\", () => {\n      if (this._dialog_box) {\n        this._dialog_box.quit();\n      }\n      this.render(); /* force rerender*/\n    });\n  }// end of constructor\n\n  setConfig(config: UserConfig): void {\n    this.user_config = config;\n  }// end of function - setConfig\n\n  set hass(obj: any){\n    if(this.first_init==true){\n      this._hass=obj;\n    }\n    else {\n      this.current_device.hass=obj;\n      if (this._dialog_box) {\n        this._dialog_box.hass=obj;\n      }\n    }\n  }\n\n  private _handle_display_dialog(event: CustomEvent): void {\n    if (this._dialog_box) {\n      this._dialog_box.display(event.detail);\n    }\n  }// end of function - _handle_display_dialog  \n\n  \n  override render() {\n    console.debug(\"render main\");\n    if(this.first_init==true){\n      \n      this.init_devices();\n      this.first_init=false;\n      this.no_device=RSDevice.create_device(\"redsea-nodevice\",this._hass,null,{} as any);\n      this.current_device=this.no_device;\n      this._dialog_box=new Dialog();\n      if (this.shadowRoot) {\n        this._dialog_box.init(this._hass,this.shadowRoot);\n      }\n    }// if\n    else {\n      this.current_device.hass=this._hass;\n      if(!this.re_render){\n\treturn;\n      }\n    }\n    \n    if(this.user_config['device']){\n      this.select_devices.map(dev => this._set_current_device_from_name(dev,this.user_config.device!));\n      this.current_device.hass=this._hass;\n      // A specific device has been selected\n      return html`\n${this.messages}\n${this.current_device}\n${this._dialog_box?.render()}`;\n    }// fi\n    // no secific device selected, display select form\n    return html`\n${this.device_select()}\n${this.messages}\n${this.current_device}\n${this._dialog_box?.render()}`;\n  }// end of render\n\n  private device_select() {\n    return html`\n<select id=\"device\" @change=\"${this.onChanges}\">\n${this.select_devices.map(option => html`\n      <option value=\"${option.value}\" ?selected=${this.current_device?.device?.elements?.[0]?.primary_config_entry === option.value}>${option.text}</option>\n      `)}\n</select>`;\n  }\n\n  private init_devices(): void {\n    this.devices_list=new DeviceList(this._hass);\n    this.select_devices=[{value:'unselected',text:i18n._(\"select_device\")}];\n\n    for (const d of this.devices_list.main_devices){\n      this.select_devices.push(d);\n    }// for\n  }// end of init_devices\n\n  private _set_current_device_from_name(dev: SelectDevice, name: string): void {\n    if (dev['text']==name){\n      this._set_current_device(dev['value']);\n    }\n  }// end of _set_current_device_from_name\n\n  private _set_current_device(device_id: string): void {\n    console.debug(\"Current device\",device_id);\n    // No device selected, display redsea logo\n    if (device_id==\"unselected\"){\n      this.current_device=this.no_device;\n      return;\n    }\n    \n    if (this.current_device.device != null  && this.current_device.device.elements &&\n      this.current_device.device.elements[0].primary_config_entry ==device_id){\n      console.debug(\"current device not updated\",this.current_device.device.name);\n      return;\n    }\n    \n    const device=this.devices_list.devices[device_id];\n    if (!device) {\n      console.error(\"Device not found:\", device_id);\n      return;\n    }\n    const model = device.elements[0]?.model;\n    if (!model) {\n      console.error(\"Device model not found\");\n      return;\n    }\n    // @ts-ignore - DeviceInfo type mismatch between imports\n        this.current_device=RSDevice.create_device(\"redsea-\"+model.toLowerCase(),this._hass,this.user_config,device);\n    console.debug(this.current_device);\n    // TODO : Implement MAIN tank view support\n    // Issue URL: https://github.com/Elwinmage/ha-reef-card/issues/11\n    // labels: enhancement\n    switch(model){\n\t// TODO : Implement RSDOSE support\n\t// Issue URL: https://github.com/Elwinmage/ha-reef-card/issues/10\n\t// labels: enhancement, rsdose\n      case \"RSDOSE2\":\n\t// TODO : Implement RSDOSE2 support\n\t// Issue URL: https://github.com/Elwinmage/ha-reef-card/issues/9\n\t// labels: enhancement, rsdose, rsdose2\n      case \"RSDOSE4\":\n\t// TODO : Implement RSDOSE4 support\n\t// Issue URL: https://github.com/Elwinmage/ha-reef-card/issues/8\n\t// labels: enhancement, rsdose, rsdose4\t\n\tbreak;\n      case \"RSRUN\":\n\t// TODO : Implement RSRUN support\n\t// Issue URL: https://github.com/Elwinmage/ha-reef-card/issues/7\n\t// labels: enhancement, rsrun\tbreak;\n      case \"RSWAVE\":\n\t// TODO : Implement RSWAVE support\n\t// Issue URL: https://github.com/Elwinmage/ha-reef-card/issues/6\n\t// labels: enhancement, rswave\n\tbreak;\n      case \"RSMAT\":\n\t// TODO : Implement RSMAT support\n\t// Issue URL: https://github.com/Elwinmage/ha-reef-card/issues/5\n\t// labels: enhancement, rsmat\n\tbreak;\n      case \"RSATO+\":\n\t// TODO : Implement RSATO+ support\n\t// Issue URL: https://github.com/Elwinmage/ha-reef-card/issues/4\n\t// labels: enhancement, rsato\t\n\tbreak;\n\t// TODO : Implement RSLED support\n\t// Issue URL: https://github.com/Elwinmage/ha-reef-card/issues/3\n\t// labels: enhancement, rsled\t\n      case \"RSLED50\":\n      case \"RSLED60\":\n      case \"RSLED90\":\n      case \"RSLED115\":\n      case \"RSLED160\":\n      case \"RSLED170\":\n\tbreak;\n      default:\n\tconsole.log(\"Unknow device type: \"+model)\n    }\n    \n  }\n\n  private onChanges = (): void => {\n    setTimeout(()=>{\n      if (this.shadowRoot) {\n        const selectElement = this.shadowRoot.querySelector('#device') as HTMLSelectElement | null;\n        if (selectElement) {\n          this.selected = selectElement.value;\n        }\n      }\n      this.current_device=this.no_device;\n      \n      if (this.selected==\"unselected\"){\n        console.log('Nothing selected');\n      }\n      else if (this.selected) {\n\tthis._set_current_device(this.selected);\n      }\n      this.re_render=true;\n      this.requestUpdate();\n      \n    },300)\n  }// end of onChanges\n\n  static getConfigElement() {\n    return document.createElement(\"reef-card-editor\");\n  }// end of getConfigElement\n}// end of class ReefCard\n","import { css, html, LitElement } from 'lit';\nimport { customElement, property, state } from 'lit/decorators.js';\n\nimport i18n from \"./translations/myi18n\";\n\nimport DeviceList from './common';\nimport {RSDevice} from './devices/device';\n\ninterface HassConfig {\n  device?: string;\n  [key: string]: any;\n}\n\ninterface SelectDevice {\n  value: string;\n  text: string;\n}\n\nexport class ReefCardEditor extends LitElement {\n\n  @property({ attribute: false })\n  _config: HassConfig | null = null;\n\n  @property({ attribute: false })\n  current_device: any | null = null;\n  \n  @property({ attribute: false })\n  private _hass: any;\n  \n  @state()\n  private select_devices: SelectDevice[] = [];\n  \n  @state()\n  private first_init: boolean = true;\n  \n  @state()\n  private devices_list!: DeviceList;\n\n  constructor(){\n    super();\n    this.current_device=null;\n    //    this.addEventListener('config-changed', this.render());\n    this.addEventListener('config-changed', this.requestUpdate());    \n  }// end of constructor\n\n  setConfig(config: HassConfig): void {\n    console.log(\"setConfig CARD\");\n    this._config = config;\n    //this.render();\n    this.requestUpdate();\n  }// end of function setConfig\n\n  set hass(obj: any){\n    this._hass=obj;\n  }\n  \n  private init_devices(): void {\n    this.devices_list=new DeviceList(this._hass);\n    this.select_devices=[{value:'unselected',text:i18n._(\"select_device\")}];\n    for (const d of this.devices_list.main_devices){\n      this.select_devices.push(d);\n    }// for\n  }\n\n  \n  static styles = css`\n.table {\ndisplay: table;\n}\n.row {\ndisplay: table-row;\n}\n.cell {\ndisplay: table-cell;\npadding: 0.5em;\n}\n`;\n\n  render() {\n    console.log(\"Render Editor\");\n    if(this._config){\n      if (this.first_init==true){\n\tthis.first_init=false;\n\tthis.init_devices();\n      }\n      return html`\n<div class=\"card-config\">\n<div class=\"tabs\">\n<div class=\"tab\">\n<label class=\"rab-label\" for=\"device\">Device:</label>\n<select id=\"device\" class=\"value cell\" @change=\"${this.handleChangedEvent}\">\n${this.select_devices.map(option => html`\n        <option value=\"${option.value}\" ?selected=${this._config!.device === option.text}>${option.text}</option>\n        `)}\n</select>\n</div>\n${this.device_conf()}\n</div>\n</div>\n`;\n    }\n    return html``;\n  }// end of - render\n\n  private device_conf() {\n    if (this._config && this._config.device && this._config.device.length > 0){\n      const device=this.devices_list.get_by_name(this._config.device);\n      if (!device) {\n        return ``;\n      }\n      const model = device.elements[0]?.model;\n      if (!model) {\n        return ``;\n      }\n      // @ts-ignore - DeviceInfo type mismatch\n            const lit_device=RSDevice.create_device(\"redsea-\"+model.toLowerCase(),this._hass,this._config,device);\n      if (lit_device!=null && typeof lit_device['editor'] == 'function'){\n// @ts-ignore - editor property exists at runtime\n\t\tthis.current_device=lit_device;\n\t// @ts-ignore - editor property exists at runtime\n\treturn lit_device.editor(this.shadowRoot);\n      }// if\n    }\n    return ``;\n  }// end of function - device_conf\n\n  private handleChangedEvent(_changesdEvent: Event): void {\n    // this._config is readonly, copy needed\n    if (this.shadowRoot == null){\n      console.error(\"Can not found a device\");\n      return;\n    }\n\n    const newConfig = JSON.parse(JSON.stringify(this._config)) as HassConfig; \n    const elt = this.shadowRoot.getElementById(\"device\") as HTMLSelectElement | null;\n    if (elt == null){\n      console.error(\"Can not found a device\");\n      return;\n    }\n    let val='unselected';\n    if (elt.selectedIndex == 0){\n      delete newConfig.device;\n    }\n    else{\n      val = elt.options[elt.selectedIndex]!.text;\n      newConfig.device = val;\n    }\n    const messageEvent = new CustomEvent(\"config-changed\", {\n      detail: { config: newConfig },\n      bubbles: true,\n      composed: true,\n    });\n    this.dispatchEvent(messageEvent);\n  }// end of function - handleChangesdEvent    \n}// end of class ReefCardEditor\n","import {css} from 'lit';\n\nexport default css`\n\n:hover{\n  cursor: pointer;\n}\n\n.button{\n  width:100%;\n  height:100%;\n  border-radius: 30px;\n}\n\n.dialog_button:hover{\n  background-color: #006787;\n}\n\n\n.dialog_button{\n  border-radius: 20px;\n  background-color: #009ac7;\n  color: white;\n  font-weight: bold;\n  padding-top: 10px;\n  padding-bottom: 10px;\n  padding-left: 20px;\n  padding-right: 20px;\n  display:inline-block;\n}\n.\n`;\n","import { html, css } from \"lit\";\nimport { customElement } from \"lit/decorators.js\";\n\nimport style_button from \"./button.styles\";\nimport {MyElement} from \"./element\";\n\nexport class Button extends MyElement {\n\n  static override styles = [style_button, css`\n    .button {\n      background-color: var(--button-bg-color);\n    }\n  `];\n\t\t\n  constructor(){\n    super();\n  }\n\n  protected override _render(_style: string = ''): any {\n    const sclass = this.conf?.class || 'button';\n    const icon = this.conf?.icon \n      ? html`<ha-icon icon=\"${this.conf.icon}\"></ha-icon>`\n      : null;\n    \n    \n    return html`\n      <div \n        class=\"button\" \n        id=\"${this.conf?.name || ''}\" >\n        ${icon}${this.label}\n      </div>\n    `;\n  }\n}\n","import { html } from \"lit\";\nimport { customElement } from \"lit/decorators.js\";\n\nimport style_click_image from \"./click_image.styles\";\nimport {MyElement} from \"./element\";\n\nexport class ClickImage extends MyElement {\n\n  static override styles = [style_click_image];\n\t\t\n  constructor(){\n    super();\n  }\n\n  protected override _render(_style: string = ''): any {\n    const imageSrc = this.conf?.image || '';\n    const imageStyle = this.conf?.css ? \n      Object.entries(this.conf.css)\n        .map(([k, v]) => `${k}:${v}`)\n        .join(';') : '';\n    \n    return html`\n      <img \n        class=\"click-image\" \n        src=\"${imageSrc}\" \n        style=\"${imageStyle}\"\n        alt=\"${this.conf?.name || 'clickable image'}\" />\n    `;\n  }\n}\n","import {css} from 'lit';\n\nexport default css`\n\n.progress-bar {\n  position: relative;\n  border-radius: 20px;\n  border: 1px solid white;\n  padding: 2px;\n}\n\n.progress-bar-container {\n  position: relative;\n  height: 20px;\n  border-radius: 20px;\n  background-color: rgba(0, 0, 0, 0.3);\n  overflow: hidden;\n}\n\n.progress-bar-fill {\n  height: 100%;\n  border-radius: 20px;\n  transition: width 0.3s ease;\n}\n\n.progress-label {\n  position: absolute;\n  top: 2px;\n  left: 5px;\n  color: white;\n  font-size: 0.8em;\n  font-weight: bold;\n  z-index: 2;\n}\n\n.progress-value {\n  position: absolute;\n  top: 2px;\n  right: 5px;\n  color: white;\n  font-size: 0.8em;\n  font-weight: bold;\n  z-index: 2;\n}\n`;\n\n","import { html, TemplateResult, css } from \"lit\";\nimport { customElement, property } from \"lit/decorators.js\";\nimport style_progress_bar from \"./progress_bar.styles\";\nimport { MyElement } from \"./element\";\nimport type { HassEntity, ProgressConfig } from \"../../types/index\";\n\nexport class ProgressBar extends MyElement {\n  static override styles = [style_progress_bar, css`\n    .progress-bar-fill {\n      background-color: var(--progress-fill-color);\n    }\n  `];\n\n  @property({ type: Object })\n  override stateObjTarget: HassEntity | null = null;\n\n  @property({ type: Object })\n  declare conf?: ProgressConfig;\n\n  constructor() {\n    super();\n    this.stateObjTarget = null;\n  }\n\n  protected override _render(_style: string = ''): TemplateResult {\n    // Check disabled condition\n/*    console.debug(\"DISABLED?\",this.conf.disabled_if);\n    if (this.conf?.disabled_if && this.evaluateDisabledCondition(this.conf.disabled_if)) {\n      return html`<br />`;\n    }\n*/\n    if (!this.stateObj || !this.stateObjTarget) {\n      return html`<div class=\"error\">Missing state</div>`;\n    }\n\n    const value = parseFloat(this.stateObj.state) || 0;\n    const target = parseFloat(this.stateObjTarget.state) || 1;\n    const percent = Math.floor((value * 100) / target);\n    if (percent > 100){\n      console.error(`[ProgressBar - ${this.conf.name}] bad percent value  : ${percent}=${value}*100/${target}`);\n    }\n    \n    const bar_class = this.conf?.class || 'progress-bar';\n    const label = this.label || '';\n    const unit = \"%\";\n    \n    const fill = Math.max(0, percent - 1);\n    const fillColor = `rgb(${this.c})`;\n\n    return html`\n      <div class=\"${bar_class}\">\n        <div class=\"progress-bar-container\">\n          <div \n            class=\"progress-bar-fill\" \n            style=\"width: ${fill}%; --progress-fill-color: ${fillColor}\">\n          </div>\n        </div>\n        ${label ? html`<span class=\"progress-label\">${label}</span>` : ''}\n        <span class=\"progress-value\">${percent}${unit}</span>\n      </div>\n    `;\n  }\n\n}\n","import {css} from 'lit';\n\nexport default css`\n`;\n","import { html, TemplateResult, css } from \"lit\";\nimport { customElement, property } from \"lit/decorators.js\";\nimport style_progress_circle from \"./progress_circle.styles\";\nimport { MyElement } from \"./element\";\nimport type { HassEntity, ProgressConfig } from \"../../types/index\";\n\nexport class ProgressCircle extends MyElement {\n  static override styles = [style_progress_circle, css`\n    .progress-circle-path {\n      stroke: var(--progress-stroke-color);\n    }\n  `];\n\n  @property({ type: Object })\n  override stateObjTarget: HassEntity | null = null;\n\n  @property({ type: Object })\n  declare conf?: ProgressConfig;\n\n  constructor() {\n    super();\n    this.stateObjTarget = null;\n  }\n\n  protected override _render(_style: string = ''): TemplateResult {\n    if (this.conf?.disabled_if && this.evaluateCondition(this.conf.disabled_if)) {\n      return html`<br />`;\n    }\n    let value=this.stateObj.state;\n    let target=this.stateObjTarget.state;\n    let percent=100\n    if(parseFloat(value) < parseFloat(target)){\n      percent=Math.floor( Number(this.stateObj.state)*100/this.stateObjTarget.state);\n    }//if\n    let circle_class=this.conf.class;\n    let label=this.label;\n    \n    let style='';\n\tif('no_value' in this.conf && this.conf.no_value){\n\t    style=\"visibility: hidden;\";\n\t};\n\tlet unit=\"%\"\n\tlet fill=percent-2;\n\tif (fill<0){\n\t    fill = 0;\n\t}\n\t// range 0 to 565 for 200x200\n\treturn html`\n              <svg width=\"100%\" height=\"100%\" viewBox=\"-25 -25 250 250\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" style=\"transform:rotate(-90deg)\">\n                <circle r=\"90\" cx=\"100\" cy=\"100\" fill=\"transparent\" stroke=\"rgba(150,150,150,0.6)\" stroke-width=\"16px\"></circle>\n                <circle r=\"90\" cx=\"100\" cy=\"100\" stroke=\"rgb(${this.c})\" stroke-width=\"16px\" stroke-linecap=\"round\" stroke-dashoffset=\"${565-percent*565/100}px\" fill=\"transparent\" stroke-dasharray=\"565.48px\"></circle>\n                <text x=\"71px\" y=\"115px\" fill=\"#6bdba7\" font-size=\"52px\" font-weight=\"bold\" style=\"${style} transform:rotate(90deg) translate(0px, -196px)\">${percent}</text>\n</svg>`;\n  }\n\n}\n","import {css} from 'lit';\n\nexport default css`\n`;\n","import { html } from \"lit\";\nimport { customElement } from \"lit/decorators.js\";\n\nimport style_messages from \"./messages.styles\";\nimport {MyElement} from \"./element\";\nimport type { ElementConfig } from \"../../types/element\";\n\nexport class RSMessages extends MyElement {\n\n  static override styles = style_messages;\n\n  constructor(){\n    super();\n  }\n  \n  protected override _render(_style: string = ''): any {\n    const sclass = this.conf?.class || \"\";\n    let trash: any = null;\n    let computed_style = this.get_style(\"elt.css\");\n    \n    if (!this.stateObj) {\n      return html``;\n    }\n    \n    let value = this.stateObj.state;\n    if (value === \"unavailable\" || value === \"unknown\" || value.length === 0) {\n      value = '';\n      computed_style = '';\n      trash = null;\n    }\n    else {\n      if (this.conf && 'label' in this.conf) {\n        value = this.conf.label + value + this.conf.label;\n      }\n      const conf: ElementConfig = {\n        type: \"click-image\",\n        name: \"trash\",\n        stateObj: false,\n        image: '/hacsfiles/ha-reef-card/img/trash.svg',\n        tap_action: {\n          domain: \"redsea\",\n          action: \"clean_message\",\n          data: {\n            device_id: this.device?.device?.elements?.[0]?.primary_config_entry,\n            msg_type: this.conf?.name,\n          }\n        },\n        css: {\n          display: \"inline-block\",\n          position: \"absolute\",\n          right: \"0px\"\n        }\n      };\n      \n      if (this._hass && this.device) {\n        trash = MyElement.create_element(this._hass, conf, this.device);\n      }\n    }\n    \n    return html`\n      <div style=${computed_style}>\n        <marquee class=\"${sclass}\">${value}</marquee>\n        ${trash}\n      </div>\n    `;\n  }\n}\n","import {css} from 'lit';\n\nexport default css`\nspan.unit{\nfont-size: 0.6em;\n}\n`;\n","import {css} from 'lit';\n\nexport default css`\n\n:hover{\ncursor: pointer;\n}\n\nspan.unit{\nfont-size: 0.6em;\n}\n`;\n","import { html, TemplateResult, CSSResultGroup, css } from \"lit\";\nimport { customElement, property } from \"lit/decorators.js\";\nimport style_sensor from \"./sensor.styles\";\nimport { MyElement } from \"./element\";\n\ninterface SensorConfig {\n  name?: string;\n  class?: string;\n  prefix?: string;\n  force_integer?: boolean;\n  unit?: string;\n  label?: string;\n  disabled_if?: any;\n  [key: string]: any;\n}\n\nexport class Sensor extends MyElement {\n  static override styles: CSSResultGroup = [style_sensor, css`\n    .sensor {\n      background-color: var(--sensor-bg-color);\n    }\n  `];\n\n  @property({ type: Object, attribute: false })\n  // @ts-expect-error - Property override compatibility\n  declare conf?: SensorConfig;\n\n  constructor() {\n    super();\n  }\n\n  override connectedCallback(): void {\n    super.connectedCallback();\n    this.stateOn = this.stateObj?.state === 'on';\n  }\n\n  override updated(): void {\n    if (this.stateObj) {\n      this.stateOn = this.stateObj.state === 'on';\n    }\n  }\n\n  protected override _render(_style: string = ''): TemplateResult {\n    if (!this.conf) {\n      return html``;\n    }\n\n    const sclass = this.conf.class || '';\n    let value: string | number = '';\n    let unit = '';\n\n    if (this.stateObj) {\n      value = this.label || this.stateObj.state;\n      unit = this.conf.unit || this.stateObj.attributes?.unit_of_measurement || '';\n\n      if (this.conf.prefix) {\n        value = this.conf.prefix + value;\n      }\n\n      if (this.conf.force_integer && typeof value === 'string') {\n        const numValue = parseFloat(value);\n        if (!isNaN(numValue)) {\n          value = Math.round(numValue).toString();\n        }\n      }\n    }\n\n    return html`\n      <div \n        class=\"sensor ${sclass}\" \n        style=\"${_style}; \">\n        ${value}\n        ${unit ? html`<span class=\"unit\">${unit}</span>` : ''}\n      </div>\n    `;\n  }\n\n}\n","import { html, TemplateResult } from \"lit\";\nimport { customElement, property } from \"lit/decorators.js\";\nimport style_sensor_target from \"./sensor_target.styles\";\nimport { Sensor } from \"./sensor\";\nimport type { HassEntity } from \"../../types/index\";\n\nexport class SensorTarget extends Sensor {\n  static override styles = style_sensor_target;\n\n  @property({ type: Object })\n  override stateObjTarget: HassEntity | null = null;\n\n  constructor() {\n    super();\n    this.stateObjTarget = null;\n  }\n\n  protected override _render(_style: string = ''): TemplateResult {\n    if (!this.stateObj || !this.stateObjTarget) {\n      return html`<div class=\"error\">Missing state</div>`;\n    }\n\n    let value = parseFloat(this.stateObj.state) || 0;\n    let target = parseFloat(this.stateObjTarget.state) || 0;\n    if(this.conf.force_integer){\n      value=Math.floor(value);\n      target=Math.floor(target);\n    }\n\n    //eval de unit\n    const unit = this.evaluate(this.conf?.unit || this.stateObj.attributes?.unit_of_measurement || '');\n    \n    const sclass = this.conf?.class || 'sensor';\n    \n    const style = this.get_style('css');\n    const bgColor = `rgba(${this.c},${this.alpha})`;\n\n    return html`\n<div class=\"${sclass}\" id=\"${this.conf.name}\" style=\"${style}\">${value}/${target}<span class=\"unit\">${unit}</span></div>\n`;\n    \n  }\n}\n","import {css} from 'lit';\n\nexport default css`\n\n:hover{\ncursor: pointer;\n}\n\n.switch_on{\n  position :absolute;\n  border-radius: 30px;\n  background-color: rgba(255,10,10,0.5);\n  border: 1px solid red;\n  width: 100%;\n  height: 100%;\n}\n\n.switch_off{\n  position :absolute;\n  border-radius: 30px;\n  background-color: rgba(175,175,175,0.5);\n  width: 100%;\n  height: 100%;\n}\n\n.switch_in_on{\n  position :absolute;\n  left: 38%;\n  top: -20%;\n  aspect-ratio: 1/1;\n  border-radius: 30px;\n  background-color: rgba(250,250,250,1);\n  width: 60%;\n}\n\n.switch_in_off{\n  position :absolute;\n  left: 0%;\n  top: -25%;\n  aspect-ratio: 1/1;\n  border-radius: 30px;\n  background-color: rgba(250,250,250,1);\n// background-color: rgba(255,20,20,1);  width: 60%;\n\n}\n\n.switch_button{\n  aspect-ratio: 1/1;\n  width: 100%;\n  height:100%;\n  border-radius: 50%;\n  color: white;\n  text-align:center;\n}\n`;\n","import { html } from \"lit\";\nimport { customElement } from \"lit/decorators.js\";\n\nimport style_switch from \"./switch.styles\";\nimport {MyElement} from \"./element\";\n\nexport class RSSwitch extends MyElement {\n\n  static override styles = style_switch;\n\n  constructor(){\n    super();\n  }\n\n  get is_on(): boolean {\n    if (!this.conf || !this.conf.name) return false;\n    return this.stateObj?.state === 'on';\n  }\n\n  protected override _render(_style: string = ''): any {\n    if (this.conf.style==\"switch\"){\n      return html`\n            <div class=\"switch_${this.stateObj.state}\">\n              <div class=\"switch_in_${this.stateObj.state}\"></div>\n            </div>`;\n\t}//if\n\telse if (this.conf.style==\"button\"){\n\t    if ('color' in this.conf){\n\t\tthis.color=this.conf.color;\n\t    }\n\t    if ('alpha' in this.conf){\n\t\tthis.alpha=this.conf.alpha;\n\t    }\n\t    return html`\n                     <style>\n                       #${this.conf.name}{\n                          background-color: rgba(${this.color},${this.alpha});\n                       }   \n                     </style>\n                     <div class=\"switch_button\"  id=\"${this.conf.name}\">${this.label}</div>\n`;\n\t}\n\telse{\n\t    console.error(\"Switch style \"+this.conf.style+\" unknown for \"+this.conf.name);\n\t}\n  }\n  \n  private _handleSwitchChange = (e: Event): void => {\n    const checkbox = e.target as HTMLInputElement;\n    const newState = checkbox.checked ? 'on' : 'off';\n    // Ici, déclencher l'action tap si configurée\n    if (this.conf?.tap_action) {\n      this._click();\n    }\n  }\n}\n","import {Button} from \"./button\";\nimport {ClickImage} from \"./click_image\";\nimport {Dialog} from \"./dialog\";\nimport {ProgressBar} from \"./progress_bar\";\nimport {ProgressCircle} from \"./progress_circle\";\nimport {RSMessages} from \"./messages\";\nimport {SensorTarget} from \"./sensor_target\";\nimport {Sensor} from \"./sensor\";\nimport {RSSwitch} from \"./switch\";\n\n\ncustomElements.define('click-image', ClickImage);\ncustomElements.define('common-button', Button);\ncustomElements.define('common-dialog', Dialog);\ncustomElements.define('common-sensor', Sensor);\ncustomElements.define('common-sensor-target', SensorTarget);\ncustomElements.define('common-switch', RSSwitch);\ncustomElements.define('progress-bar', ProgressBar);\ncustomElements.define('progress-circle', ProgressCircle);\ncustomElements.define('redsea-messages', RSMessages);\n\n","import {css} from \"lit\";\n\nexport default css`\n.device_bg{\n  position: relative;\n  top: 0;\n  left : 0;\n  width: 100%;\n  aspect-ratio: 2/1;\n}\n\n.device_img{\n  position: relative;\n  top: 0;\n  left : 0;\n  width: 100%;\n}\n`\n","export const config = {\n    \"name\": '',\n    \"model\": \"NODEVICE\",\n    \"background_img\": new URL(\"../img/NODEVICE.png\",import.meta.url)\n};\n","import { html, css } from \"lit\";\nimport { customElement, state } from \"lit/decorators.js\";\n\nimport {RSDevice} from \"./device\";\nimport style_nodevice from \"./nodevice.styles\";\n\nimport {config} from \"./mapping/NODEVICE\";\n\n// @ts-expect-error - Class extends RSDevice compatibility\nexport class NoDevice extends RSDevice {\n  static override styles = [style_nodevice];\n\n  //device={'elements':[{'model':'NODEVICE','name':''}]};\n  device={'model':'NODEVICE','name':'','elements':null};\n\n  constructor(){\n    super();\n    this.initial_config=config;\n  }\n\n    _populate_entities(){\n    }  \n\n  protected override _render() {\n\n\tthis.update_config();\n\treturn html`\n                     <p id=\"device_name\">${this.config.name}</p>\n                     <div class=\"device_bg\">\n                       <img class=\"device_img\" src=\"${this.config.background_img}\"/>\n                     </div>\n                     `;\n  }\n}\n","export const config = {\n  \"name\": null,\n  \"model\": \"RSDOSE4\",\n  \"background_img\": new URL(\"../img/RSDOSE4.png\",import.meta.url),\n  \"heads_nb\": 4,\n  \"dialogs\": {\n    \"head_configuration\":{\n      \"name\":\"head_configuration\",\n      \"title_key\":\"${i18n._('head_configuration')}  n° ${config.id}\",\n      \"close_cross\": false,\n      \"content\":[\n\t{\n\t  \"view\": \"common-button\",\n\t  \"conf\": {\n\t    \"type\": \"common-button\",\n\t    \"stateObj\": null,\n\t    \"icon\": \"mdi:cup-water\",\n\t    \"tap_action\":{\n\t      \"domain\":\"redsea_ui\",\n\t      \"action\":\"dialog\",\n\t      \"data\":{\n\t\t\"type\":\"priming\",\n\t\t\"overload_quit\": \"head_configuration\",\n\t      },\n\t    },\n\t    \"label\": \"${i18n._('priming')}\",\n\t    \"class\": \"dialog_button\",\n\t    \"css\":{\n\t      \"margin-bottom\":\"5px\",\n\t      \"text-align\":\"center\",\n\t    },\n\t    \"elt.css\":{\n\t      \"background-color\":\"rgba(0,0,0,0)\",\n\t    }\n\t  }\n\t},\t\n\t{\n\t  \"view\": \"common-button\",\n\t  \"conf\": {\n\t    \"type\": \"common-button\",\n\t    \"stateObj\": null,\n\t    \"icon\": \"mdi:cog-outline\",\n\t    \"tap_action\":{\n\t      \"domain\":\"redsea_ui\",\n\t      \"action\":\"dialog\",\n\t      \"data\":{\n\t\t\"type\":\"head_calibration\",\n\t\t\"overload_quit\": \"head_configuration\",\n\t      }\n\t    },\n\t    \"label\": \"${i18n._('calibration')}\",\n\t    \"class\": \"dialog_button\",\n\t    \"css\":{\n\t    },\n\t    \"elt.css\":{\n\t      \"background-color\":\"rgba(0,0,0,0)\",\n\t    }\n\t  },\n\t},\n\t{\n\t  \"view\":\"extend\",\n\t  \"extend\":\"dose_head_dialog\",\n\t}\n\t\n      ],\n    },\n    \"head_calibration\":{\n      \"name\":\"head_calibration\",\n      \"title_key\":\"${i18n._('calibration')} +' n°'+ this.elt.device.config.id\",\n      \"close_cross\": false,\n      \"content\":[\n\t{\n\t  \"view\": \"click-image\",\n\t  \"conf\":{\n\t    \"image\":'/hacsfiles/ha-reef-card/head_calibration.png',\n\t    \"type\": \"clic-_image\",\n\t    \"stateObj\":null,\n\t    \"tap_action\":[],\n\t    \"elt.css\":{\n\t      \"width\":\"30%\",\n\t      \"margin-left\":\"35%\",\n\t    }\n\t  }\n\t},\n\t{\n\t  \"view\": \"text\",\n\t  \"value\": \"${i18n._('calibration_step_1')}\"\n\t},\n      ],\n      \"validate\": {\n\t\"label\": \"${i18n._('start_calibration')}\",\n\t\"class\": \"dialog_button\",\n\t\"type\": \"common-button\",\n\t\"stateObj\":null,\n\t\"tap_action\":[\n\t  {\n\t    \"domain\":\"button\",\n\t    \"action\":\"press\",\n\t    \"data\": {\"entity_id\":\"start_calibration\"},\n\t  },\n\t  {\n\t    \"domain\": \"redsea_ui\",\n\t    \"action\": \"dialog\",\n\t    \"data\": {\"type\":\"head_calibration_step_2\"},\n\t  } \n\t]\n      }\n      \n    },\n    \"head_calibration_step_2\":{\n      \"name\":\"head_calibration_step_2\",\n      \"title_key\":\"${i18n._('calibration')} +' n°'+ this.elt.device.config.id\",\n      \"close_cross\": true,\n      \"content\":[\n\t{\n\t  \"view\": \"text\",\n\t  \"value\": \"${i18n._('calibration_step_2')}\"\n\t},\n\t{\n\t  \"view\": \"click-image\",\n\t  \"conf\":{\n\t    \"image\":'/hacsfiles/ha-reef-card/read_graduated.jpg',\n\t    \"type\": \"clic-_image\",\n\t    \"stateObj\":null,\n\t    \"tap_action\":[],\n\t    \"elt.css\":{\n\t      \"width\":\"30%\",\n\t      \"margin-left\":\"35%\",\n\t    }\n\t  }\n\t},\n\t\n\t{\n\t  \"view\": \"hui-entities-card\",\n\t  \"conf\":{\n\t    \"type\":\"entities\",\n\t    \"entities\": [\n\t      {\"entity\":\"calibration_dose_value\",\"name\":{\"type\":\"entity\"}},\n\t    ]\n\t  }\n\t},\n      ],\n      \"validate\": {\n\t\"label\": \"${i18n._('set_calibration')}\",\n\t\"class\": \"dialog_button\",\n\t\"type\": \"common-button\",\n\t\"stateObj\":null,\n\t\"tap_action\":[\n\t  {\n\t    \"domain\":\"button\",\n\t    \"action\":\"press\",\n\t    \"data\": {\"entity_id\":\"set_calibration_value\"},\n\t  },\n\t  {\n\t    \"domain\": \"redsea_ui\",\n\t    \"action\": \"dialog\",\n\t    \"data\": {\"type\":\"head_calibration_step_3\"},\n\t  } \n\t]\n      }\n    },\n    \"test_calibration\":{\n      \"name\": \"test_calibration\",\n      \"title_key\":\"${i18n._('calibration')} +' n°'+ this.elt.device.config.id\",\n      \"content\":[\n\t{\n\t  \"view\": \"text\",\n\t  \"value\": \"${i18n._('test_calibration_validation')}\"\n\t},\n\t{\n\t  \"view\": \"click-image\",\n\t  \"conf\":{\n\t    \"image\":'/hacsfiles/ha-reef-card/read_graduated.jpg',\n\t    \"type\": \"clic-_image\",\n\t    \"stateObj\":null,\n\t    \"tap_action\":[],\n\t    \"elt.css\":{\n\t      \"width\":\"30%\",\n\t      \"margin-left\":\"35%\",\n\t    }\n\t  }\n\t},\n\t{\n\t  \"view\": \"common-button\",\n\t  \"conf\": {\n\t    \"type\": \"common-button\",\n\t    \"stateObj\": null,\n\t    \"tap_action\":[\n\t      {\n\t\t\"domain\":\"button\",\n\t\t\"action\":\"press\",\n\t\t\"data\": {\"entity_id\":\"end_calibration\"}\n\t      },\n\t      {\n\t\t\"domain\":\"redsea_ui\",\n\t\t\"action\":\"dialog\",\n\t\t\"data\":{\"type\": \"head_calibration\"},\n\t      },\n\t    ],\n\t    \"label\": \"${i18n._('no')}\",\n\t    \"class\": \"dialog_button\",\n\t    \"css\":{\n\t      \"margin-bottom\":\"5px\",\n\t      \"text-align\":\"center\",\n\t    },\n\t    \"elt.css\":{\n\t      \"background-color\":\"rgba(0,0,0,0)\",\n\t    }\n\t  }\n\t},\t\n      ],\n      \"validate\": {\n\t\"label\": \"${i18n._('yes')}\",\n\t\"class\": \"dialog_button\",\n\t\"type\": \"common-button\",\n\t\"stateObj\":null,\n\t\"tap_action\":[\n\t  {\n\t    \"domain\":\"button\",\n\t    \"action\":\"press\",\n\t    \"data\": {\"entity_id\":\"end_calibration\"},\n\t  },\n\t  {\n\t    \"domain\": \"redsea_ui\",\n\t    \"action\": \"exit-dialog\",\n\t  } \n\t]\n      }\n      \n    },\n    \"head_calibration_step_3\":{\n      \"name\":\"head_calibration_step_3\",\n      \"title_key\":\"${i18n._('calibration')} +' n°'+ this.elt.device.config.id\",\n      \"content\":[\n\t{\n\t  \"view\": \"text\",\n\t  \"value\": \"${i18n._('test_calibration_description')}\"\n\t},\n\t{\n\t  \"view\": \"click-image\",\n\t  \"conf\":{\n\t    \"image\":'/hacsfiles/ha-reef-card/head_calibration.png',\n\t    \"type\": \"clic-_image\",\n\t    \"stateObj\":null,\n\t    \"tap_action\":[],\n\t    \"elt.css\":{\n\t      \"width\":\"20%\",\n\t      \"margin-left\":\"35%\",\n\t    }\n\t  }\n\t},\n\t{\n\t  \"view\": \"common-button\",\n\t  \"conf\": {\n\t    \"type\": \"common-button\",\n\t    \"stateObj\": null,\n\t    \"icon\": \"mdi:test-tube\",\n\t    \"tap_action\":[\n\t      {\n\t\t\"domain\":\"button\",\n\t\t\"action\":\"press\",\n\t\t\"data\":{\n\t\t  \"entity_id\":\"test_calibration\",\n\t\t},\n\t      },\n\t      {\n\t\t\"domain\":\"redsea_ui\",\n\t\t\"action\":\"dialog\",\n\t\t\"data\":{\n\t\t  \"type\":\"test_calibration\",\n\t\t},\n\t      },\n\t    ],\n\t    \"label\": \"${i18n._('test_calibration')}\",\n\t    \"class\": \"dialog_button\",\n\t    \"css\":{\n\t      \"margin-bottom\":\"5px\",\n\t      \"text-align\":\"center\",\n\t    },\n\t    \"elt.css\":{\n\t      \"background-color\":\"rgba(0,0,0,0)\",\n\t    }\n\t  }\n\t},\t\n      ],\n      \"validate\": {\n\t\"label\": \"${i18n._('finish')}\",\n\t\"class\": \"dialog_button\",\n\t\"type\": \"common-button\",\n\t\"stateObj\":null,\n\t\"tap_action\":[\n\t  {\n\t    \"domain\":\"button\",\n\t    \"action\":\"press\",\n\t    \"data\": {\"entity_id\":\"end_calibration\"},\n\t  },\n\t  {\n\t    \"domain\": \"redsea_ui\",\n\t    \"action\": \"exit-dialog\",\n\t  } \n\t]\n      }\n      \n    },\n    \"priming\":{\n      \"name\":\"priming\",\n      \"title_key\":\"${i18n._('priming')} +' n°'+ this.elt.device.config.id\",\n      \"close_cross\": true,\n      \"content\":[\n\t{\n\t  \"view\": \"click-image\",\n\t  \"conf\":{\n\t    \"image\":'/hacsfiles/ha-reef-card/priming.png',\n\t    \"type\": \"clic-_image\",\n\t    \"stateObj\":null,\n\t    \"tap_action\":[],\n\t    \"elt.css\":{\n\t      \"width\":\"30%\",\n\t      \"margin-left\":\"35%\",\n\t    }\n\t  }\n\t},\n\t{\n\t  \"view\": \"hui-entities-card\",\n\t  \"conf\":{\n\t    \"type\":\"entities\",\n\t    \"entities\": [\n\t      {\"entity\":\"start_priming\",\"name\":{\"type\":\"entity\"}},\n\t      {\"entity\":\"stop_priming\",\"name\":{\"type\":\"entity\"}},\n\t    ]\n\t  }\n\t},\n      ],\n      \"validate\": {\n\t\"label\": \"${i18n._('next')}\",\n\t\"class\": \"dialog_button\",\n\t\"type\": \"common-button\",\n\t\"stateObj\":null,\n\t\"tap_action\":[\n\t  {\n\t    \"domain\": \"redsea_ui\",\n\t    \"action\": \"dialog\",\n\t    \"data\": {\"type\":\"head_calibration\"},\n\t  } \n\t]\n      }\n    },\n    \"edit_container\":{\n      \"name\":\"edit_container\",\n      \"title_key\":\"${i18n._('dialog_edit_container')} +' n°'+ this.elt.device.config.id\",\n      \"close_cross\": false,\n      \"content\":[\n\t{\n\t  \"view\":\"extend\",\n\t  \"extend\":\"dose_head_dialog\",\n\t},\n\t{\n\t  \"view\": \"hui-entities-card\",\n\t  \"conf\":{\n\t    \"type\":\"entities\",\n\t    \"entities\": [\n\t      {\"entity\":\"slm\",\"name\":{\"type\":\"entity\"}},\n\t      {\"entity\":\"save_initial_container_volume\",\"name\":{\"type\":\"entity\"}},\n\t      {\"entity\":\"container_volume\",\"name\":{\"type\":\"entity\"}},\n\t    ]\n\t  }\n\t},\n\t{\n\t  \"view\": \"click-image\",\n\t  \"conf\":{\n\t    \"image\":'/hacsfiles/ha-reef-card/img/trash.svg',\n\t    \"type\": \"clic-_image\",\n\t    \"stateObj\":null,\n\t    \"tap_action\":[\n\t      {\n\t\t\"domain\": \"redsea_ui\",\n\t\t\"action\": \"dialog\",\n\t\t\"data\": {\"type\":\"delete_container\"},\n\t      } \n\t    ],\n\t    \"elt.css\":{\n\t      \"position\":\"absolute\",\n\t      \"top\":\"7%\",\n\t      \"right\": \"5%\",\n\t    }\n\t  }\n\t},\n      ],\n    },\n    \"delete_container\":{\n      \"name\": \"delete_container\",\n      \"title_key\":\"${i18n._('dialog_delete_supplement_title')} +' n°'+ this.elt.device.config.id\",\n      \"close_cross\": false,\n      \"content\":[],\n      \"validate\": {\n\t\"label\": \"${i18n._('delete')}\",\n\t\"class\": \"dialog_button\",\n\t\"type\": \"common-button\",\n\t\"stateObj\":null,\n\t\"tap_action\":[\n\t  {\n\t    \"domain\": \"button\",\n\t    \"action\": \"press\",\n\t    \"data\": {\"entity_id\":\"delete_supplement\"},\n\t  },\n\t  {\n\t    \"domain\": \"redsea_ui\",\n\t    \"action\": \"message_box\",\n\t    \"data\":\"${i18n._('delete_wait')}\",\n\t  },\n\t  {\n\t    \"domain\": \"redsea_ui\",\n\t    \"action\": \"exit-dialog\",\n\t  },\n\t]\n      },\n      \"cancel\":true,\n    },\n    \"add_supplement\":{\n      \"name\": \"add_supplement\",\n      \"title_key\":\"${i18n._('dialog_add_supplement_title')} +' n°'+ this.elt.device.config.id\",\n      \"close_cross\": true,\n      \"content\":[\n\t{\n\t  \"view\": \"hui-entities-card\",\n\t  \"conf\":{\n\t    \"type\":\"entities\",\n\t    \"entities\": [\n\t      {\"entity\":\"supplements\",\"name\":{\"type\":\"entity\"}},\n\t    ]\n\t  },\n\t},\n\t{\n\t  \"view\":\"extend\",\n\t  \"extend\":\"dose_head_dialog\",\n\t  \"re_render\": true,\n\t},\n\t\n      ],\n      \"validate\": {\n\t\"label\": \"${i18n._('next')}\",\n\t\"class\": \"dialog_button\",\n\t\"type\": \"common-button\",\n\t\"stateObj\":null,\n\t\"tap_action\":[\n\t  {\n\t    \"domain\": \"button\",\n\t    \"action\": \"press\",\n\t    \"data\": {\"entity_id\":\"set_supplement\"},\n\t  },\n\t  {\n\t    \"domain\": \"redsea_ui\",\n\t    \"action\": \"dialog\",\n\t    \"data\": {\"type\":\"set_container_volume\"},\n\t  } \n\t]\n      }\n    },\n    \"set_container_volume\":{\n      \"name\":\"set_container_volume\",\n      \"close_cross\": true,\n      \"title_key\": \"${i18n._('set_container_volume')}\",\n      \"content\":[\n\t{\n\t  \"view\":\"extend\",\n\t  \"extend\":\"dose_head_dialog\",\n\t},\n\t{\n\t  \"view\": \"hui-entities-card\",\n\t  \"conf\":{\n\t    \"type\":\"entities\",\n\t    \"entities\": [\n\t      {\"entity\":\"slm\",\"name\":{\"type\":\"entity\"}},\n\t      {\"entity\":\"save_initial_container_volume\",\"name\":{\"type\":\"entity\"}},\n\t      {\"entity\":\"container_volume\",\"name\":{\"type\":\"entity\"}},\n\t    ]\n\t  }\n\t}\n      ],\n      \"validate\": {\n\t\"label\": \"${i18n._('next')}\",\n\t\"class\": \"dialog_button\",\n\t\"type\": \"common-button\",\n\t\"stateObj\":null,\n\t\"tap_action\":[\n\t  {\n\t    \"domain\": \"redsea_ui\",\n\t    \"action\": \"dialog\",\n\t    \"data\": {\"type\":\"priming\"},\n\t  } \n\t]\n      }\n      \n    },\n    \"set_manual_head_volume\":{\n      \"name\": \"set_manual_head_volume\",\n      \"title_key\": \"${i18n._('set_manual_head_volume')}\",\n      \"close_cross\": true,\n      \"content\":[\n\t{\n\t  \"view\":\"extend\",\n\t  \"extend\":\"dose_head_dialog\",\n\t},\n\t{\"view\":\"hui-entities-card\",\n\t \"conf\":{\n\t   \"type\":\"entities\",\n\t   \"entities\":[\n\t     {\"entity\":\"supplement\",\"name\":{\"type\":\"entity\"}},\n\t     {\"entity\":\"manual_head_volume\",\"name\":{\"type\":\"entity\"}},\n\t     {\"entity\":\"manual_head\",\"name\":{\"type\":\"entity\"}},\n\t     // \"manual_head\", can also be only a string but display name is full\n\t   ]}\n\t   },\n\t ],\n\t},\n\t\"auto_dose\":{\n\t  \"title_key\": \"set_auto_dose\",\n\t  \"name\": \"auto_dose\",\n\t  \"close_cross\": true,\n\t  \"content\":[\n\t    {\"view\":\"hui-entities-card\",\n\t     \"conf\":{\n\t       \"type\":\"entities\",\n\t       \"entities\":[\n\t\t {\"entity\":\"daily_dose\",\"name\":{\"type\":\"entity\"}},\n\t       ]}\n\t    },\n\t  ],\n\t  \"validate\": {\n\t    \"tap_action\": {\n\t      \"domain\": \"redsea_ui\",\n\t      \"action\": \"exit-dialog\",\n\t    }\n\t  }\n\t}\n      },\n      \"elements\": {\n\t\"last_message\":{\n\t  \"name\": \"last_message\",\n\t  \"type\":\"redsea-messages\",\n\t  \"css\":{\n\t    \"flex\": \"0 0 auto\",\n\t    \"position\": \"absolute\",\n\t    \"width\": \"100%\",\n\t    \"height\": \"15px\",\n\t    \"top\": \"33%\",\n\t    \"left\": \"0px\",\n\t  },\n\t  \"elt.css\":{\n\t    \"background-color\": \"rgba(220,220,220,0.7)\",\n\t  }\n\t},\n\t\"last_alert_message\":{\n\t  \"name\": \"last_alert_message\",\n\t  \"type\":\"redsea-messages\",\n\t  \"label\":\"'⚠'\",\n\t  /* \"tap_action\": { \t\t\"domain\": \"switch\",\n\t     \"action\":\"toggle\",\n\t     \"data\": \"default\",\n\t     // \"data\": {\"entity_id\":\"switch.ifmu_rsdose4_4647319427_head_4_schedule_enabled\"},\n\t     },*/\n\t  \"css\":{\n\t    \"color\": \"red\",\n\t    \"flex\": \"0 0 auto\",\n\t    \"position\": \"absolute\",\n\t    \"width\": \"100%\",\n\t    \"height\": \"20px\",\n\t    \"top\": \"37%\",\n\t    \"left\": \"0px\",\n\t  },\n\t  \"elt.css\":{\n\t    \"background-color\": \"rgba(240,200,200,0.7)\",\n\t  }\n\t},\n\t\"device_state\":{\n\t  \"name\": \"device_state\",\n\t  \"master\": true, // If true, the changes of state of this element force a device redraw\n\t  \"type\":\"common-switch\",\n\t  \"label\":false,\n\t  \"class\":\"on_off\",\n\t  \"style\": \"switch\",\n\t  \"tap_action\": {\n\t    \"domain\": \"switch\",\n\t    \"action\":\"toggle\",\n\t    \"data\": \"default\",\n\t    // \"data\": {\"entity_id\":\"switch.ifmu_rsdose4_4647319427_head_4_schedule_enabled\"},\n\t  },\n\t    \"css\":{\n\t      \"flex\": \"0 0 auto\",\n\t      \"position\": \"absolute\",\n\t      \"width\": \"5.5%\",\n\t      \"height\": \"2%\",\n\t      \"border-radius\": \"50%\",\n\t      \"top\": \"28%\",\n\t      \"left\": \"2%\",\n\t    }\n\t  },\n\t  \"maintenance\":{\n\t    \"name\": \"maintenance\",\n\t    \"type\":\"common-switch\",\n\t    \"master\": true,\n\t    \"label\":false,\n\t    \"class\":\"on_off\",\n\t    \"style\": \"switch\",\n\t    \"tap_action\": {\n\t      \"enabled\": true,\n\t      \"domain\": \"switch\",\n\t      \"action\":\"toggle\",\n\t      \"data\": \"default\",\n\t    },\n\t    \"css\":{\n\t      \"flex\": \"0 0 auto\",\n\t      \"position\": \"absolute\",\n\t      \"width\": \"5.5%\",\n\t      \"height\": \"2%\",\n\t      \"border-radius\": \"50%\",\n\t      \"top\": \"22%\",\n\t      \"left\": \"2%\",\n\t    }\n\t  },\n\t},\n\t\"dosing_queue\":{\n\t  \"type\": \"redsea-dosing-queue\",\n\t  \"name\": \"dosing_queue\",\n\t  \"css\":{\n\t    \"text-align\": \"center\",\n            \"border\": \"1px solid black\",\n\t    \"border-radius\": \"15px\",\n            \"background-color\": \"rgb(200,200,200)\",\n            \"position\": \"absolute\",\n            \"width\": \"12%\",\n            \"height\": \"45%\",\n            \"left\": \"88%\",\n            \"top\": \"45%\",\n            \"font-size\": \"x-small\",\n            \"overflow-x\": \"hidden\",\n            \"overflow-y\": \"auto\",\n\t    \"scrollbar-color\": \"gray rgb(255,255,255,0)\",\n\t  },\n\t},\n\t\"heads\": {\n\t  \"common\" :{\n\t    \"alpha\": \"0.6\",\n\t    \"shortcuts=\":\"\",\n\t    \"css\":{\n\t      \"top\":\"0%\",\n\t      \"left\": \"50%\",\n\t      \"position\":\"absolute\",\n\t      \"flex\":\"0 0 auto\",\n\t      \"width\": \"31%\",\n\t      \"height\": \"100%\",\n\t    },\n\t    \"container\":{\n\t      \"css\":{\n\t\t\"position\": \"absolute\",\n\t\t\"top\": \"41%\",\n\t\t\"width\": \"68%\",\n\t\t\"aspect-ratio\": \"1/3\",\n\t      },\n\t    },\n\t    \"warning\" :{\n\t      \"css\":{\n\t\t\"width\": \"58%\",\n\t\t\"position\": \"absolute\",\n\t\t\"left\": \"28%\",\n\t\t\"top\": \"30%\",\n\t\t\"animation\": \"blink 1s\",\n\t\t\"animation-iteration-count\": \"infinite\",\n\t      },\n\t    },\n\t    \"warning_label\" :{\n\t      \"css\":{\n\t\t\"width\": \"58%\",\n\t\t\"position\": \"absolute\",\n\t\t\"left\": \"28%\",\n\t\t\"top\": \"47%\",\n\t\t\"animation\": \"blink 1s\",\n\t\t\"animation-iteration-count\": \"infinite\",\n\t\t\"background-color\": \"#df1800\",\n\t\t\"text-align\": \"center\",\n\t\t\"border-radius\": \"20px\",\n\t\t\"color\": \"#ffff00\",\n\t\t\"font-weight\": \"bold\",\n\t      },\n\t    },\n\t    \"pump_state_head\":{\n\t      \"css\":{\n\t\t\"position\": \"absolute\",\n\t\t\"aspect-ratio\": \"1/1\",\n\t\t\"width\": \"55%\",\n\t\t\"border-radius\": \"50%\",\n\t\t\"top\": \"9.5%\",\n\t\t\"left\": \"32%\",\n\t      },\n\t    },\n\t    \"pump_state_labels\":{\n\t      \"css\":{\n\t\t\"aspect-ratio\": \"1/1\",\n\t\t\"width\": \"100%\",\n\t\t\"display\": \"grid\",\n\t\t\"grid-template-columns\": \"1\",\n\t\t\"grid-template-rows\": \"3\",\n\t\t\"grid-gap\": \"0px\",\n\t      }\n\t    },\n\t    \"pipe\": {\n\t      \"css\": {\n\t\t\"flex\":\" 0 0 auto\",\n                \"position\":\" absolute\",\n                \"width\":\" 70%\",\n                \"top\":\" 32%\",\n                \"left\":\" 30%\",\n\t      },\n\t    },\n\t    \"calibration\": {\n\t      \"css\":{\n\t\t\"flex\": \"0 0 auto\",\n                \"position\": \"absolute\",\n                \"width\": \"50%\",\n                \"top\": \"10%\",\n                \"left\": \"35%\",\n\t\t\"filter\": \"none\",\n\t\t\"animation\": \"blink 1s\",\n\t\t\"animation-iteration-count\": \"infinite\",\n\t      }\n\t    },\n\t    \"elements\": {\n\t      \"supplement\":{\n\t\t\"name\": \"supplement\",\n\t\t\"label\": \"${stateObj.attributes.supplement.brand_name}: ${stateObj.state}\",\n\t\t\"type\": \"common-sensor\",\n\t\t\"put_in\":\"supplement_info\",\n\t\t\"elt.css\":{\n\t\t  \"position\": \"absolute\",\n\t\t  \"width\": \"60%\",\n\t\t  \"top\": \"30%\",\n\t\t  \"left\": \"30%\",\n\t\t  \"color\": \"white\",\n\t\t  \"background-color\": \"rgba(0,0,0,0)\",\n\t\t}\n\t      },\n\t      \"supplement_bottle\":{\n\t\t\"name\": \"supplement_bottle\",\n\t\t\"label\": null,\n\t\t\"type\": \"common-button\",\n\t\t\"put_in\":\"supplement\",\n\t\t\"stateObj\":null,\n\t\t\"elt.css\":{\n\t\t  \"position\": \"absolute\",\n\t\t  \"background-color\": \"rgba(0,80,120,0)\",\n\t\t},\n\t\t\"tap_action\":{\n\t\t  \"domain\": \"redsea_ui\",\n\t\t  \"action\" : \"dialog\",\n\t\t  \"data\": {\"type\":\"edit_container\"}\n\t\t}\n\t      },\n\t      \"manual_head_volume\":{\n\t\t\"name\": \"manual_head_volume\",\n\t\t\"force_integer\": true,\n\t\t\"type\": \"common-sensor\",\n\t\t\"css\":{\n\t\t  \"position\": \"absolute\",\n\t\t  \"width\": \"60%\",\n\t\t  \"top\": \"0%\",\n\t\t  \"left\": \"20%\",\n\t\t  \"background-color\": \"$DEVICE-COLOR-ALPHA$\",\n\t\t  \"border-radius\": \"30px\",\n\t\t  \"text-align\": \"center\",\n\t\t  \"padding-left\": \"5px\",\n\t\t  \"padding-right\": \"5px\"\n\t\t},\n\t\t\"tap_action\": {\n\t\t  \"domain\": \"redsea_ui\",\n\t\t  \"action\" : \"dialog\",\n\t\t  \"data\": {\"type\":\"set_manual_head_volume\"}\n\t\t}\n\t      },\n\t      \"manual_dosed_today\":{\n\t\t\"name\": \"manual_dosed_today\",\n\t\t\"type\": \"common-sensor\",\n\t\t\"force_integer\": true,\n\t\t\"put_in\": \"pump_state_labels\",\n\t\t\"class\": \"scheduler_label_top\",\n\t\t\"disabled_if\": \"${state}<1\",\n\t\t\"prefix\": \"+\",\n\t\t\"css\":{\n\t\t  \"text-align\": \"center\",\n\t\t  \"grid-column\": \"1\",\n\t\t  \"grid-row\": \"1\",\n\t\t  \"color\": \"rgb(250,230,130)\",\n\t\t  \"font-weight\": \"bold\",\n\t\t  \"margin-top\":\"10%\",\n\t\t},\n\t      },\n\t      \"auto_dosed_today\":{\n\t\t\"name\": \"auto_dosed_today\",\n\t\t\"target\": \"daily_dose\",\n\t\t\"force_integer\": true,\n\t\t\"put_in\": \"pump_state_labels\",\n\t\t\"class\": \"scheduler_label_middle\",\n\t\t\"type\":\"common-sensor-target\",\n\t\t\"css\":{\n\t\t  \"text-align\":\"center\",\n\t\t  \"color\": \"white\",\n\t\t  \"grid-column\": \"1\",\n\t\t  \"grid-row\": \"2\",\n\t\t  \"font-weight\": \"bold\",\n\t\t  \"font-size\":\"1.2em\",\n\t\t  \"margin-top\":\"-20%\",\n\t\t},\n\t      },\n\t      \"doses_today\":{\n\t\t\"name\": \"doses_today\",\n\t\t\"target\": \"daily_doses\",\n\t\t\"force_integer\": true,\n\t\t\"put_in\": \"pump_state_labels\",\n\t\t\"class\": \"scheduler_label_bottom\",\n\t\t\"type\":\"common-sensor-target\",\n\t\t\"unit\": \"${i18n._('doses')}\",\n\t\t\"css\": {\n\t\t  \"text-align\": \"center\",\n\t\t  \"color\": \"rgb(130,230,250)\",\n\t\t  \"grid-column\": \"1\",\n\t\t  \"grid-row\": \"3\",\n\t\t  \"font-weight\": \"bold\",\n\t\t  \"font-size\":\"0.8em\",\n\t\t  \"margin-top\":\"-20%\",\n\t\t},\n\t      },\n\t      \"container_volume\":{\n\t\t\"name\": \"container_volume\",\n\t\t\"target\": \"save_initial_container_volume\",\n\t\t\"type\": \"progress-bar\",\n\t\t\"class\":\"pg-container\",\n\t\t\"label\": \" ${entity.remaining_days.state} ${i18n._('days_left')}\",\n\t\t\"disabled_if\": \"${entity.slm.state}=='off' || ${entity.daily_dose.state}==0\",\n\t\t\"css\":{\n\t\t  \"position\":\"absolute\",\n\t\t  \"transform\":\"rotate(-90deg)\",\n\t\t  \"top\":\"69%\",\n\t\t  \"left\":\"-60%\",\n\t\t  \"width\":\"140%\",\n\t\t},\n\t      },\n\t      \"auto_dosed_today_circle\":{\n\t\t\"name\": \"auto_dosed_today\",\n\t\t\"target\": \"daily_dose\",\n\t\t\"force_integer\": true,\n\t\t\"type\":\"progress-circle\",\n\t\t\"class\":\"today_dosing\",\n\t\t\"put_in\": \"pump_state_labels\",\n\t\t\"no_value\":true,\n\t\t\"css\":{\n\t\t  \"position\":\"absolute\",\n\t\t  \"top\":\"-23%\",\n\t\t  \"left\":\"-23%\",\n\t\t  \"aspect-ratio\":\"1/1\",\n\t\t  \n\t\t  \"width\":\"140%\",\n\t\t},\n\t      },\n\t      \"schedule_enabled\":{\n\t\t\"alpha\": 0,\n\t\t\"name\": \"schedule_enabled\",\n\t\t\"master\": true,\n\t\t\"type\": \"common-switch\",\n\t\t\"class\": \"pump_state_head\",\n\t\t\"style\": \"button\",\n\t\t\"css\":{\n\t\t  \"position\":\"absolute\",\n\t\t  \"aspect-ratio\":\"1/1\",\n\t\t  \"width\":\"45%\",\n\t\t  \"border-radius\":\"50%\",\n\t\t  \"top\":\"10%\",\n\t\t  \"left\":\"32.5%\",\n\t\t},\n\t\t\"hold_action\": {\n\t\t  \"enabled\": true,\n\t\t  \"domain\": \"switch\",\n\t\t  \"action\":\"toggle\",\n\t\t  \"data\": \"default\",\n\t\t},\n\t\t\"tap_action\": {\n\t\t  \"domain\": \"redsea_ui\",\n\t\t  \"action\":\"dialog\",\n\t\t  \"data\": {\"type\":\"head_configuration\"}\n\t\t}\n\t      },\n\t      \"manual_head\":{\n\t\t\"name\": \"manual_head\",\n\t\t\"type\": \"common-button\",\n\t\t\"class\": \"manual_dose_head\",\n\t\t\"css\":{\n\t\t  \"position\":\" absolute\",\n                  \"aspect-ratio\":\" 1/1\",\n                  \"width\":\" 15%\",\n                  \"border-radius\":\" 50%\",\n                  \"top\":\" 5%\",\n                  \"left\":\" 33%;\",\n\t\t  \"background-color\": \"$DEVICE-COLOR-ALPHA$\",\n\t\t},\n\t\t\"tap_action\": {\n\t\t  \"domain\": \"button\",\n\t\t  \"action\":\"press\",\n\t\t  \"data\": \"default\",\n\t\t}\n\t      }\n\t    }\n\t  },\n\t  \"head_1\": {\n\t    \"id\" : 1,\n\t    \"color\": \"140,67,148\",\n\t    \"css\":{\n\t      \"left\":\"1%\",\n\t    },\n\t    \"calibration\":{\n\t      \"css\":{\n\t\t\"left\":\"33%\",\n\t      },\n\t    }\n\t  },\n\t  \"head_2\": {\n\t    \"id\" : 2,\n\t    \"color\": \"0,129,197\",\n\t    \"css\":{\n\t      \"left\":\"23%\",\n\t    },\n\t  },\n\t  \"head_3\": {\n\t    \"id\" : 3,\n\t    \"color\": \"0,130,100\",\n\t    \"css\":{\n\t      \"left\":\"44%\",\n\t    },\n\t    \"pump_state_head\":{\n\t      \"css\":{\n\t\t\"left\": \"37%\",\n\t      },\n\t    },\n\t    \"calibration\":{\n\t      \"css\":{\n\t\t\"left\":\"37%\",\n\t      },\n\t    }\n\n\t  },\n\t  \"head_4\": {\n\t    \"id\" : 4,\n\t    \"color\": \"100,160,75\",\n\t    \"css\":{\n\t      \"left\":\"65%\",\n\t    },\n\t    \"pump_state_head\":{\n\t      \"css\":{\n\t\t\"left\": \"41%\",\n\t      },\n\t    },\n\t    \"calibration\":{\n\t      \"css\":{\n\t\t\"left\":\"41%\",\n\t      },\n\t    }\n\t    \n\t  }\n\t}\n      };\n","import {css} from 'lit';\n\nexport default css`\n`;\n","import {css} from 'lit';\n\nexport default css`\n.device_bg{\n    position: relative;\n    top: 0;\n    left : 0;\n    width: 100%;\n    aspect-ratio: 1/1.2;\n    }\n\n.device_img{\n    position: relative;\n    top: 0;\n    left : 0;\n    width: 100%;\n    }\n\n.device_img_disabled{\n    position: relative;\n    top: 0;\n    left : 0;\n    width: 100%;\n    filter: grayscale(80%);\n    }\n\n.disabled_in_ha{\n  color: white;\n  text-align: center;\n  position : absolute;\n  width: 100%;\n  top:15%;\n  left: 0%;\n  background-color:rgba(255,0,0,0.5);\n}\n`\n;\n","// @ts-nocheck\nimport { html } from \"lit\";\nimport {RSDevice} from \"./device\";\nimport {config} from \"./mapping/RSDOSE4\";\nimport DoseHead from \"./dose_head\";\n\nimport style_rsdose from \"./rsdose.styles\";\nimport style_common from \"./common.styles\";\n\nimport i18n from \"../translations/myi18n\";\n\nimport {rgbToHex,hexToRgb} from \"../common\";\nimport {merge} from \"../merge\";\n\nimport {DosingQueue} from \"./dosing_queue\";\nimport {MyElement} from \"./base/element\";\nimport {RSMessages} from './base/messages';\n\ninterface HeadEntity {\n  entities: Record<string, any>;\n  dose_head?: any;\n}\n\n\n// TODO: RSDOSE Implement advanced schedule edition\n// Issue URL: https://github.com/Elwinmage/ha-reef-card/issues/14\n// labels: enhancement, rsdose\nexport class RSDose extends RSDevice{\n\n  // TODO: RSDOSE Implement baifc services\n  // Issue URL: https://github.com/Elwinmage/ha-reef-card/issues/13\n  // labels: enhancement, rsdose\n  static styles = [style_rsdose,style_common];\n  _heads: HeadEntity[] = [];\n  supplement_color: Record<string, any> = {};\n  dosing_queue: DosingQueue | null = null;\n\n  static get properties(){\n    return{\n      supplement_color: {},\n    }\n  }\n  \n  constructor(){\n    super();\n    this.supplement_color={};\n    this.initial_config=config;\n    this.dosing_queue=null;\n  }// end of constructor\n\n  set hass(obj: any){\n    this._setting_hass(obj);\n    for (const head of this._heads){\n      if ('dose_head' in head){\n\thead.dose_head.hass=obj;\n      }\n    }\n    if(this.dosing_queue){\n      this.dosing_queue.hass=obj;\n    }\n  }\n  \n  _populate_entities(): void {\n    \n  }\n\n  _populate_entities_with_heads(): void {\n    this.update_config();\n    for (let i=0; i<=this.config.heads_nb;i++){\n      this._heads.push({'entities':{}});\n    }\n    if (!this._hass) return;\n    \n    for (const entity_id in this._hass.entities){\n      const entity=this._hass.entities[entity_id];\n      if (!this.device) continue;\n      \n      for (const d of this.device.elements){\n\tconst fname=d['identifiers'][0][1].split(\"_\");\n\tlet head_id=0;\n\tif (fname[fname.length  - 2 ] == \"head\"){\n\t  head_id=parseInt(fname[fname.length-1]);\n\t}\n\tif(entity.device_id == d.id){\n\t  if (head_id==0){\n\t    this.entities[entity.translation_key]=entity;\n\t  }\n\t  else {\n\t    this._heads[head_id]!.entities[entity.translation_key]=entity;\n\t  }\n\t  \n\t}\n      }\n    }\n  }\n\n  _get_val(head,entity_id){\n    let entity = this._hass.states[this.entities[head][entity_id].entity_id];\n    return entity.state;\n  }\n  \n  _render_head(head_id){\n    let dose_head=null;\n    let new_conf=merge(this.config.heads.common,this.config.heads[\"head_\"+head_id]);\n    let schedule_state=(this._hass.states[this._heads[head_id].entities['schedule_enabled'].entity_id].state=='on');\n    if (!this.is_on()){\n      schedule_state=false;\n    }\n    let short_name=this._hass.states[this._heads[head_id].entities['supplement'].entity_id].attributes.supplement.short_name;\n    this.supplement_color[short_name]=this.config.heads['head_'+head_id].color;\n\n    if ( \"dose_head\" in this._heads[head_id]){\n      dose_head=this._heads[head_id][\"dose_head\"];\n      dose_head.state_on=schedule_state;\n      dose_head.device_state=this.is_on();\n      dose_head.hass=this._hass;\n      dose_head.bundle=this.bundle;\n      \n    }\n    else\n    {\n      dose_head=RSDevice.create_device('redsea-dose-head',this._hass,new_conf,this);\n      dose_head.entities=this._heads[head_id].entities;\n      dose_head.stock_alert=this.get_entity('stock_alert_days').state;\n      dose_head.state_on=schedule_state;\n      dose_head.device_state=this.is_on();\n      this._heads[head_id]['dose_head']=dose_head;\n      dose_head.config=new_conf;\n      dose_head.bundle=this.bundle;\n    }\n    \n    return html`\n                    <div class=\"head\" id=\"head_${head_id}\" style=\"${this.get_style(new_conf)}\">\n                       ${dose_head}\n                    </div>\n                    `;\n  }\n\n  _render(){\n    this.to_render=false;\n    console.debug(\"Render rsdose\");\n\n\n    this.update_config();\n    let style=html``;\n    this._populate_entities_with_heads();\n    this.bundle=this.get_entity('bundled_heads').state==\"on\";\n    \n    let disabled=this._render_disabled();\n    if(disabled!=null){\n      return disabled;\n    }\n    if(!this.is_on()){\n      style=html`<style>img{filter: grayscale(90%);}</style>`;\n    }\n    if (this.dosing_queue==null){\n      this.dosing_queue=MyElement.create_element(this._hass,this.config.dosing_queue,this);\n      this.dosing_queue.color_list=this.supplement_color;\n    }\n    \n    return html`\n             \t<div class=\"device_bg\">\n                  ${style}\n          \t  <img class=\"device_img\" id=\"rsdose4_img\" alt=\"\"  src='${this.config.background_img}' />\n                  <div class=\"heads\">\n                     ${Array.from({length:this.config.heads_nb},(x,i) => i+1).map(head => this._render_head(head))}\n                 </div>\n                   ${this.dosing_queue}\n                 ${this._render_elements()}\n               </div>`;\n  }// end of function render\n  \n  _editor_head_color(head_id){\n    // this.update_config();\n    let color=rgbToHex(\"rgb\\(\"+this.config.heads[\"head_\"+head_id].color+\"\\);\");\n    let shortcuts=this.config.heads[\"head_\"+head_id].shortcut;\n    return html `\n             <tr>\n               <td class=\"config_color\">\n                 <input type=\"color\" id=\"head_${head_id}-color\" value=\"${color}\" @change=\"${this.handleChangedEvent}\" @input=\"${this.handleChangedEvent}\" list=\"RedSeaColors\" />\n                 <datalist id=\"RedSeaColors\">\n                   <option>#8c4394</option>\n                   <option>#0081c5</option>\n                   <option>#008264</option>\n                   <option>#64a04b</option>\n                   <option>#582900</option>\n                   <option>#f04e99</option>\n                   <option>#f14b4c</option>\n                   <option>#f08f37</option>\n                   <option>#d9d326</option>\n                   <option>#FFFFFF</option>\n                </datalist>\n                <label class=\"tab-label\">${i18n._(\"head\")} ${head_id}: ${this._hass.states[this._heads[head_id].entities['supplement'].entity_id].state}</label>\n              </td>\n              <td>\n                <input type=\"text\" id=\"head_${head_id}-shortcut\" value=\"${shortcuts}\" @change=\"${this.handleChangedEvent}\" ></input>\n              </td>\n           </tr>`;\n  }// end of function _editor_head_color\n\n  handleChangedDeviceEvent(changedEvent) {\n\n    let value= (changedEvent.currentTarget.checked);\n    let newVal={conf:{[this.current_device.config.model]:{devices:{[this.current_device.device.name]:{elements:{[changedEvent.target.id]:{disabled_if:value}}}}}}};\n    let newConfig = JSON.parse(JSON.stringify(this._config));\n    try{\n      newConfig.conf[this.current_device.config.model].devices[this.current_device.device.name].elements[changedEvent.target.id].disabled_if = value;\n    }\n    catch (error){\n      newConfig=merge(newConfig,newVal);\n    }\n    const messageEvent = new CustomEvent(\"config-changed\", {\n      detail: { config: newConfig },\n      bubbles: true,\n      composed: true,\n    });\n    this.dispatchEvent(messageEvent);\n  }\n  \n  handleChangedEvent(changedEvent) {\n    let i_val=changedEvent.currentTarget.value;\n    const head=changedEvent.target.id.split('-')[0];\n    const field=changedEvent.target.id.split('-')[1]\n    if (field==\"color\"){\n      i_val=hexToRgb(i_val);\n    }\n    let newVal={conf:{[this.current_device.config.model]:{devices:{[this.current_device.device.name]:{heads:{[head]:{[field]:i_val}}}}}}};\n    let newConfig = JSON.parse(JSON.stringify(this._config));\n    \n    try{\n      newConfig.conf[this.current_device.config.model].devices[this.current_device.device.name].heads[changedEvent.target.head][field] = i_val;\n    }\n    catch (error){\n      newConfig=merge(newConfig,newVal);\n    }\n    const messageEvent = new CustomEvent(\"config-changed\", {\n      detail: { config: newConfig },\n      bubbles: true,\n      composed: true,\n    });\n    this.dispatchEvent(messageEvent);\n  }// end of function handleChangedEvent\n\n  is_checked(id){\n    let result=false;\n    if(\"disabled_if\" in this.config.elements[id]){\n      result=this.config.elements[id].disabled_if;\n    }\n    if(result){\n      return html`\n                   <label class=\"switch\">\n                      <input type=\"checkbox\" id=\"${id}\" @change=\"${this.handleChangedDeviceEvent}\" checked />\n                      <span class=\"slider round\"></span>\n                   </label>\n                   <label>${i18n._(id)}</label>                   \n`;\n    }\n    else{\n      return html`\n                   <label class=\"switch\">\n                      <input type=\"checkbox\" id=\"${id}\"  @change=\"${this.handleChangedDeviceEvent}\" />\n                      <span class=\"slider round\"></span>\n                   </label>\n                   <label>${i18n._(id)}</label>                   \n`;\n    }\n  }// end of function is_checked  \n\n  editor(doc){\n    if(this.is_disabled()){\n      return html ``;\n    }\n    this._populate_entities_with_heads();\n    let element = doc.getElementById(\"heads_colors\");\n    if (element){\n      element.reset();\n    }\n    this.update_config();\n    return html`\n                 <hr />\n                 <style>\n/* The switch - the box around the slider */                   .switch {\n                     position: relative;\n                     display: inline-block;\n                     width: 30px;\n                     height: 17px;\n\n                   }\n\n/* Hide default HTML checkbox */                   .switch input {\n                     opacity: 0;\n                     width: 0;\n                     height: 0;\n                   }\n                   \n/* The slider */                   .slider {\n                     position: absolute;\n                     cursor: pointer;\n                     top: 0;\n                     left: 0;\n                     right: 0;\n                     bottom: 0;\n                     background-color: #ccc;\n                     -webkit-transition: .4s;\n                     transition: .4s;\n                   }\n                   \n                   .slider:before {\n                     position: absolute;\n                     content: \"\";\n                     height: 13px;\n                     width: 13px;\n                     left: 2px;\n                     bottom: 2px;\n                     background-color: white;\n                     -webkit-transition: .4s;\n                     transition: .4s;\n                   }\n                   \n                   input:checked + .slider {\n                     background-color: #2196F3;\n                   }\n                   \n                   input:focus + .slider {\n                     box-shadow: 0 0 1px #2196F3;\n                   }\n                   \n                   input:checked + .slider:before {\n                     -webkit-transform: translateX(13px);\n                     -ms-transform: translateX(13px);\n                     transform: translateX(13px);\n                   }\n                   \n/* Rounded sliders */                   .slider.round {\n                     border-radius: 17px;\n                   }\n                   \n                   .slider.round:before {\n                     border-radius: 50%;\n                   }\n                 </style>\n                   <form id=\"heads_colors\">\n                   <table>\n                   <tr><td>\n${this.is_checked(\"last_message\")}\n                   </td><td>\n${this.is_checked(\"last_alert_message\")}\n                   </td></tr>\n                   <tr>\n                     <td class=\"config_header\">${i18n._(\"heads_colors\")}</td>\n                     <td>${i18n._(\"heads_shortcuts\")}</td>\n                   </tr>\n                     ${Array.from({length:this.config.heads_nb},(x,i) => i+1).map(head => this._editor_head_color(head))}\n                 </table>\n                   </form>`;\n    \n  }// end of function editor\n}\n\n","import {css} from 'lit';\n\nexport default css`\nspan.volume_dosing_queue{\nfont-size: x-small;\nwidth: 100%;\n}\n\n.slot{\ncolor: white;\n}\n\n`;\n","// @ts-nocheck\nimport { html } from \"lit\";\n\nimport i18n from \"../translations/myi18n\";\nimport {MyElement} from \"./base/element\"\n\nimport styles from \"./dosing_queue.styles\";\nimport {toTime} from \"../common\";\n\nexport class DosingQueue extends MyElement{\n\n    static styles = [styles];\n\n    static get properties() {\n\treturn {\n\t    state_on:{},\n\t}\n    }\n\n    constructor(){\n\tsuper();\n\tthis.schdedule=null;\n    }\n\n    _render_slot_schedule(slot){\n\tlet bg_color=this.color_list[slot.head];\n\treturn html`\n           <div class=\"slot\" style=\"background-color: rgb(${this.color_list[slot.head]})\">\n             <span class=\"dosing_queue\">\n              ${slot.head}<br />\n              ${slot.volume.toFixed(1)}mL<br />\n              ${toTime(slot.time)}\n             </span><hr />\n          </div>`;\n     }// end of function _render_slot_schedule\n\n\n    set hass(obj){\n\tif (this.stateObj && this.stateObj.attributes.queue != obj.states[this.stateObj.entity_id].attributes.queue){\n\t    this._hass=obj;\n\t    this.stateObj=obj.states[this.stateObj.entity_id];\n\t}\n    }\n    \n    render(){\n      this.schedule=this.stateObj.attributes.queue;\n      if(this.stateOn && this.schedule.length != 0){\n\t    return html`\n                  <div style=\"${this.get_style(this.config)}\">\n                    ${this.schedule.map(slot => this._render_slot_schedule(slot))}\n                  </div>\n   \t    `;\n\t}// if\telse {\n\t    return html``;\n\t}// else    }\n};\n\n// window.customElements.define('doifng-queue', DoifngQueue);\n","import {css} from 'lit';\n\nexport default css`\nsvg{\nstroke: black;\n}\n\n.addSupplement{\n  color:red;\n  position:absolute;\n  width:60%;\n  bottom:15%;\n  left:30%;\n  text-align:center;\n  text-decoration: none;\n  animation:blink 1s linear infinite;;\n}\n\n@keyframes blink {\n    0% {\n        opacity: 1;\n    }\n    50% {\n        opacity: 0;\n    }\n    100% {\n        opacity: 1;\n    }\n}\n\nimg{\n position: absolute;\n width: 100%;\n}\n`;\n","// @ts-nocheck\nimport { html } from \"lit\";\nimport {RSDevice} from \"./device\";\n\nimport styles from \"./dose_head.styles\";\nimport style_sensors from \"./base/sensor.styles\";\nimport style_progress_bar from \"./base/progress_bar.styles\";\n\nimport {off_color} from \"../common.js\";\nimport i18n from \"../translations/myi18n\";\nimport {MyElement} from \"./base/element\";\n\nexport class DoseHead extends RSDevice{\n\n    static styles = [styles,style_sensors];\n\n    static get properties() {\n\treturn {\n\t    state_on:{},\n\t    device_state:{},\n\t    head_state:{},\n\t    supplement:{},\n\t    force_render:false,\n\t}\n    }\n\n    constructor(){\n\tsuper();\n\tthis.supplement=null;\n\tthis.stock_alert=null;\n\tthis.supplement_info=false;\n\tthis.bundle=false;\n    }\n    \n    _pipe_path(){\n\tlet color=this.config.color;\n\tif (! this.state_on ){\n\t    color=off_color;\n\t}\n\treturn html`\n\t\t<svg viewBox=\"0 0 86 56\" style=\"fill:rgb(${color});\">\n\t\t    <path d=\"M 14,0 C 13,12 10,18 7,25 0,34 0,45  0,55 L 12,55 c 0,-8 -0,-16 6,-24 4,-8 8,-17 8,-35 z\"></path>\n\t\t    <path d=\"m 62,0 1,39 c 0,2 1,3 2,5 2,2 2,1 4,2 2,0 4,0 6,-2 2,-2 1,-5 2,-7 l 6,-30 -8,0 -3,8 0,-28 z\"></path>\n\t\t</svg>\n`;\n    }\n\n    _render_container(){\n\tlet supplement_uid=this.supplement.attributes.supplement.uid\n\tlet img=null;\n\tlet warning='';\n\n\timg='/hacsfiles/ha-reef-card/img/supplements/'+supplement_uid+'.supplement.png';\n\t\n\tlet http = new XMLHttpRequest();\n\thttp.open('HEAD', img, false);\n\thttp.send();\n\tif(http.status == 404){\n\t    img='/hacsfiles/ha-reef-card/img/supplements/generic_container.supplement.png'\n\t    this.supplement_info=true;\n\t}\n\t\n\tlet style=html``;\n\tlet color=this.config.color;\n\tif(!this.state_on){\n\t    style=html`<style>img#id_${supplement_uid}{filter: grayscale(90%);}</style>`;\n\t    color=off_color;\n\t}\n\n\tif (parseInt(this.get_entity('remaining_days').state)<parseInt(this.stock_alert) && this.get_entity('slm').state==\"on\" && this.get_entity('daily_dose').state > 0){\n\t    warning=html`<img class='warning' src='${new URL(\"./img/warning.svg\",import.meta.url)}'/ style=\"${this.get_style(this.config.warning)}\" /><div class=\"warning\" style=\"${this.get_style(this.config.warning_label)}\">${i18n._(\"empty\")}</div>`;\n\t    }\n\n\treturn html`\n              <div class=\"container\" style=\"${this.get_style(this.config.container)}\">\n                ${style}\n                <img id=id_${supplement_uid} src='${img}' width=\"100%\" />\n                ${warning}\n                ${this._render_supplement_info()}\n                ${this._render_elements(true,\"supplement\")}\n                ${this._render_ask()}\n              </div>\n            `;\n    }\n\n    _render_supplement_info(){\n\tif (this.supplement_info){\n\n\t    return html`${this._render_elements(true,\"supplement_info\")}`;\n\t}// if\n    }\n\n    _render_ask() {\n\t    let ask='';\n\t    if ( this.supplement_info && !this.supplement.attributes.supplement.is_name_editable){\n\t      ask=html`<a class=\"addSupplement\" target=\"_blank\" href='https:// github.com/Elwinmage/ha-reef-card/issues/new?labels=supplement&title=Add+supplement+picture+for+${this.supplement.attributes.supplement.brand_name.replace(' ','+')}+${this.supplement.attributes.supplement.name.replace(' ','+')}&body=${JSON.stringify(this.supplement.attributes.supplement,null,\"%0D%0A\")}'>+${i18n._(\"ask_add_supplement\")}+</a>`;\t    }// if\n      return html`${ask}`;\n    }\n    \n    is_on(){\n\tlet res=true;\n\n\tif( 'head_state' in this.entities && ( this._hass.states[this.entities['head_state'].entity_id].state==\"not-setup\" ||\n\t\t\t\t\t       !this.device_state ||\n\t\t\t\t\t      (this._hass.states[this.entities['schedule_enabled'].entity_id].state=='off'))){\n\t    res=false;\n\t}\n\treturn res;\n    }\n\n    set hass(obj){\n\tthis._setting_hass(obj);\n\tif(this.is_on() != this.state_on){\n\t    this.state_on=this.is_on();\n\t}\n\tif(this.entites && this.head_state!=this.entities['head_state'].state){\n\t    this.head_state=this.entities['head_state'].state;\n\t}\n\tif(this.entities['supplement'] && this._hass.states[this.entities['supplement'].entity_id].attributes.supplement.uid != this.supplement.attributes.supplement.uid){\n\t    this.supplement=this._hass.states[this.entities['supplement'].entity_id];\n\t}\n    }\n    \n    _render(){\n\tthis.to_render=false;\n\tthis.state_on=this.is_on();\n\tconsole.debug(\"Render dose_head n°\",this.config.id);\n\tthis.supplement=this._hass.states[this.entities['supplement'].entity_id];\n\tif (this.supplement.attributes.supplement.uid!='null'){\n\t    let calibration='';\n\t    let color=this.config.color+\",\"+this.config.alpha;\n\t    \n\t    if (this._hass.states[this.entities['head_state'].entity_id].state==\"not-setup\"){\n\t\tthis.state_on=false;\n\t\tlet conf={\n\t\t    \"image\":new URL(\"./img/configuration.png\",import.meta.url),\n\t\t    \"type\": \"click-image\",\n\t\t    \"class\":\"calibration\",\n\t\t    \"stateObj\":null,\n\t\t    \"tap_action\":[\n\t\t\t{\n\t\t\t    \"domain\": \"redsea_ui\",\n\t\t\t    \"action\": \"dialog\",\n\t\t\t    \"data\": {\"type\":\"head_configuration\"},\n\t\t\t} \n\t\t    ],\n\t\t    \"elt.css\":this.config.calibration.css\n\t\t};\n\t\tcalibration=MyElement.create_element(this._hass,conf,this);\n\t    }\n\t    \n\t    if (! this.state_on ){\n\t\tcolor=off_color+\",\"+this.config.alpha;\n\t    }\n\t    return html`\n               ${this._render_container()}\n   \t        <div class=\"pipe\" style=\"${this.get_style(this.config.pipe)}\">\n \t\t  ${this._pipe_path()}\n\t\t</div>\n                <div class=\"pump_state_head\" style=\"${this.get_style(this.config.pump_state_head)};background-color:rgba(${color});\">\n                  ${this._render_elements(this.state_on,\"pump_state_head\")}\n                  <div class=\"pump_state_labels\" style=\"${this.get_style(this.config.pump_state_labels)}\">\n                    ${this._render_elements(this.state_on,\"pump_state_labels\")}\n                  </div>\n              </div>\n              ${this._render_elements(this.state_on)}\n              ${calibration}\n   \t    `;\n\t}// if\n      else {\n\n\t    let conf={\n\t\t\"type\": \"click-image\",\n\t\t\"stateObj\": false,\n\t\t\"image\":new URL(\"./img/container_add.png\",import.meta.url),\n\t\t\"class\": \"container\",\n\t\t\"tap_action\":{\n\t\t    \"domain\": \"redsea_ui\",\n\t\t    \"action\": \"dialog\",\n\t\t    \"data\": {\"type\": \"add_supplement\"}\n\t\t},\n\t\t\"elt.css\":{\n\t\t    \"width\": \"100%\",\n\t\t}\n\t\t\n\t    };\n\t    let add_img=MyElement.create_element(this._hass,conf,this);\n\t    return html`\n                   <div class=\"container\" style=\"${this.get_style(this.config.container)}\">\n                     ${add_img}\n                   </div>`;\n      }// else\n    }\n};\n\n","import \"./base/index\";\n\nimport {NoDevice} from \"./nodevice\";\nimport {RSDose} from \"./rsdose\";\nimport {DosingQueue} from \"./dosing_queue\";\nimport {DoseHead} from \"./dose_head\";\n\ncustomElements.define('redsea-nodevice',NoDevice);\ncustomElements.define('redsea-rsdose4',RSDose);\ncustomElements.define('redsea-dosing-queue',DosingQueue);\ncustomElements.define('redsea-dose-head', DoseHead);\n","import {ReefCard} from \"./card\";\nimport { ReefCardEditor } from \"./editor\";\n\nimport \"./types/global.d\";\nimport \"./devices/index\";\n\n\n// import { loadHaComponents, DEFAULT_HA_COMPONENTS } from '@kipk/load-ha-components';\n// await loadHaComponents([// 'ha-form',// 'hui-sensor-entity-row'// ]);\n\ncustomElements.define(\"reef-card\",ReefCard);\ncustomElements.define(\"reef-card-editor\",ReefCardEditor);\n\nwindow.customCards = window.customCards || [];\nwindow.customCards.push({\n    type: \"reef-card\",\n    name: \"Reef Tank Card\",\n    description: \"A custom card for reef management.\",\n});\n\n\nwindow.customCards = window.customCards || [];\nwindow.customCards.push({\n  type: \"reef-card-editor\",\n  name: \"Content Card Editor\",\n  preview: false, // Optional - defaults to false\n  description: \"Reef Card!\", // Optional\n  documentationURL: \"https:// github.com/Elwinmage/ha-reef-card\", // Adds a help link in the frontend card editor\n});\n"],"names":["t","e","s","o","n$3","r","n","i","S","c","h","a","l","p","d","u","f","b","y","v","_","m","g","$","x","T","E","A","C","P","V","N","H","I","L","k","M","R","z","j","B","MyI18n","config","en","fr","homeAssistant","detectedLang","lang","normalized","obj","path","keys","current","key","params","result","currentDict","fallbackDict","text","match","normalizedLang","targetLang","dict","prefix","value","fullKey","dictionary","partialDict","existingDict","merged","i18n","DeviceList","hass","name","id","device_id","dev","dev_id","hexToRgb","hex","rgbToHex","orig","regex_trim","color","matches","off_color","toTime","time","seconds","minutes","hours","timeToString","stringToTime","str","s_time","create_select","_shadowRoot","options","selected","translation","suffix","id_suffix","div","label","node","option","opt","create_hour","hour","style_card","css","attachClickHandlers","element","handlers","holdTimeout","clickTimeout","clickCount","holdTriggered","clearHold","clearClick","event","SafeEval","context","expression","processed","error","trimmed","processedExpr","innerExpr","operators","op","parts","part","contextKeys","contextValues","newContext","expressions","expr","condition","processedCondition","template","_MyElement","LitElement","device","entitiesObj","entity","entitiesContext","res","so","sot","conf","Element","label_name","elt","entityData","targetEntity","css_level","style","o_style","device_color","entity_translation_value","state","html","actions","actionsArray","action","a_data","msg","__decorateClass","property","MyElement","isObject","item","mergeDeep","target","sources","source","merge","RSDevice","re_render","lastKey","tree","basePath","newPath","model","device_conf","tag_name","disabled","sub_nb","reason","maintenance","elements","swtch","maintenance_button","put_in","sensor_put_in","customElement","style_dialog","style_click_image","SUPPLEMENTS","Supplements","supplement","supp","bundle_supplement","supplements_list","set_manual_head_volume","shadowRoot","shortcut","content","add_supplement","selected_supplement","img","cc","t_img","http","r_element","infos","set_container_volume","size","edit_container","head_configuration","saved_schedule","form","schedule_type","com.create_select","handle_schedule_type_changes","dd","fname","local_actions","day","save_button","save_schedule","head_configuration_schedule_single","schedule","com.create_hour","head_configuration_schedule_custom","default_interval","intervals","interval","head_configuration_intervals_custom","add_button","head_configuration_schedule_timer","head_configuration_intervals_timer","update_dd","day_id","data","save_schedule_single","save_schedule_hourly","save_schedule_custom","s_id","position","start","end","nd","speed","json_interval","compare_interval","save_schedule_timer","volume","delete_button","head_configuration_delete_interval","vol","head_configuration_schedule_hourly","min","total_volume","total","actionRegistry","dose_head_dialog","run_action","module","args","fn","Dialog","box","_elt","content_conf","input","doc","el","clone","pos","close_conf","submit_conf","cancel_conf","close_cross_class","close_cross","submit_button","cancel_button","ReefCard","selectElement","ReefCardEditor","lit_device","_changesdEvent","newConfig","val","messageEvent","style_button","Button","_style","icon","ClickImage","imageSrc","imageStyle","style_progress_bar","ProgressBar","percent","bar_class","unit","fill","fillColor","style_progress_circle","ProgressCircle","style_messages","RSMessages","sclass","trash","computed_style","style_sensor_target","style_sensors","Sensor","style_sensor","numValue","SensorTarget","style_switch","RSSwitch","style_nodevice","NoDevice","style_rsdose","style_common","RSDose","head","entity_id","head_id","dose_head","new_conf","schedule_state","short_name","shortcuts","changedEvent","newVal","i_val","field","styles$1","DosingQueue","styles","slot","DoseHead","supplement_uid","warning","ask","calibration","add_img"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6]}